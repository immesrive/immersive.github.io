 /**
 * Jeeliz Glasses VTO Widget - https://github.com/jeeliz/jeelizGlassesVTOWidget
 *
 * Copyright 2020 WebAR.rocks ( https://webar.rocks )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

"use strict";var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(pa,qa){return Object.prototype.hasOwnProperty.call(pa,qa)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(pa,qa,ya){if(pa==Array.prototype||pa==Object.prototype)return pa;pa[qa]=ya.value;return pa};
$jscomp.getGlobal=function(pa){pa=["object"==typeof globalThis&&globalThis,pa,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var qa=0;qa<pa.length;++qa){var ya=pa[qa];if(ya&&ya.Math==Math)return ya}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(pa,qa){var ya=$jscomp.propertyToPolyfillSymbol[qa];if(null==ya)return pa[qa];ya=pa[ya];return void 0!==ya?ya:pa[qa]};$jscomp.polyfill=function(pa,qa,ya,Ma){qa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(pa,qa,ya,Ma):$jscomp.polyfillUnisolated(pa,qa,ya,Ma))};
$jscomp.polyfillUnisolated=function(pa,qa,ya,Ma){ya=$jscomp.global;pa=pa.split(".");for(Ma=0;Ma<pa.length-1;Ma++){var va=pa[Ma];if(!(va in ya))return;ya=ya[va]}pa=pa[pa.length-1];Ma=ya[pa];qa=qa(Ma);qa!=Ma&&null!=qa&&$jscomp.defineProperty(ya,pa,{configurable:!0,writable:!0,value:qa})};
$jscomp.polyfillIsolated=function(pa,qa,ya,Ma){var va=pa.split(".");pa=1===va.length;Ma=va[0];Ma=!pa&&Ma in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var zb=0;zb<va.length-1;zb++){var oa=va[zb];if(!(oa in Ma))return;Ma=Ma[oa]}va=va[va.length-1];ya=$jscomp.IS_SYMBOL_NATIVE&&"es6"===ya?Ma[va]:null;qa=qa(ya);null!=qa&&(pa?$jscomp.defineProperty($jscomp.polyfills,va,{configurable:!0,writable:!0,value:qa}):qa!==ya&&($jscomp.propertyToPolyfillSymbol[va]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(va):
$jscomp.POLYFILL_PREFIX+va,va=$jscomp.propertyToPolyfillSymbol[va],$jscomp.defineProperty(Ma,va,{configurable:!0,writable:!0,value:qa})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(pa,qa){for(var ya=1;ya<arguments.length;ya++){var Ma=arguments[ya];if(Ma)for(var va in Ma)$jscomp.owns(Ma,va)&&(pa[va]=Ma[va])}return pa};$jscomp.polyfill("Object.assign",function(pa){return pa||$jscomp.assign},"es6","es3");
$jscomp.arrayIteratorImpl=function(pa){var qa=0;return function(){return qa<pa.length?{done:!1,value:pa[qa++]}:{done:!0}}};$jscomp.arrayIterator=function(pa){return{next:$jscomp.arrayIteratorImpl(pa)}};$jscomp.makeIterator=function(pa){var qa="undefined"!=typeof Symbol&&Symbol.iterator&&pa[Symbol.iterator];return qa?qa.call(pa):$jscomp.arrayIterator(pa)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(pa){function qa(){this.batch_=null}function ya(oa){return oa instanceof va?oa:new va(function(za,Ja){za(oa)})}if(pa&&!$jscomp.FORCE_POLYFILL_PROMISE)return pa;qa.prototype.asyncExecute=function(oa){if(null==this.batch_){this.batch_=[];var za=this;this.asyncExecuteFunction(function(){za.executeBatch_()})}this.batch_.push(oa)};var Ma=$jscomp.global.setTimeout;qa.prototype.asyncExecuteFunction=function(oa){Ma(oa,0)};qa.prototype.executeBatch_=function(){for(;this.batch_&&
this.batch_.length;){var oa=this.batch_;this.batch_=[];for(var za=0;za<oa.length;++za){var Ja=oa[za];oa[za]=null;try{Ja()}catch(Wa){this.asyncThrow_(Wa)}}}this.batch_=null};qa.prototype.asyncThrow_=function(oa){this.asyncExecuteFunction(function(){throw oa;})};var va=function(oa){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var za=this.createResolveAndReject_();try{oa(za.resolve,za.reject)}catch(Ja){za.reject(Ja)}};va.prototype.createResolveAndReject_=function(){function oa(Wa){return function(fb){Ja||
(Ja=!0,Wa.call(za,fb))}}var za=this,Ja=!1;return{resolve:oa(this.resolveTo_),reject:oa(this.reject_)}};va.prototype.resolveTo_=function(oa){if(oa===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(oa instanceof va)this.settleSameAsPromise_(oa);else{a:switch(typeof oa){case "object":var za=null!=oa;break a;case "function":za=!0;break a;default:za=!1}za?this.resolveToNonPromiseObj_(oa):this.fulfill_(oa)}};va.prototype.resolveToNonPromiseObj_=function(oa){var za=void 0;
try{za=oa.then}catch(Ja){this.reject_(Ja);return}"function"==typeof za?this.settleSameAsThenable_(za,oa):this.fulfill_(oa)};va.prototype.reject_=function(oa){this.settle_(2,oa)};va.prototype.fulfill_=function(oa){this.settle_(1,oa)};va.prototype.settle_=function(oa,za){if(0!=this.state_)throw Error("Cannot settle("+oa+", "+za+"): Promise already settled in state"+this.state_);this.state_=oa;this.result_=za;this.executeOnSettledCallbacks_()};va.prototype.executeOnSettledCallbacks_=function(){if(null!=
this.onSettledCallbacks_){for(var oa=0;oa<this.onSettledCallbacks_.length;++oa)zb.asyncExecute(this.onSettledCallbacks_[oa]);this.onSettledCallbacks_=null}};var zb=new qa;va.prototype.settleSameAsPromise_=function(oa){var za=this.createResolveAndReject_();oa.callWhenSettled_(za.resolve,za.reject)};va.prototype.settleSameAsThenable_=function(oa,za){var Ja=this.createResolveAndReject_();try{oa.call(za,Ja.resolve,Ja.reject)}catch(Wa){Ja.reject(Wa)}};va.prototype.then=function(oa,za){function Ja(lb,Ab){return"function"==
typeof lb?function(Kb){try{Wa(lb(Kb))}catch(Fb){fb(Fb)}}:Ab}var Wa,fb,Lb=new va(function(lb,Ab){Wa=lb;fb=Ab});this.callWhenSettled_(Ja(oa,Wa),Ja(za,fb));return Lb};va.prototype.catch=function(oa){return this.then(void 0,oa)};va.prototype.callWhenSettled_=function(oa,za){function Ja(){switch(Wa.state_){case 1:oa(Wa.result_);break;case 2:za(Wa.result_);break;default:throw Error("Unexpected state: "+Wa.state_);}}var Wa=this;null==this.onSettledCallbacks_?zb.asyncExecute(Ja):this.onSettledCallbacks_.push(Ja)};
va.resolve=ya;va.reject=function(oa){return new va(function(za,Ja){Ja(oa)})};va.race=function(oa){return new va(function(za,Ja){for(var Wa=$jscomp.makeIterator(oa),fb=Wa.next();!fb.done;fb=Wa.next())ya(fb.value).callWhenSettled_(za,Ja)})};va.all=function(oa){var za=$jscomp.makeIterator(oa),Ja=za.next();return Ja.done?ya([]):new va(function(Wa,fb){function Lb(Kb){return function(Fb){lb[Kb]=Fb;Ab--;0==Ab&&Wa(lb)}}var lb=[],Ab=0;do lb.push(void 0),Ab++,ya(Ja.value).callWhenSettled_(Lb(lb.length-1),fb),
Ja=za.next();while(!Ja.done)})};return va},"es6","es3");$jscomp.polyfill("Math.log2",function(pa){return pa?pa:function(qa){return Math.log(qa)/Math.LN2}},"es6","es3");$jscomp.polyfill("Promise.prototype.finally",function(pa){return pa?pa:function(qa){return this.then(function(ya){return Promise.resolve(qa()).then(function(){return ya})},function(ya){return Promise.resolve(qa()).then(function(){throw ya;})})}},"es9","es3");
$jscomp.polyfill("Math.sign",function(pa){return pa?pa:function(qa){qa=Number(qa);return 0===qa||isNaN(qa)?qa:0<qa?1:-1}},"es6","es3");
var JeelizVTOWidget=function(){function pa(){Ka.mode=gb.realtime;Ka.isRT=!0;sa.adjust=document.getElementById("JeelizVTOWidgetAdjust");if(sa.adjust){sa.adjustNotice=document.getElementById("JeelizVTOWidgetAdjustNotice");sa.adjustExit=document.getElementById("JeelizVTOWidgetAdjustExit");sa.changeModelContainer=document.getElementById("JeelizVTOWidgetChangeModelContainer");sa.buttonResizeCanvas=document.getElementById("buttonResizeCanvas");var X=sa.adjust;X&&X.addEventListener("click",Lb,!1);(X=sa.adjustExit)&&
X.addEventListener("click",lb,!1);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(ya)}Mb.enabled&&Oa.do_instantDetection(Mb.interval,Mb.callback);Ub&&(Ub(!0),Ub=null)}function qa(){var X=document.createElement("style");X.setAttribute("type","text/css");X.innerHTML="._jeelizVTOForceHide { display: none!important }._jeelizVTOForceShow { display: revert!important }";var Aa=document.getElementsByTagName("head");1<=Aa.length?Aa[0].appendChild(X):document.body.appendChild(X)}function ya(X){X&&
(X.classList.remove("_jeelizVTOForceHide"),"none"===window.getComputedStyle(X).display&&X.classList.add("_jeelizVTOForceShow"))}function Ma(X){X&&(X.classList.add("_jeelizVTOForceHide"),X.classList.remove("_jeelizVTOForceShow"))}function va(X,Aa){if(X)for(var Ha in Aa)X.style[Ha]=Aa[Ha]}function zb(X){if(X)return X.clientWidth}function oa(X){if(X)return X.clientHeight}function za(X){return new Promise(function(Aa,Ha){var Fa=new XMLHttpRequest;Fa.open("GET",X,!0);Fa.onreadystatechange=function(){if(4===
Fa.readyState)if(200===Fa.status||0===Fa.status)try{var Ta=JSON.parse(Fa.responseText);Aa(Ta)}catch(Ra){Ha("INVALID JSON")}else Ha("HTTP ERROR "+Fa.status)};Fa.send()})}function Ja(){Wa("INVALID_SKU")}function Wa(X){sc.error?sc.error(X):console.log("ERROR:",X)}function fb(){cc=zb(sa.container);dc=oa(sa.container);console.log("INFO in JeelizVTOWidget.resize: _width ="+cc.toString()+" _height ="+dc.toString()+" oFactor = "+(1).toString());ec=Math.round(1*cc);fc=Math.round(1*dc);va(sa.cv,{width:cc.toString()+
"px",height:dc.toString()+"px"});sa.cv.width=ec;sa.cv.height=fc;Oa&&(Ka.mode===gb.notLoaded?Oa.set_size(ec,fc,!1):Oa.resize(ec,fc,!1))}function Lb(){[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(Ma);Ka.mode=gb.adjust;[sa.adjustNotice,sa.adjustExit].forEach(ya);sa.cv.style.cursor="move";Oa.switch_modeInteractor("movePinch");Fb("ADJUST_START")}function lb(){[sa.adjustNotice,sa.adjustExit].forEach(Ma);[sa.adjust,sa.changeModelContainer,sa.buttonResizeCanvas].forEach(ya);sa.cv.style.cursor=
"auto";Ka.mode=Ka.realtime;Oa.switch_modeInteractor("idle");Fb("ADJUST_END")}function Ab(){if(!sa.trackIframe){var X=gc.appstaticURL+"jeewidget/";sa.trackIframe=document.createElement("iframe");sa.trackIframe.width="10";sa.trackIframe.height="10";sa.trackIframe.src=X+"trackIframe.html";va(sa.trackIframe,{position:"absolute",zIndex:-1,bottom:"0px",right:"0px"});sa.container.appendChild(sa.trackIframe)}}function Kb(X,Aa,Ha,Fa){Oa.load_model(Aa.mod+".json",Aa.mats,function(){Ka.mode=gb.realtime;Ha&&
Ha();vb.toggle_loading(!1);if(sa.trackIframe){var Ta=location.href.split("?").shift().split("://").pop();Ta=Ta.split("/").shift();Ta=Ta.split("www.").pop();try{sa.trackIframe.contentWindow.postMessage({action:"COUNTTRYONSESSION",domain:Ta,sku:X},"*")}catch(Ra){}}},X,Fa)}function Fb(X){(X=Bc[X])&&X()}var Oa=function(){function X(a,c){return a[0]*(1-c)+a[1]*c}function Aa(a,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.withCredentials=!1;d.onreadystatechange=function(){4!==d.readyState||200!==d.status&&
0!==d.status||c(d.responseText)};d.send()}function Ha(a,c){if(0===c||"object"!==typeof a)return a;a=Object.assign({},a);c=void 0===c||-1===c?-1:c-1;for(var d in a)a[d]=Ha(a[d],c);return a}function Fa(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}function Ta(a){switch(a){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";
case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}function Ra(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}function Gb(a,c,d){var e=1,l=0;for(d=c+d-1;d>=c;--d)l+=e*Ra(a,d),e*=2;return l}function Da(a){a=a.data;a="undefined"===typeof btoa?Buffer.from(a,"base64").toString("latin1"):atob(a);for(var c=a.length,d=new Uint8Array(c),e=0;e<c;++e)d[e]=a.charCodeAt(e);return d}function $a(a){return"string"===typeof a?JSON.parse(a):a}function pb(a){return"undefined"===
typeof $a(a).nb?qb(a):wb(a)}function wb(a){var c=$a(a);a=c.nb;if(0===a)return new Uint8Array(c.nb);var d=c.n;c=Da(c);for(var e=new Uint32Array(d),l=0;l<d;++l)e[l]=Gb(c,l*a,a);return e}function qb(a){var c=$a(a);a=c.ne;var d=c.nf,e=c.n;c=Da(c);for(var l=new Float32Array(e),n=new Float32Array(d),z=a+d+1,q=0;q<e;++q){var u=z*q,t=0===Ra(c,u)?1:-1,x=Gb(c,u+1,a);u=u+1+a;for(var F=n.length,y=0,w=u;w<u+F;++w)n[y]=Ra(c,w),++y;for(F=u=0;F<d;++F)u+=n[F]*Math.pow(2,-F-1);l[q]=0===u&&0===x?0:t*(1+u)*Math.pow(2,
1+x-Math.pow(2,a-1))}return l}function hc(a){var c=null,d=null,e=null,l=0,n=this;this.m=function(z){this.Hn(z.zd);e.Jk({Tf:z.Tf,Qf:z.Qf})};this.Al=function(z){return c[z]};this.Hn=function(z){var q=null;l=z.length;c=z.map(function(u,t){u=Object.assign({},u,{index:t,parent:n,Kd:q,jm:t===l-1});return q=0===t?Tc.instance(u):Uc.instance(u)});d=c[0];e=c[l-1];c.forEach(function(u,t){0!==t&&u.Um()})};this.wa=function(z){z.h(0);var q=z;c.forEach(function(u){q=u.wa(q,!1)});return q};this.Eh=function(){return d.L()};
this.Ze=function(){return e.Dl()};this.Ah=function(){return e.Ah()};this.v=function(){c&&(c.forEach(function(z){z.v()}),e=d=c=null,l=0)};"undefined"!==typeof a&&this.m(a)}function Bb(a,c){a[c]=!0;a.setAttribute(c,"true")}function Nb(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Vb(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]}function Wb(){var a=navigator.userAgent.toLowerCase();
return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1}function Xb(a){if(!a)return a;var c=null;if(a.video){var d=function(e){return e&&"object"===typeof e?Object.assign({},e):e};c={};"undefined"!==typeof a.video.width&&(c.width=d(a.video.width));"undefined"!==typeof a.video.height&&(c.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=d(a.video.facingMode))}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&Yb(c,a.deviceId);return c}function Yb(a,c){c&&
(a.video=a.video||{},a.video.deviceId={exact:c},a.video.facingMode&&delete a.video.facingMode)}function ic(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a}function jc(a){function c(y){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(w,H){return Math.abs(w-y)-Math.abs(H-y)})}function d(y){var w=Xb(a);y=y(w);l.push(y);e(y)}function e(y){if(y.video&&y.video.facingMode&&y.video.facingMode.exact){var w=y.video.facingMode.exact;y=Xb(y);delete y.video.facingMode.exact;
y.video.facingMode.ideal=w;l.push(y)}}var l=[];if(!a||!a.video)return l;e(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var n=c(a.video.width.ideal).slice(0,3),z=c(a.video.height.ideal).slice(0,3),q={},u=0;for(q.gb=void 0;u<n.length;q={gb:q.gb},++u){q.gb=n[u];var t={},x=0;for(t.fb=void 0;x<z.length;t={fb:t.fb},++x)if(t.fb=z[x],q.gb!==a.video.width.ideal||t.fb!==a.video.height.ideal){var F=Math.max(q.gb,t.fb)/Math.min(q.gb,t.fb);F<4/3-.1||F>16/9+.1||d(function(y,
w){return function(H){H.video.width.ideal=y.gb;H.video.height.ideal=w.fb;return H}}(q,t))}}}d(function(y){return ic(y)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(y){delete y.video.width.ideal;delete y.video.height.ideal;return y}),d(function(y){delete y.video.width;delete y.video.height;return y}));a.video.facingMode&&(d(function(y){delete y.video.facingMode;return y}),a.video.width&&a.video.height&&d(function(y){ic(y);delete y.video.facingMode;return y}));
l.push({audio:a.audio,video:!0});return l}function Zb(a){try{var c=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(e){c=window.innerHeight>window.innerWidth}if(c&&a&&a.video){c=a.video.width;var d=a.video.height;c&&d&&c.ideal&&d.ideal&&c.ideal>d.ideal&&(a.video.height=c,a.video.width=d)}}function Ib(a){a.volume=0;Bb(a,"muted");if(Wb()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",
c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;Bb(a,"muted")},5)}}function kc(a){var c=Ca.element,d=Ca.bh;return null===c?Promise.resolve():new Promise(function(e,l){if(c.srcObject&&c.srcObject.getVideoTracks){var n=c.srcObject.getVideoTracks();1!==n.length?l("INVALID_TRACKNUMBER"):(n=n[0],a?Cc(c,e,l,d):(n.stop(),e()))}else l("BAD_IMPLEMENTATION")})}function Dc(a,c,d,e){function l(z){n||(n=!0,d(z))}var n=!1;navigator.mediaDevices.getUserMedia(e).then(function(z){function q(){setTimeout(function(){if(a.currentTime){var t=
a.videoWidth,x=a.videoHeight;if(0===t||0===x)l("VIDEO_NULLSIZE");else{t&&(a.style.width=t.toString()+"px");x&&(a.style.height=x.toString()+"px");var F={Ek:null,og:null,Fm:null};try{var y=z.getVideoTracks()[0];y&&(F.Fm=y,F.Ek=y.getCapabilities(),F.og=y.getSettings())}catch(w){}Wb()||Nb()?a.parentNode&&null!==a.parentNode?(n||c(a,z,F),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),Ib(a),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom=
"0px";a.style.right="0px";Ib(a);setTimeout(function(){a.play();n||c(a,z,F)},100)},80)):n||c(a,z,F)}}else l("VIDEO_NOTSTARTED")},700)}function u(){a.removeEventListener("loadeddata",u,!1);var t=a.play();Ib(a);"undefined"===typeof t?q():t.then(function(){q()}).catch(function(){l("VIDEO_PLAYPROMISEREJECTED")})}"undefined"!==typeof a.srcObject?a.srcObject=z:(a.src=window.URL.createObjectURL(z),a.videoStream=z);Ib(a);a.addEventListener("loadeddata",u,!1)}).catch(function(z){l(z)})}function Cc(a,c,d,e){if(a)if(navigator.mediaDevices&&
navigator.mediaDevices.getUserMedia){if(e&&e.video){if(Nb()){var l=Vb();0!==l[0]&&(12>l[0]||12===l[0]&&2>l[1])&&Zb(e)}e.video.width&&e.video.width.ideal&&(a.style.width=e.video.width.ideal+"px");e.video.height&&e.video.height.ideal&&(a.style.height=e.video.height.ideal+"px")}Bb(a,"autoplay");Bb(a,"playsinline");e&&e.audio?a.volume=0:Bb(a,"muted");Dc(a,c,function(){function n(q){if(0===q.length)d("INVALID_FALLBACKCONSTRAINTS");else{var u=q.shift();Dc(a,c,function(){n(q)},u)}}var z=jc(e);n(z)},e)}else d&&
d("MEDIASTREAMAPI_NOTFOUND");else d&&d("VIDEO_NOTPROVIDED")}function Vc(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&d.deviceId}))&&c.length&&0<c.length?a(c,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")}):a(!1,"NOTSUPPORTED")}function Wc(){function a(){var C=lc.Re;Ob=C*L.width;Pb=C*L.height}function c(){++O;
2===O&&(t(),w(),H(),Ga.lj(),d(),S.Rc.forEach(function(C){C()}),S.Rc.splice(0),T.model&&!S.isBusy&&Ga.ji(T.model))}function d(){S.load_model=function(C,R,fa,ha,Ia){if(S.isBusy)return!1;S.isBusy=!0;if(T.model)S.set_model(C,function(){var eb=R;if(Ia){eb=R.slice(0);var mb=ab.El().map(function(Xc){return Xc.toLowerCase()}),$b;for($b in Ia){var Ec=mb.indexOf($b.toLowerCase());-1!==Ec&&(eb[Ec]=Ia[$b])}}S.set_materials(eb,function(){S.isBusy=!1;fa&&fa()})},function(){S.isBusy=!1});else{var hb=L.ba+L.ua+L.Hf+
"/";ha=R.map(function(eb){return hb+eb});T.model={url:L.ba+L.ua+L.Lf+"/"+C,Dc:ha,Db:!1,Cb:!1};Ga.ji(T.model,function(){S.isBusy=!1;fa&&fa()})}return!0};S.set_offset=function(C){p=C;Ga.$d()};S.set_scale=function(C){v=C;Ga.ae()};S.set_rx=function(C){J=C;Ga.xj()};S.switch_shadow=ta.tg;S.switch_bgBlur=ta.sg;S.set_zoom=ta.gg;S.is_viewer3D=function(){return Z===W.Ea};S.switch_viewer3D=function(C,R){if(Z===W.fc||Z===W.hc||Z===W.W&&!C||Z===W.Ea&&C||ja)return!1;if(Z===W.ya)return ra!==W.Ea||C?ra===W.W&&C?
(ra=W.Ea,ta.sa(ba.yb),ta.Ya(1),R&&R(),!0):!1:(ra=W.W,ta.sa(ba.cb),ta.Ya(0),R&&R(),!0);var fa=0,ha=-1,Ia=0;Z===W.W?(Z=W.fc,ha=L.Do):Z===W.Ea&&(Z=W.hc,ha=L.Go);var hb=tc.We();ka=setInterval(function(){var eb=tc.We();fa+=(eb-hb)/ha;1<=fa&&(fa=1,Z===W.fc?(Z=W.Ea,ta.sa(ba.yb)):(Z=W.W,ta.sa(ba.cb)),R&&R(),clearInterval(ka),ka=null);var mb=Z===W.hc||Z===W.W?1-L.Bo(fa):L.Ao(fa);ta.Ya(mb);Z!==W.hc&&Z!==W.fc||0!==Ia++%2||(ta.sa(ba.Kf),ba.Kf.On(mb));hb=eb},.016);return!0};S.capture_image=function(C,R,fa,ha){la=
C;ja=!0;"undefined"===typeof isAllocate&&(fa=!1);(ha="undefined"===typeof ha?!1:ha)&&ta.Ud(!1);u();Ea=function(){ta.Ii(0);b.flush();var Ia=cb.Ch(fa);R(Ia);ha&&ta.Ud(!0)}};S.capture_detection=function(C,R){la=C;ja=!0;var fa=null===Q.zb?Q.xb:Q.Oc;Ea=function(){var ha=Fc.instance({Fe:N.Mc.clone(),pi:ab.Ih(),oi:ab.Gh(),background:fa.clone(),Ua:ua.hb.Pl().clone(),Gf:Ya});R(ha)}};S.process_offlineRendering=function(C,R,fa,ha,Ia){function hb(){if(2===++eb){U.Ua||(U.Ua=ac.instance({}));C.Fh()&&(U.Ua.$i(C.Fh()),
ta.sa(U.Ua));U.Je.set();e();U.Je=!1;Ga.mn(ha?function(){cb.ob().parentNode.removeChild(S.Ab)}:!1);var mb=cb.Ch(!1);setTimeout(function(){Ia(mb)},1)}}Ga.pn();ha&&(S.Jj.drawImage(cb.ob(),0,0),cb.ob().parentNode.insertBefore(S.Ab,cb.ob()),S.Ab.setAttribute("class","jeefitMask"));U.Je=C;var eb=0;S.set_model(R,function(){hb();S.set_materials(fa,function(){setTimeout(hb,1)})})};S.serialize_detection=function(C){return C.Hc()};S.unserialize_detection=function(C,R,fa){return Fc.Nc(C,R,fa)};S.do_instantDetection=
function(C,R){Gc.m(N.Mc);Gc.start(C,R)};S.relieve_DOM=function(C,R){if(m.Rb)return!1;n(R||160);r=!1;G&&clearTimeout(G);G=setTimeout(function(){n(L.za);G=!1;q()},C);return!0};S.switch_slow=function(C,R){if(m.Rb)return!1;"undefined"===typeof R&&(R=L.Qj);G&&(n(L.za),q(),clearTimeout(G),G=!1);C?r=!1:q();n(C?R:L.za);return!0};S.switch_deepSleep=function(C){if(Pa===C)return!1;Pa=!1;S.switch_sleep(C);Pa=C;return!0};S.switch_sleep=function(C,R){function fa(){S.isBusy=!1;C?(ra=Z,Z=W.ya):(Z=ra,e())}if(m.Rb||
Pa||S.isBusy)return R?Promise.reject():null;if(C&&Z===W.ya||!C&&Z!==W.ya)return R?Promise.resolve(!1):!1;ka&&(clearInterval(ka),ka=null);Z===W.hc?(Z=W.W,ta.sa(ba.cb),ta.Ya(0)):Z===W.fc&&(Z=W.Ea,ta.sa(ba.yb),ta.Ya(1));xb.stop();var ha=null;S.isBusy=!0;R?ha=kc(!C).then(fa):fa();return R?ha:!0};S.set_modelStandalone=function(C,R){ta.Vd(!1);uc.instance({url:C.model,Dc:C.materials,Db:!1,Cb:!1,R:function(fa){ib=[0,0,0];nb=1;rb=f=g=0;sb=L.Bc;S.ready&&Ga.be();R&&R();l(fa);Ga.qg();ta.Vd(!0)}})};S.start_rendering=
Ga.qg;S.update_material=function(C,R){ab&&ab.oo(C,R)};S.set_model=function(C,R,fa){ab&&ab.replace("http"===C.substring(0,4).toLowerCase()?C:L.ba+L.ua+L.Lf+"/"+C,function(){R&&R(ab.Ik())},fa)};S.set_tweaker=function(C,R){function fa(ha){S.Qg(ha);R&&R()}"string"===typeof C?Aa(L.ba+L.ua+L.ho+"/"+C,fa):fa(C)};S.Qg=function(C){C&&(C.preOffset&&(ib=C.preOffset),C.preScale&&(nb=C.preScale),C.rx&&(g=C.rx),C.beginBendZ&&(f=C.beginBendZ),C.bendStrength&&(rb=C.bendStrength),C.maskBranchStartEnd&&(sb=C.maskBranchStartEnd),
S.ready&&Ga.be())};S.set_materials=function(C,R){if(ab){var fa=L.ba+L.ua+L.Hf+"/";C=C.map(function(ha){var Ia=ha;"string"===typeof ha&&(Ia=fa+ha,Ia=Ia.replace(/([^:])\/\//,"$1/"));return Ia});ab.hg(C,R)}}}function e(){Cb.reset();xb.stop();z(0)}function l(C){ab&&(ta.gn(ab),ab.remove());ta.Mj(C);ab=C}function n(C){K=C;xb.update({za:K})}function z(C){V=-1;ja?V=la:U.isEnabled?V=U.ti:r?(u(),V=Z===W.W?Cb.T():1):(V=L.Pc[0],u());wa.fa();for(var R=0;R<V;++R)ca.set("s54"),Q.qf.M(),Q.xb.h(0),N.Ec.h(1),Y.l(!1,
!1),A.wa(Q.qf);ja?(Ea(),ja=!1,b.flush(),xb.ag(z)):(ta.animate(C),Q.Xf&&ea-ba.gi>ba.mj&&L.Vb&&Z===W.W&&(wa.fa(),ba.gi=ea,ba.Id.M(),ca.set(E.Yh?"s63":"s62"),Q.Xf.h(0),Y.l(!1,!1),ua.hb.zj(Ca.ka,ba.Id,ba.Td),wa.aa()),U.isEnabled||(r&&(Cb.qj(),R=Cb.Bh(1),P=X(L.Oj,R),L.Vb&&Z===W.W&&(ba.mj=X(L.ii,R),ba.Td=X(L.xm,R),ba.Td=Math.min(ba.Td,.5))),ea=C,Z!==W.ya&&xb.ag(z)))}function q(){ea=tc.We();r=!0}function u(){var C=Ca.element.currentTime-Na;0>C&&(Na=Ca.element.currentTime);1E3*C<L.vo||(Ca.ka.refresh(),Na+=
C,Ca.gd=C,ia=!0,wa.fa(),ca.set("s0"),N.Yf.M(),N.Ec.sk(0),Y.l(!1,!0),ca.set("s52"),Q.xb.M(),Ca.ka.h(0),Y.l(!1,!1),null!==Q.zb&&(ca.set("s53"),Q.Oc.o(),Q.xb.h(0),Q.zb.h(1),Y.l(!1,!1)))}function t(){Q.Bj=aa.instance({isPot:!0,isLinear:!0,isFloat:!1,url:L.ba+L.ua+L.wo});var C={isPot:!1,isLinear:!0,isFloat:!1,width:Ob,height:Pb};Q.xb=aa.instance(C);Q.Oc=aa.instance(C);m.nj.push(Q.xb,Q.Oc);Q.qf=aa.instance({isPot:!0,isFloat:!1,width:A.Eh()});L.Bd&&(ma=aa.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(L.Ff||
-1!==L.Ef.indexOf("//")?"":L.ba+L.ua)+L.Ef}))}function x(){function C(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var R={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};N.Ec=Hc.instance(C());N.Yf=aa.instance(C());N.Mc=aa.instance(C());N.Hd=Hc.instance(C());N.Le=aa.instance(R);R={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])};N.Gg=aa.instance(R);N.de=aa.instance(R);ba.Id=
aa.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}function F(C){Q.Xf=C;if(ia){ia=!1;ca.set("s60");N.Gg.M();N.de.h(2);var R=X(L.uk,Cb.Bh(.5));ca.G("u63",R);N.Yf.h(1);ca.G("u64",1E3*Ca.gd);Y.l(!1,!1);ca.set("s61");N.de.o();N.Gg.h(0);Y.l(!1,!1)}C.h(0);N.Ec.Wi(1);b.viewport(0,0,1,1);ca.set("s55");ca.mg("u43",Ic.get(0));Y.l(!1,!1);ca.set("s56");b.viewport(1,0,2,1);Y.l(!1,!1);N.Le.M();ca.set("s57");ca.N("u54",L.re[0]*P,L.re[1]);N.Ec.h(0);N.Hd.h(1);Y.l(!1,!1);ca.set("s58");
N.Hd.Wi(1);N.Le.h(0);N.de.h(2);N.Ec.h(3);Y.l(!1,!1);ca.set("s59");N.Hd.h(0);N.Mc.o();Y.l(!1,!1)}function y(){var C=L.ba,R=L.ke.split("://").shift();if("http"===R||"https"===R)C="";C+=L.ke;"json"!==C.split(".").pop()&&(C+=L.neuralNetworkPath);Aa(C,function(fa){fa=JSON.parse(fa);if(fa.exportData){var ha=fa.exportData;E.Wa=E.Wa||ha.rotationEulerAnglesFactors;E.uc=E.uc||ha.deformScaleXFactor;E.qa=E.qa||ha.translationScalingFactors;E.ph=ha.dyOffset||0;E.nh=ha.dsOffset||0;E.Yh=ha.isLThetaSplitCosSin||!1}A=
new hc({zd:fa.layers,Tf:"gpuRawAvg",Qf:F});c()})}function w(){a();B.kb[0]=1;B.kb[1]=Ob/Pb;Ic.m({Gd:L.scanOverlapFactors,si:L.scanNScaleLevels,ta:Ob,jf:Pb,Oi:L.scanScale0Factor,qa:E.qa,bg:!0});na=L.width>L.height?[L.width/L.height,1]:[1,L.height/L.width];m.Ha=!0}function H(){ca.j("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u37",value:1},{type:"2f",name:"u38",value:B.kb},{type:"1f",name:"u39",value:E.uc},{type:"1f",name:"u41",value:E.ph},{type:"1f",name:"u40",value:E.nh}]);ca.j("s55",[{type:"1i",
name:"u42",value:0},{type:"1i",name:"u37",value:1},{type:"1f",name:"u47",value:L.eo},{type:"1f",name:"u48",value:L.Rk},{type:"3f",name:"u44",value:[E.qa[0]*B.kb[0],E.qa[1]*B.kb[1],E.qa[2]]},{type:"3f",name:"u45",value:[L.ic[0][0],L.ic[1][0],L.ic[2][0]]},{type:"3f",name:"u46",value:[L.ic[0][1],L.ic[1][1],L.ic[2][1]]}]);ca.j("s56",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u37",value:1},{type:"2f",name:"u51",value:L.Xm},{type:"3f",name:"u49",value:E.Wa},{type:"3f",name:"u50",value:L.pj},{type:"1f",
name:"u52",value:L.nl}]);ca.j("s57",[{type:"1i",name:"u37",value:0},{type:"1i",name:"u53",value:1},{type:"2f",name:"u54",value:L.re},{type:"1f",name:"u55",value:L.nn},{type:"1f",name:"u56",value:L.Wm}]);ca.j("s58",[{type:"1i",name:"u53",value:1},{type:"1i",name:"u57",value:0},{type:"1i",name:"u58",value:2},{type:"1i",name:"u59",value:3},{type:"2f",name:"u38",value:B.kb},{type:"1f",name:"u61",value:A.Eh()},{type:"2f",name:"u60",value:L.kn}]);ca.j("s59",[{type:"1i",name:"u37",value:0},{type:"1f",name:"u62",
value:L.qn}]);ca.j("s60",[{type:"1i",name:"u42",value:0},{type:"1i",name:"u37",value:1},{type:"1i",name:"u58",value:2},{type:"3f",name:"u49",value:E.Wa},{type:"3f",name:"u50",value:L.pj}]);ca.j("s61",[{type:"1i",name:"u58",value:0},{type:"2f",name:"u66",value:L.fo},{type:"2f",name:"u67",value:L.on}]);ca.j("s62",[{type:"1i",name:"u42",value:0}]);ca.j("s63",[{type:"1i",name:"u42",value:0}]);ca.j("s53",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u68",value:1}])}var g,f,B={kb:[-1,-1]},I=null,k=[.5,
0,0,.5],m={bb:null,Rb:!1,Ha:!1,nj:[]},h=[0,L.Jd[1],L.Jd[2]],E={Wa:[-L.Wa[0],-L.Wa[1],L.Wa[2]],uc:L.uc,qa:L.qa,ph:0,nh:0,Yh:!1},K=L.za,G=null,A=null;a();var p=[0,0,0],v=1,J=0,Q={xb:null,Oc:null,qf:null,Bj:null,Xf:null,zb:null},N={Yf:null,Mc:null,Hd:null,Le:null,Gg:null,de:null},ea=0,ia=!1,ba={cb:null,yb:null,Kf:null,gi:0,mj:L.ii[1],Td:.1,Id:null},O=0,M=!1,r=!0,P=1,V=-1,W={ya:-1,W:0,Ea:1,fc:2,hc:3},Z=W.W,ka=null,ra=W.W,Pa=!1,ja=!1,la=1,Ea=!1,U={isEnabled:!1,Je:null,Ua:null,ti:0},ma=null,na=-1,Ba=!1,
La=!1,tb=!1,Xa=[0,0,0],Ua=1,Va,jb,mc,ib=[0,0,0],nb=1,rb=f=g=0,sb=L.Bc,Hb=[0,0,0],Ya={scale:1,offsetX:0,offsetY:0},Na=0,Ga={m:function(){ca.qe([{id:"s52",name:"_",s:"attribute vec2 a0;uniform mat2 u36;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u36*a0;}",I:["a0"],P:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u36"],precision:"lowp"},{id:"s54",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
s:"attribute vec2 a0;uniform sampler2D u37;uniform vec2 u38;uniform float u39,u40,u41;const vec2 h=vec2(.16,.5),i=vec2(.5,.5),j=vec2(.84,.5),q=vec2(.5,.5);varying vec2 vv0;void main(){vec4 b=texture2D(u37,h);vec2 c=b.gb,a=b.a*u38;vec4 l=texture2D(u37,i);float m=l.y;vec2 n=vec2(mix(1.,1./cos(m),u39),1.);a*=n,a*=1.+u40;vec2 o=a0*.5;float d=texture2D(u37,j).r,e=cos(d),f=sin(d);mat2 g=mat2(e,f,-f,e);vec2 p=g*o;c+=vec2(-.5,-.5)*a*(g*vec2(0.,u41)),vv0=c+p*a,gl_Position=vec4(a0,0.,1.);}",I:["a0"],P:[2],
i:"u1 u37 u38 u39 u40 u41".split(" "),precision:"lowp"},{id:"s55",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u42,u37;uniform vec3 u43,u44,u45,u46;uniform float u47,u48;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.83,.5);const vec3 i=vec3(1.,1.,1.);void main(){vec4 j=texture2D(u42,vec2(.625,.625)),k=texture2D(u42,vec2(.875,.625));float l=dot(j-k,e);bool m=l>u48;vec4 a=texture2D(u37,f);m?a.r=2.:a.r>u47?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u43);else{float n=dot(e,texture2D(u42,vec2(.875,.875))),o=dot(e,texture2D(u42,vec2(.125,.625))),p=dot(e,texture2D(u42,vec2(.375,.625))),b=texture2D(u37,h).r,c=cos(b),d=sin(b);vec2 q=mat2(c,d,-d,c)*vec2(n,o);float r=texture2D(u37,g).a;vec3 s=mix(u45,u46,r*i);a.r*=step(1.9,a.r),a.gba+=vec3(q,p)*u44*s*a.a;}gl_FragColor=a;}",
i:"u42 u37 u43 u47 u44 u48 u45 u46".split(" ")},{id:"s56",name:"_",g:"uniform sampler2D u42,u37;uniform vec3 u49,u50;uniform vec2 u51;uniform float u52;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u37,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u42,vec2(.125,.125)),e),a=smoothstep(u51.x,u51.y,m);vec4 n=texture2D(u37,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u42,vec2(.125,.875))),q=dot(e,texture2D(u42,vec2(.375,.875))),r=dot(e,texture2D(u42,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u50+s*u49;float c=texture2D(u37,i).r,d=b.z*u52;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",
i:"u42 u37 u51 u49 u50 u52".split(" ")},{id:"s57",name:"_",g:"uniform sampler2D u37,u53;uniform vec2 u54;uniform float u55,u56;const vec4 f=vec4(1.,1.,1.,1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u37,vv0),d=texture2D(u53,vv0),o=texture2D(u37,g),j=texture2D(u53,g);float k=pow(j.a,u56),l=mix(u54.x,u54.y,1.-k),a=step(.34,vv0.x)*step(vv0.x,.66);vec4 m=mix(h,i,a),b=max(l*f,m);b*=mix(f,u55*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",
i:["u37","u53","u54","u55","u56"],precision:"highp"},{id:"s58",name:"_",g:"uniform sampler2D u53,u57,u58,u59;uniform vec2 u38,u60;uniform float u61;const vec4 u=vec4(1.,1.,1.,1.);const vec2 g=vec2(.25,.5),h=vec2(.75,.5),f=vec2(.16,.5),i=vec2(.5,.5);varying vec2 vv0;void main(){float j=step(.33,vv0.x)*step(vv0.x,.66),v=step(.66,vv0.x);vec4 k=texture2D(u59,i);float a=k.a;a*=texture2D(u58,g).a,a*=texture2D(u58,h).a;vec4 l=texture2D(u53,vv0),m=texture2D(u57,vv0),b=l+m;b.a=mix(b.a,a,j);vec4 c=texture2D(u53,f),n=texture2D(u59,f);vec2 o=c.gb,p=n.gb;float q=c.a;vec2 d=u61*abs(o-p)/(u38*q);float r=max(d.x,d.y),s=smoothstep(u60.x,u60.y,r);vec4 t=texture2D(u59,vv0);gl_FragColor=mix(b,t,s);}",
i:"u53 u57 u58 u59 u38 u61 u60".split(" "),precision:"highp"},{id:"s59",name:"_",g:"uniform sampler2D u37;uniform float u62;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u37,vv0);float b=step(vv0.x,.33),c=texture2D(u37,f).g;a.a+=b*a.a*u62*abs(sin(c)),gl_FragColor=a;}",i:["u37","u62"],precision:"highp"},{id:"s60",name:"_",g:"uniform sampler2D u37,u58,u42;uniform vec3 u49,u50;uniform float u63,u64;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u37,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u58,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u42,k)),o=dot(e,texture2D(u42,l)),p=dot(e,texture2D(u42,m));vec3 q=mix(i,u49,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u50+b-r,a)/u64;vec4 s=mix(vec4(b,0.),j,vec4(u63*g,0.));gl_FragColor=s;}",
i:"u37 u58 u42 u63 u64 u49 u50".split(" "),precision:"highp"},{id:"s61",name:"_",g:"uniform sampler2D u58;uniform vec2 u66,u67;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u66.x,u67.x,a),d=mix(u66.y,u67.y,a);vec3 b=texture2D(u58,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u58","u66","u67"],precision:"highp"},{id:"s62",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u42;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u42,vec2(.375,.375)),e),b=dot(texture2D(u42,vec2(.625,.375)),e),c=f/2.*dot(texture2D(u42,vec2(.875,.375)),e),d=.75*f*dot(texture2D(u42,vec2(.125,.375)),e);gl_FragColor=vec4(d,a,b,c);}",
i:["u42"]},{id:"s63",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u42;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.1415,g=1e-7;void main(){float b=dot(texture2D(u42,vec2(.875,.375)),e),c=dot(texture2D(u42,vec2(.375,.125)),e),d=f/2.*dot(texture2D(u42,vec2(.625,.375)),e),a=dot(texture2D(u42,vec2(.125,.375)),e),h=dot(texture2D(u42,vec2(.375,.375)),e);a+=(step(0.,a)-.5)*g;float i=atan(h,a);gl_FragColor=vec4(i,b,c,d);}",i:["u42"]},{id:"s53",name:"_",
g:"uniform sampler2D u1,u68;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u68);}",
i:["u1","u68"]}]);x();y();xb.m({Xh:!1,za:K});Cb.m({Nf:0,n:L.Pc[1]-L.Pc[0]+1,hi:L.Pc[0]});S.set_videoRotation=function(C){Za.rotate=C;S.ready&&(db.ng(Ca.element.videoWidth,Ca.element.videoHeight),db.ug())};S.set_viewRotation=function(){};S.set_LUT=function(C){return new Promise(function(R){C?aa.instance({url:C,isFloat:!1,isFlipY:!1,R:function(fa){Q.zb=fa;Ga.Lc();R()}}):(Q.zb=null,Ga.Lc(),R())})};S.resize=function(C,R,fa){function ha(){xb.stop();m.bb&&(clearTimeout(m.bb),m.bb=null);if(!m.Rb)if(L.width===
Ia&&L.height===hb)e();else if(Z!==W.W&&Z!==W.Ea)m.bb=setTimeout(ha,L.Mi);else{var eb="undefined"===typeof ub?!1:ub.get_mode(),mb=Z;Z=W.ya;ja=m.Rb=!0;Ea=function(){ja=!1;m.Rb=!1;q();n(L.za);G&&clearTimeout(G);G=!1;Z=mb};L.width=Ia;L.height=hb;w();H();m.nj.forEach(function($b){$b.resize(Ia,hb)});da.resize(Ob,Pb);Ga.Lc();db.ng(Ca.element.videoWidth?Ca.element.videoWidth:Ca.element.width,Ca.element.videoHeight?Ca.element.videoHeight:Ca.element.height);db.ug();db.lj();e();Z===W.Ea&&(Z=W.W,S.switch_viewer3D(!0,
!1));eb&&ub.switch_mode(eb)}}if(S.ready){m.bb&&(clearTimeout(m.bb),m.bb=null);xb.stop();fa=fa?lc.Re:1;var Ia=C*fa,hb=R*fa;m.bb=setTimeout(ha,L.Mi)}}},v:function(){xb.v();return new Promise(function(C){S.switch_sleep(!0,!0).finally(function(){A&&A.v();da.v();cb.v();b&&(b=null);A=null;L.Ff=!1;ab=null;r=!0;P=1;V=-1;Z=W.W;ka=null;ra=W.W;Object.assign(Ca,Jc);Object.assign(L,Kc);C()}).catch(function(R){throw Error(R);})})},Lc:function(){ta.Ui(N.Mc,null===Q.zb?Q.xb:Q.Oc,ba.Id,Q.Bj)},Cl:function(){return Ya},
aj:function(C){Ya=C},$d:function(){Hb[0]=p[0]-Ya.offsetX;Hb[1]=p[1]+Ya.offsetY;Hb[2]=p[2];ta.wn(h,ib,Hb)},ae:function(){ta.xn(v*L.Sm,nb,Ya.scale)},xj:function(){ta.yn(J+g)},lo:function(){ta.un(L.Wc+f,L.Fb+rb)},no:function(){ta.vn(sb)},be:function(){Ga.$d();Ga.ae();Ga.xj();Ga.lo();Ga.no()},pn:function(){xb.stop();ka&&(clearInterval(ka),ka=null);U.isEnabled=!0;U.ti=0;Ba=ta.Bl();La=ab.Ih();tb=ab.Gh();Ua=nb;Xa=ib;Va=sb;jb=f;mc=rb;ja=!1;ta.Ud(!1)},mn:function(C){function R(){2===++fa&&(U.isEnabled=!1,
nb=Ua,ib=Xa,sb=Va,f=jb,rb=mc,Ga.be(),ta.sa(Ba),e(),C&&C())}var fa=0;Z===W.fc?Z=W.Ea:Z===W.hc&&(Z=W.W);ta.Ya(Z===W.W?0:1);ab.replace(La,R);ab.hg(tb,R);Ga.Lc();ta.Ud(!0)},lj:function(){var C=Math.tan(Ca.Lb/2);ta.Ti({Te:L.Te/C,rn:C,Vm:Ca.Di,Ca:L.Ca,Mf:L.Mf,Ej:B.kb,Ij:L.zo,wc:L.wc,hf:L.hf,ff:L.ff,gf:L.gf,Bc:sb,se:L.se,Ee:L.Ee,$f:L.$f,cc:L.cc,Un:L.gj,Vn:L.hj,Sd:L.Sd,dc:L.dc,ad:L.ad,Ie:L.Ie,He:L.He,Ge:L.Ge,ve:L.ve,ue:L.ba+L.ua+L.ue,Wc:L.Wc+f,Fb:L.Fb+rb,df:L.df,Lg:L.Lg,Kg:L.Kg,ge:L.ge,Fo:L.Eo,fe:Ca.fe,Bd:L.Bd,
zm:ma,Ad:L.Ad,Cd:L.Cd,Df:L.Df,ym:na,vg:L.vg})},Fk:function(){var C=Za.je,R=Za.ie,fa=1/Math.tan(Ca.Lb/2),ha=cb.Y()/cb.L();Ca.Di=[fa,0,0,0,0,fa/ha,0,0,0,0,-(R+C)/(R-C),-1,0,0,-2*C*R/(R-C),0];Ca.fe=1/Math.tan(L.Co*Math.PI/360)/fa},ng:function(C,R){I=[.5,.5];C=R/C;R=cb.Y()/cb.L();90===Math.abs(Za.rotate)&&(C=1/C);C>R?I[1]*=R/C:I[0]*=C/R;k[0]=0;k[1]=0;k[2]=0;k[3]=0;switch(Za.rotate){case 0:k[0]=I[0];k[3]=I[1];break;case 180:k[0]=-I[0];k[3]=-I[1];break;case 90:k[1]=I[0];k[2]=-I[1];break;case -90:k[1]=-I[0],
k[2]=I[1]}Ca.Lb=2*Math.atan(2*I[0]*Math.tan((1<C?Za.FOVmobile:Za.FOVdesktop)*Math.PI/180/2));Ga.Fk()},ug:function(){ca.j("s52",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u36",value:k}])},mf:function(C,R){Ga.Zl(C,R);Ga.m();if(!Ga.Wl())return S.jb&&S.jb("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1;Ga.Qh();return!0},Zl:function(C,R){S.Bb=document.createElement("canvas");S.Ab=document.createElement("canvas");S.Ab.width=L.width;S.Ab.height=L.height;S.Jj=S.Ab.getContext("2d");S.replace_video=function(fa){Ca.element=
fa;Ca.Bg.ia=Ca.element;return!0};S.nc=S.Bb.getContext("2d");S.capture_background=function(fa,ha){fa="undefined"===typeof fa?C:fa;ha="undefined"===typeof ha?R:ha;S.Bb.width=fa;S.Bb.height=ha;var Ia=fa/ha,hb=0,eb=0;if(C/R>Ia){var mb=R*Ia;Ia=R;hb=Math.round((C-mb)/2)}else mb=C,Ia=C/Ia,eb=Math.round((R-Ia)/2);S.nc.save();S.nc.translate(fa,0);S.nc.scale(-1,1);S.nc.drawImage(Ca.element,hb,eb,mb,Ia,0,0,fa,ha);S.nc.restore();fa=document.createElement("canvas");fa.width=S.Bb.width;fa.height=S.Bb.height;fa.getContext("2d").drawImage(S.Bb,
0,0);return fa}},Qh:function(){window.CanvasListeners&&(ub.init({pa:cb.ob()}),S.init_listeners=Ga.Qh,S.add_listener=ub.add_listener,S.remove_listener=ub.remove_listener,S.animate_swipe=ub.animate_swipe,S.switch_modeInteractor=ub.switch_mode,S.get_modeInteractor=ub.get_mode,ub.add_listener("move",function(C,R){Z===W.W&&(L.Am&&(Ya.offsetX-=R[0]*L.li,Ya.offsetX=Math.min(Math.max(Ya.offsetX,-L.Dd),L.Dd)),Ya.offsetY-=R[1]*L.li,Ya.offsetY=Math.min(Math.max(Ya.offsetY,-L.Dd),L.Dd),Ga.$d())},!0).add_listener("pinch",
function(C,R){Z===W.W&&(Ya.scale+=R*L.Bm,Ya.scale=Math.min(Math.max(Ya.scale,L.mi[0]),L.mi[1]),Ga.ae())},!0))},Wl:function(){return da.m({wd:!1,Dk:!1,expand:!1,pa:cb.ob(),Mb:cb,onload:function(){ba.yb=ac.instance({Eb:L.ba+L.ua+bb.xo,pc:L.ba+L.ua+bb.yo,oc:bb.Cj,qc:bb.Dj});L.Vb?(ba.cb=ac.instance({}),ua.hb.sa(ba.cb)):ba.cb=ba.yb;ta.sa(ba.cb);ba.Kf=L.Vb?Yc.instance({wm:ba.cb,um:ba.yb}):ba.yb;c()}})},qg:function(){M||(Ga.Lc(),L.Vb&&(wa.reset(),ua.hb.wk(Ca.ka),ua.hb.vk()),S.ready=!0,ea=0,e(),O=0,M=!0,
da.Fg(lc.ml),Ga.be(),ta.$n(),S.Sc.forEach(function(C){C()}),S.Sc.splice(0))},ji:function(C,R){C=uc.instance({R:function(){Ga.qg();R&&R()},url:C.url,Dc:C.Dc,Db:C.Db,Cb:C.Cb});l(C)},co:function(){if(L.Vb){var C=Object.assign({},bb,{Xb:L.ba+L.ua+bb.Xb});ua.hb.ig(C)}}};return Ga}function Qb(a){return 3===arguments.length?this.lb(arguments):this.set(a)}function Lc(a,c){c=Math.floor(c);a.r=(c>>16&255)/255;a.X=(c>>8&255)/255;a.b=(c&255)/255}function Zc(a,c){function d(q){void 0!==q&&1>parseFloat(q)&&console.warn("JETHREE.Color: Alpha component of "+
c+" will be ignored.")}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(c)){var l=e[2];switch(e[1]){case "rgb":case "rgba":if(e=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){a.r=Math.min(255,parseInt(e[1],10))/255;a.X=Math.min(255,parseInt(e[2],10))/255;a.b=Math.min(255,parseInt(e[3],10))/255;d(e[5]);return}if(e=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){a.r=Math.min(100,parseInt(e[1],10))/100;a.X=Math.min(100,parseInt(e[2],10))/100;a.b=
Math.min(100,parseInt(e[3],10))/100;d(e[5]);return}break;case "hsl":case "hsla":if(e=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){l=parseFloat(e[1])/360;var n=parseInt(e[2],10)/100,z=parseInt(e[3],10)/100;d(e[5]);a.tn(l,n,z);return}}}else if(e=/^#([A-Fa-f0-9]+)$/.exec(c)){e=e[1];l=e.length;if(3===l){a.r=parseInt(e.charAt(0)+e.charAt(0),16)/255;a.X=parseInt(e.charAt(1)+e.charAt(1),16)/255;a.b=parseInt(e.charAt(2)+e.charAt(2),16)/255;return}if(6===l){a.r=parseInt(e.charAt(0)+
e.charAt(1),16)/255;a.X=parseInt(e.charAt(2)+e.charAt(3),16)/255;a.b=parseInt(e.charAt(4)+e.charAt(5),16)/255;return}}c&&0<c.length&&(e=$c[c],void 0!==e?Lc(a,e):console.warn("JETHREE.Color: Unknown color "+c))}function nc(a,c,d,e){this.B=a||0;this.C=c||0;this.D=d||0;this.O=void 0!==e?e:1}function Mc(a,c,d){var e=c.B,l=c.C,n=c.D;c=c.O;var z=d.B,q=d.C,u=d.D;d=d.O;a.B=e*d+c*z+l*u-n*q;a.C=l*d+c*q+n*z-e*u;a.D=n*d+c*u+e*q-l*z;a.O=c*d-e*z-l*q-n*u;return a}function Rb(a,c){this.x=a||0;this.y=c||0}function Qa(a,
c,d){this.x=a||0;this.y=c||0;this.z=d||0}function Nc(a,c){var d=a.x,e=a.y,l=a.z;a.x=e*c.z-l*c.y;a.y=l*c.x-d*c.z;a.z=d*c.y-e*c.x}function Sb(a,c,d,e){this.B=a||0;this.C=c||0;this.D=d||0;this.Ma=e||Sb.Fj}function vc(a,c){this.min=void 0!==a?a:new Qa(Infinity,Infinity,Infinity);this.max=void 0!==c?c:new Qa(-Infinity,-Infinity,-Infinity)}function oc(a){return(new Qa).Tc(a.min,a.max).Ba(.5)}function ad(a,c){a.min.min(c);a.max.max(c)}function Tb(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,
0,0,0,1]);0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Oc(a,c,d){var e=c.elements,l=d.elements;d=a.elements;c=e[0];var n=e[4],z=e[8],q=e[12],u=e[1],t=e[5],x=e[9],F=e[13],y=e[2],w=e[6],H=e[10],g=e[14],f=e[3],B=e[7],I=e[11];e=e[15];var k=l[0],m=l[4],h=l[8],E=l[12],K=l[1],G=l[5],A=l[9],p=l[13],v=l[2],J=l[6],Q=l[10],N=l[14],ea=l[3],ia=l[7],ba=l[11];l=l[15];d[0]=c*k+n*K+z*v+q*ea;d[4]=c*m+n*G+z*J+q*ia;d[8]=c*h+n*A+z*Q+q*ba;
d[12]=c*E+n*p+z*N+q*l;d[1]=u*k+t*K+x*v+F*ea;d[5]=u*m+t*G+x*J+F*ia;d[9]=u*h+t*A+x*Q+F*ba;d[13]=u*E+t*p+x*N+F*l;d[2]=y*k+w*K+H*v+g*ea;d[6]=y*m+w*G+H*J+g*ia;d[10]=y*h+w*A+H*Q+g*ba;d[14]=y*E+w*p+H*N+g*l;d[3]=f*k+B*K+I*v+e*ea;d[7]=f*m+B*G+I*J+e*ia;d[11]=f*h+B*A+I*Q+e*ba;d[15]=f*E+B*p+I*N+e*l;return a}function wc(a,c,d,e,l,n){this.a=a;this.b=c;this.c=d;this.Ka=e instanceof Qa?e:new Qa;this.ee=Array.isArray(e)?e:[];this.color=l instanceof Qb?l:new Qb;this.Ig=Array.isArray(l)?l:[];this.Wb=void 0!==n?n:0}
function bd(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);var l=e.withCredentials=!1;e.onreadystatechange=function(){404!==e.status||l||(l=!0,d&&d(404));if(4===e.readyState&&200===e.status){var n=null;try{n=JSON.parse(e.responseText)}catch(z){d&&d(-1)}c&&n&&c(n)}};e.onerror=function(){d&&d(0)};e.send()}function xc(a,c,d){"object"===typeof a?c(a):bd(a,c,d)}function cd(a,c){for(var d=new Qa,e=new Qa,l=0,n=c.length;l<n;l++){var z=c[l],q=a[z.a],u=a[z.b];d.ab(a[z.c],u);e.ab(q,u);Nc(d,e);0!==d.wf()&&
(d.normalize(),z.Ka.J(d))}}function dd(a,c){for(var d=Array(a.length),e=0,l=a.length;e<l;++e)d[e]=new Qa;e=new Qa;l=new Qa;for(var n=0,z=c.length;n<z;++n){var q=c[n],u=a[q.a],t=a[q.b];e.ab(a[q.c],t);l.ab(u,t);Nc(e,l);d[q.a].add(e);d[q.b].add(e);d[q.c].add(e)}e=0;for(a=a.length;e<a;++e)d[e].normalize();a=0;for(e=c.length;a<e;++a)l=c[a],n=l.ee,3===n.length?(n[0].J(d[l.a]),n[1].J(d[l.b]),n[2].J(d[l.c])):(n[0]=d[l.a].clone(),n[1]=d[l.b].clone(),n[2]=d[l.c].clone());return d}function ed(a,c,d,e){function l(E){m.J(c[E]);
h.J(m);var K=q[E];I.J(K);I.sub(m.Ba(m.cd(K))).normalize();var G=h.x,A=h.y,p=h.z,v=K.x,J=K.y;K=K.z;k.x=A*K-p*J;k.y=p*v-G*K;k.z=G*J-A*v;G=0>k.cd(u[E])?-1:1;z[4*E]=I.x;z[4*E+1]=I.y;z[4*E+2]=I.z;z[4*E+3]=G}for(var n=a.length,z=new Float32Array(4*n),q=Array(n),u=Array(n),t=0;t<n;t++)q[t]=new Qa,u[t]=new Qa;var x=new Qa,F=new Qa,y=new Qa,w=new Rb,H=new Rb,g=new Rb,f=new Qa,B=new Qa;e.forEach(function(E){var K=E.a,G=E.b;E=E.c;x.J(a[K]);F.J(a[G]);y.J(a[E]);w.J(d[K]);H.J(d[G]);g.J(d[E]);var A=F.x-x.x,p=y.x-
x.x,v=F.y-x.y,J=y.y-x.y,Q=F.z-x.z,N=y.z-x.z,ea=H.x-w.x,ia=g.x-w.x,ba=H.y-w.y,O=g.y-w.y,M=1/(ea*O-ia*ba);f.set((O*A-ba*p)*M,(O*v-ba*J)*M,(O*Q-ba*N)*M);B.set((ea*p-ia*A)*M,(ea*J-ia*v)*M,(ea*N-ia*Q)*M);q[K].add(f);q[G].add(f);q[E].add(f);u[K].add(B);u[G].add(B);u[E].add(B)});var I=new Qa,k=new Qa,m=new Qa,h=new Qa;e.forEach(function(E){l(E.a);l(E.b);l(E.c)});return z}function Pc(a,c,d,e){return Math.sqrt((a-d)*(a-d)+(c-e)*(c-e))}var T={fh:!0,ep:!1,fp:!1,Qk:!1,eh:!1,cp:!1,Ja:!1,Ym:!1,wd:!1,Mp:!1,ba:"",
Em:"",jk:700,ik:200,gh:!1,ro:!1,so:!1,qo:!1,Rj:3,Ib:!1,Rg:!0,Eb:"images/backgrounds/interior2.jpg",pc:"images/backgrounds/interior_light.jpg",lk:[256,256,512,512],oc:2.1,qc:8,kk:[64,128,256,256],cm:[60,96,160,250],bm:[8,12,18,40],Fc:2.2,Uf:1,we:300,Vg:500,xe:50,xk:0,yk:0,To:45,Vo:1,Uo:1E3,Wg:20,Ho:10,Io:10,Jo:5,Rm:.1,xi:20,Ai:100,Bi:100,Qm:-Math.PI/3,Pm:Math.PI/3,zi:0,oj:0,gd:[40,32,16,16],Pj:[0,.87,.92,.9],Mm:2,Im:100,da:!1,Sj:16,Tj:.4,Vj:[.72,.73,.72,.74],ek:1.2,bk:[.5,.5,.5,1],gk:140,fk:280,hk:1.2,
Wj:20,Xj:40,dk:[6,9,9,12],ak:[.03,.02,.02,.018],$j:[.35,.35,.4,.5],Yj:[.2,.2,.2,.2],Uj:[.1,.15,.15,.15],ck:[200,200,150,120],Zj:[1,2,3,5],Wn:1.1,cq:[.25,.5,1,2],eq:256,bq:256,aq:200,Xn:[40,80,200,500],Yn:[35,45,80,120],Kk:!0,Lk:"CCW"},Qc={},ca=function(){function a(p,v,J){v=p.createShader(v);p.shaderSource(v,J);p.compileShader(v);return p.getShaderParameter(v,p.COMPILE_STATUS)?v:!1}function c(p,v,J){v=a(p,p.VERTEX_SHADER,v);J=a(p,p.FRAGMENT_SHADER,J);p===b&&q.push(v,J);var Q=p.createProgram();p.attachShader(Q,
v);p.attachShader(Q,J);p.linkProgram(Q);return Q}function d(p){return["float","sampler2D","int"].map(function(v){return"precision "+p+" "+v+";\n"}).join("")}function e(p,v){v.$=v.$?!0:!1;if(!v.$){v.s=v.s||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}";v.I=v.I||["a0"];v.P=v.P||[2];v.precision=v.precision||y;v.id=x++;void 0!==v.Pi&&(v.Pi.forEach(function(N,ea){v.g=v.g.replace(N,v.Da[ea])}),v.Pi.splice(0));v.Jg=0;v.P.forEach(function(N){v.Jg+=
4*N});var J=d(v.precision);v.na=c(p,J+v.s,J+v.g);v.A={};v.i.forEach(function(N){v.A[N]=p.getUniformLocation(v.na,N)});v.attributes={};v.va=[];v.I.forEach(function(N){var ea=p.getAttribLocation(v.na,N);v.attributes[N]=ea;v.va.push(ea)});if(v.u){p.useProgram(v.na);t=v;u=v.id;for(var Q in v.u)p.uniform1i(v.A[Q],v.u[Q])}v.Ha=!0}}function l(p){ob.dj(A);u!==p.id&&(A.H(),u=p.id,t=p,b.useProgram(p.na),p.va.forEach(function(v){0!==v&&b.enableVertexAttribArray(v)}))}function n(p,v,J){e(p,v,J);p.useProgram(v.na);
p.enableVertexAttribArray(v.attributes.a0);u=-1;return t=v}function z(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],u:{u1:0}}}var q=[],u=-1,t=null,x=0,F=!1,y="highp",w=["u1"],H=["u0"],g={u1:0},f={u0:0},B={u1:0,u2:1},I={u1:0,u3:1},k=["u1","u3","u4"],m={u5:0},h={s0:z(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:w,u:g,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",
i:["u1","u2"],u:B},s3:{g:"uniform sampler2D u1;uniform vec2 u6,u7;varying vec2 vv0;void main(){vec2 a=vv0*u6+u7;gl_FragColor=texture2D(u1,a);}",i:["u1","u6","u7"],u:g,$:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:w,u:g},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],u:B},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
i:w,u:g},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:w,u:g},s8:{g:"uniform sampler2D u0;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u6;}",i:["u0","u6"],u:f},s9:{g:"uniform sampler2D u0;uniform float u6;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u6,f);gl_FragColor=b*g;}",i:["u0","u6"],u:f},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
i:w,u:g},s11:{g:"uniform sampler2D u1,u8;uniform float u9;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u8,vv0);gl_FragColor=mix(b,a,u9*f);}",i:["u1","u8","u9"],u:{u1:0,u8:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u10)+texture2D(u1,vv0+u10*vec2(1.,-1.))+texture2D(u1,vv0+u10*vec2(-1.,-1.))+texture2D(u1,vv0+u10*vec2(-1.,1.)));}",i:["u1","u10"],u:g},s13:{g:"uniform sampler2D u1;uniform vec4 u11;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u11);gl_FragColor=j(a);}",
i:["u1","u11"],u:g},s14:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:H,u:f,$:!0},s15:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:H,u:f},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:H,u:f},
s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:H,u:f},s18:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:H,u:f},s19:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",i:H,u:f,$:!0},s20:{g:"uniform sampler2D u0,u12;uniform float u13;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u12,e);float b=u13*u13;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",
i:["u0","u12","u13"],u:{u0:0,u12:1},$:!0},s21:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){float a=u14.x*u14.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u14.y),f=floor(u14.x*fract(b*u14.y)),g=(f*u14.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",i:["u1","u14"],u:g},s22:{g:"uniform sampler2D u15,u16,u17;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u15,b),f=texture2D(u16,c);gl_FragColor=d*f;}",i:["u15","u16","u17"],u:{u16:0,u15:1,
u17:2},$:!0},s23:{g:"uniform float u18,u19;uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec2 c=fract(vv0*u18),a=vv0;float b=u18*u19;a=(.5+floor(b*vv0))/b;vec4 d=texture2D(u15,a),f=texture2D(u16,c);gl_FragColor=d*f;}",i:["u16","u15","u18","u19"],u:{u16:0,u15:1}},s24:{g:"uniform float u18,u19;uniform sampler2D u15,u16,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u18),d=vv0;float h=u18*u19;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u15,d),m=texture2D(u16,c),a=texture2D(u23,d);a=floor(.5+a*255.);vec4 n=texture2D(u20,c),o=texture2D(u21,c),p=texture2D(u22,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",
i:"u15 u16 u18 u19 u23 u20 u21 u22".split(" "),u:{u16:0,u15:1,u23:3,u20:4,u21:5,u22:6},$:!0},s25:{g:"uniform sampler2D u15,u16,u3;uniform float u18,u24,u25,u19;varying vec2 vv0;const vec2 j=vec2(1.,1.),k=vec2(0.,0.);void main(){vec2 b=floor(u24*vv0),c=u24*vv0-b;float d=u18/u24;vec2 f=floor(c*d),g=c*d-f,h=(b+g)/u24;float l=u24*u19/u18;vec2 m=l*f,a=(m+g*u25)/u19;a+=.25/u19;vec2 i=step(a,j)*step(k,a);vec4 n=texture2D(u15,h),o=texture2D(u16,a),p=n*o,q=texture2D(u3,h);gl_FragColor=(p*u25*u25+q)*i.x*i.y;}",
i:"u15 u16 u18 u24 u25 u19 u3".split(" "),u:{u16:0,u15:1,u3:2}},s26:{g:"uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0),b=texture2D(u16,vv0);gl_FragColor=a*b;}",i:["u15","u16"],u:{u16:0,u15:1},$:!0},s27:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:k,u:I},s28:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",
i:k,u:I,$:!0},s29:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:k,u:I,$:!0},s30:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:w,u:g,precision:"lowp"},s31:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u26"],u:g,precision:"lowp"},s32:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u26"],u:g,precision:"lowp"},s33:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u27"],u:B,$:!0},s34:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u27"],u:B,$:!0},s35:{g:"uniform sampler2D u5;uniform vec2 u10;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u10*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u10*h),d=texture2D(u5,a+u10*i),j=texture2D(u5,a+u10),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u5","u10"],u:m},s36:{g:"uniform sampler2D u5;uniform vec2 u10;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u10*k),d=texture2D(u5,a+u10*l),g=texture2D(u5,a+u10),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u10*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u10*m),d=f(a+u10*2.),g=f(a+u10*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u10"],
u:m,$:!0},s37:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],u:g,precision:"lowp",$:!0},s38:{g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u10)+2002./e*texture2D(u1,vv0-2.*u10)+3003./e*texture2D(u1,vv0-u10)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u10)+2002./e*texture2D(u1,vv0+2.*u10)+1001./e*texture2D(u1,vv0+3.*u10);gl_FragColor=a;}",i:["u10","u1"],
u:g,precision:"lowp",$:!0},s39:{g:"uniform sampler2D u1,u12,u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u12,vv0),b=texture2D(u28,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u12","u28"],u:{u1:0,u12:1,u28:2},$:!0}},E={s40:{g:"uniform float u18,u29;uniform sampler2D u15,u16,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u18+eps2);float weightSize=toSparsity*u18;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u29*(xyPatch-halfFromSparsity))/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u18","u15","u16","u3","u29"],Da:["1.1111","gl_FragColor\\*=2.2222;"]},s41:{g:"uniform float u18,u29,u19;uniform sampler2D u15,u16,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u19,xyTo=floor(vv0*u18+eps2);float weightSize=fromSparsity*u19;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u18;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u29*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u19,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u18 u19 u15 u16 u3 u29".split(" "),Da:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},K=null,G=null,A={Ub:function(){return F},m:function(){if(!F){K=Ha(h,2);G=Ha(E,2);y="highp";b.getShaderPrecisionFormat&&(b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.MEDIUM_FLOAT),b.getShaderPrecisionFormat(b.FRAGMENT_SHADER,b.LOW_FLOAT));for(var p in K)e(b,K[p],p);ca.set("s0");b.enableVertexAttribArray(0);F=!0}},qe:function(p){p.forEach(function(v){A.oa(v)})},oa:function(p){K[p.id]=p;e(b,p,p.id)},$l:function(p,
v,J){v||(v=p);K[v]=Object.create(G[p]);K[v].im=!0;G[p].Da&&G[p].Da.forEach(function(Q,N){K[v].g=K[v].g.replace(new RegExp(Q,"g"),J[N])});e(b,K[v],v)},set:function(p){var v=K[p];v.$&&(v.$=!1,e(b,v,p));l(v)},ub:function(p){return n(p,z(),"s42")},Od:function(p){return n(p,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:y},"s43")},ll:function(p){return"undefined"===typeof K[p]?!1:K[p].Ha},H:function(){-1!==u&&(u=-1,t.va.forEach(function(p){0!==p&&b.disableVertexAttribArray(p)}))},Qd:function(){var p=
0;t.va.forEach(function(v,J){J=t.P[J];b.vertexAttribPointer(v,J,b.FLOAT,!1,t.Jg,p);p+=4*J})},kl:function(){b.enableVertexAttribArray(0)},$b:function(){A.ac(b)},ac:function(p){p.vertexAttribPointer(t.va[0],2,p.FLOAT,!1,8,0)},Pd:function(p,v){b.uniform1i(t.A[p],v)},G:function(p,v){b.uniform1f(t.A[p],v)},N:function(p,v,J){b.uniform2f(t.A[p],v,J)},ej:function(p,v){b.uniform2fv(t.A[p],v)},mg:function(p,v){b.uniform3fv(t.A[p],v)},lg:function(p,v,J,Q){b.uniform3f(t.A[p],v,J,Q)},Qn:function(p,v,J,Q,N){b.uniform4f(t.A[p],
v,J,Q,N)},xa:function(p,v){b.uniform4fv(t.A[p],v)},Rn:function(p,v){b.uniformMatrix2fv(t.A[p],!1,v)},Sn:function(p,v){b.uniformMatrix3fv(t.A[p],!1,v)},Jc:function(p,v){b.uniformMatrix4fv(t.A[p],!1,v)},j:function(p,v){A.set(p);v.forEach(function(J){switch(J.type){case "4f":b.uniform4fv(t.A[J.name],J.value);break;case "3f":b.uniform3fv(t.A[J.name],J.value);break;case "2f":b.uniform2fv(t.A[J.name],J.value);break;case "1f":b.uniform1f(t.A[J.name],J.value);break;case "1i":b.uniform1i(t.A[J.name],J.value);
break;case "mat2":b.uniformMatrix2fv(t.A[J.name],!1,J.value);break;case "mat3":b.uniformMatrix3fv(t.A[J.name],!1,J.value);break;case "mat4":b.uniformMatrix4fv(t.A[J.name],!1,J.value)}})},tp:function(){return"lowp"},v:function(){A.H();b.disableVertexAttribArray(0);for(var p in K){var v=K[p];v.Ha&&(v.Ha=!1,b.deleteProgram(v.na));v.im&&delete K[p]}q.forEach(function(J){b.deleteShader(J)});q.splice(0);x=0;F=!1;t=null;u=-1}};return A}(),b=null,cb=function(){function a(w){console.log("ERROR in ContextFF: ",
w);return!1}function c(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function d(w){function H(){Db.v();xa.reset();f.getExtension("WEBGL_lose_context").loseContext()}if(c())return!1;var g=document.createElement("canvas");g.setAttribute("width",5);g.setAttribute("height",5);var f=null;try{f=g.getContext("webgl2",w)}catch(B){return!1}if(!f)return!1;e(f);xa.qh(f);w=xa.Ke(f);if(!w.Qa&&!w.Sa)return H(),!1;w=Db.Xg(f,w);H();return w?!0:!1}function e(w){w.clearColor(0,0,0,0);
w.disable(w.DEPTH_TEST);w.disable(w.BLEND);w.disable(w.DITHER);w.disable(w.STENCIL_TEST);w.disable(w.CULL_FACE);w.GENERATE_MIPMAP_HINT&&w.hint(w.GENERATE_MIPMAP_HINT,w.FASTEST);w.disable(w.SAMPLE_ALPHA_TO_COVERAGE);w.disable(w.SAMPLE_COVERAGE);w.depthFunc(w.LEQUAL);w.clearDepth(1)}var l=null,n=null,z=null,q=null,u=!0,t=null,x=null,F=[],y={L:function(){return l.width},Y:function(){return l.height},ob:function(){return l},pl:function(){return b},ja:function(){return u},flush:function(){b.flush()},Bp:function(){wa.fa();
aa.reset();Y.reset();ca.H();ca.kl();b.disable(b.DEPTH_TEST);b.disable(b.BLEND);Y.Zc();ca.$b()},ul:function(){t||(t=new Uint8Array(l.width*l.height*4));b.readPixels(0,0,l.width,l.height,b.RGBA,b.UNSIGNED_BYTE,t);return t},op:function(){return l.toDataURL("image/jpeg")},pp:function(){wa.aa();n||(n=document.createElement("canvas"),z=n.getContext("2d"));n.width=l.width;n.height=l.height;for(var w=y.ul(),H=z.createImageData(n.width,n.height),g=n.width,f=n.height,B=H.data,I=0;I<f;++I)for(var k=f-I-1,m=
0;m<g;++m){var h=4*(I*g+m),E=4*(k*g+m);B[h]=w[E];B[h+1]=w[E+1];B[h+2]=w[E+2];B[h+3]=w[E+3]}z.putImageData(H,0,0);return n.toDataURL("image/png")},Ch:function(w){!n&&w&&(n=document.createElement("canvas"),z=n.getContext("2d"));var H=w?n:document.createElement("canvas");H.width=l.width;H.height=l.height;(w?z:H.getContext("2d")).drawImage(l,0,0);return H},m:function(w){w=Object.assign({Ra:null,Pf:null,pa:null,De:null,width:512,height:512,premultipliedAlpha:!1,fm:!0,antialias:!1,debug:!1,bp:!1},w);w.Ra?
(b=w.Ra,l=w.Ra.canvas):w.De&&!w.pa?l=document.getElementById(w.De):w.pa&&(l=w.pa);l||(l=document.createElement("canvas"));l.width=w.width;l.height=w.height;if(b)u=b instanceof WebGL2RenderingContext;else{u=!0;var H={antialias:w.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:w.premultipliedAlpha,stencil:!1,depth:w.fm,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(H.antialias=!1);
var g=d(H);g||!H.antialias||c()||(H.antialias=!1,g=d(H));g&&(b=l.getContext("webgl2",H));b?u=!0:((b=l.getContext("webgl",H))||(b=l.getContext("experimental-webgl",H)),u=!1)}if(!b)return a("WebGL1 and 2 are not enabled");w.Pf&&l.addEventListener&&(q=b.getExtension("WEBGL_lose_context"))&&(x=w.Pf,l.addEventListener("webglcontextlost",x,!1));if(!xa.m())return a("Not enough GL capabilities");e(b);ca.m();Y.m();Db.Xg(b,xa.rl());F.forEach(function(f){f(b)});F.splice(0);return!0},So:function(){return new Promise(function(w){b?
w(b):F.push(w)})},v:function(){b&&(xa.v(),ca.v(),Db.v());q&&x&&(l.removeEventListener("webglcontextlost",x,!1),q=x=null);b=t=z=n=l=null;F.splice(0)}};return y}(),ob=function(){function a(){null===c&&("undefined"!==typeof ca?c=ca:"undefined"!==typeof D&&(c=D))}var c=null;return{reset:function(){c=null},dj:function(d){c!==d&&(c&&c.H(),c=d)},Ub:function(){return c.Ub()},$b:function(){return c.$b()},ac:function(d){return c.ac(d)},Qd:function(){return c.Qd()},H:function(){return c.H()},set:function(d){a();
return c.set(d)},ub:function(d){a();return c.ub(d)},Od:function(d){a();return c.Od(d)}}}(),aa=function(){function a(p){b.bindTexture(b.TEXTURE_2D,p)}function c(p){var v=new Uint16Array(p.length);p.forEach(function(J,Q){E[0]=J;var N=K[0];var ea=N>>16&32768;J=N>>12&2047;var ia=N>>23&255;N=103>ia?ea:142<ia?ea|31744|((255==ia?0:1)&&N&8388607):113>ia?(J|=2048,ea|(J>>114-ia)+(J>>113-ia&1)):(ea|ia-112<<10|J>>1)+(J&1);v[Q]=N});return v}function d(){if(null!==G.kf)return G.kf;var p=e(c([.5,.5,.5,.5]),!0);
return null===p?!0:G.kf=p}function e(p,v){if(!ob.Ub()||!w)return null;var J=null,Q=Math.sqrt(p.length/4);try{var N=b.getError();if("FUCKING_BIG_ERROR"===N)return!1;J=A.instance({isFloat:!1,S:v,array:p,width:Q});N=b.getError();if(N!==b.NO_ERROR)return!1}catch(ea){return!1}wa.aa();b.viewport(0,0,Q,Q);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);ob.set("s0");J.Na(0);Y.l(!0,!0);p=4*Q*Q;v=new Uint8Array(p);b.readPixels(0,0,Q,Q,b.RGBA,b.UNSIGNED_BYTE,v);Q=!0;for(N=0;N<p;++N)Q=Q&&3>Math.abs(v[N]-127);
J.remove();wa.fa();return Q}var l=0,n=null,z=0,q=null,u=null,t=null,x=null,F=null,y=null,w=!1,H=[],g={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ia:null,Kh:null,gm:!1,S:!1,R:null,F:4,If:0},f=!1,B=null,I=null,k=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],m=!1,h=!1,E=new Float32Array(1),K=new Int32Array(E.buffer),G={kf:null,lf:null},A={m:function(){w||(F=[b.RGBA,null,
b.RGBA,b.RGBA],y=[b.RGBA,null,b.RGBA,b.RGBA],n=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7],m="undefined"!==typeof da,h="undefined"!==typeof xa,q=[-1,-1,-1,-1,-1,-1,-1,-1],x=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT],w=!0)},Xl:function(){if(!u){for(var p=new Float32Array(16384),v=0;16384>v;++v)p[v]=2*Math.random()-1;u={random:A.instance({isFloat:!0,isPot:!0,array:p,width:64}),sj:A.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}A.mo()},
Jh:function(){return u.sj},mo:function(){x[1]=xa.Xe(b)},Ln:function(){y=F=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},Ji:function(p){ca.set("s1");wa.aa();var v=p.L(),J=p.Y();b.viewport(0,0,v,J);p.h(0);Y.l(!1,!1)},Np:function(p,v){A.Ji(p);b.readPixels(0,0,p.L(),p.Y(),b.RGBA,b.UNSIGNED_BYTE,v)},Op:function(p,v){A.Ji(p);return xa.Zf(0,0,p.L(),p.Y(),v)},xh:function(p,v,J,Q,N,ea,ia){p.activeTexture(p.TEXTURE0);var ba=p.createTexture();p.bindTexture(p.TEXTURE_2D,ba);N=N instanceof Float32Array?N:new Float32Array(N);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,ea);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,J,Q,0,p.RGBA,p.FLOAT,N);p.bindTexture(p.TEXTURE_2D,null);p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!1);ia&&(wa.fa(),ca.ub(p));p.viewport(0,0,J,Q);p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,
p.TEXTURE_2D,v,0);p.bindTexture(p.TEXTURE_2D,ba);ia?Y.l(!0,!0):Y.Kb(p);p.deleteTexture(ba);w&&(q[0]=-1,t=null,l=0)},pe:function(p){p!==l&&(b.activeTexture(n[p]),l=p)},instance:function(p){function v(){ja=void 0!==O.ia.videoWidth?O.ia.videoWidth:O.ia.width;la=void 0!==O.ia.videoHeight?O.ia.videoHeight:O.ia.height}function J(C){var R=b.getError();if("FUCKING_BIG_ERROR"===R)return!1;b.texImage2D(b.TEXTURE_2D,0,Xa,Ua,Va,C);R=b.getError();R!==b.NO_ERROR&&Ua!==b.RGBA&&(Ua=b.RGBA,b.texImage2D(b.TEXTURE_2D,
0,Xa,Ua,Va,C));return!0}function Q(){if(!U){a(ka);jb&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,jb);O.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,O.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,O.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));O.isAnisotropicFiltering&&"undefined"!==typeof T&&b.texParameterf(b.TEXTURE_2D,da.vl().TEXTURE_MAX_ANISOTROPY_EXT,
T.Rj);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,O.isLinear?b.LINEAR:b.NEAREST);O.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,O.isMipmap&&!ib?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,O.isMipmap&&!ib?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);Ua=F[O.F-1];Xa=y[O.F-1];Va=x[r];if(xa.ja()){var C=xa.xl();Ua===b.RGBA&&Va===b.FLOAT?O.isMipmap||O.isLinear?Xa=Db.zl(b):xa.ea()?C&&(Xa=C):Xa=b.RGBA16F||b.RGBA:Ua===b.RGB&&Va===b.FLOAT&&C&&(Xa=C,Ua=b.RGBA)}if(O.S&&
!O.isFloat||O.isFloat&&O.isMipmap&&Db.pm())Xa=xa.yl(),Va=xa.Xe(b);O.If&&(rb=O.If);O.isSrgb&&4===O.F&&(Ua=da.Ol());if(O.ia)J(O.ia);else if(O.url)J(ra);else if(Pa){C=Pa;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,Xa,ja,la,0,Ua,Va,C),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,0,Xa,ja,la,0,Ua,Va,null),b.getError()!==b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,ja,la,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(hb){b.texImage2D(b.TEXTURE_2D,0,Xa,ja,la,0,Ua,Va,null)}O.isKeepArray||
(Pa=null)}else C=b.getError(),"FUCKING_BIG_ERROR"!==C&&(b.texImage2D(b.TEXTURE_2D,0,Xa,ja,la,0,Ua,Va,null),C=b.getError(),C!==b.NO_ERROR&&(Ua=b.RGBA,O.S&&Va!==b.FLOAT&&(Va=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,Xa,ja,la,0,Ua,Va,null))));if(O.isMipmap)if(!ib&&Na)Na.nd(),sb=!0;else if(ib){C=Math.log2(Math.min(ja,la));nb=Array(1+C);nb[0]=ka;for(var R=1;R<=C;++R){var fa=Math.pow(2,R),ha=ja/fa;fa=la/fa;var Ia=b.createTexture();a(Ia);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,Xa,ha,fa,0,Ua,Va,null);a(null);nb[R]=Ia}sb=!0}a(null);q[l]=-1;jb&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);Ea=!0;O.R&&Na&&(O.R(Na),O.R=null)}}function N(){for(var C=ja*la,R=2*C,fa=3*C,ha=0;ha<C;++ha)na[0][ha]=tb[ha],na[1][ha]=tb[ha+C],na[2][ha]=tb[ha+R],na[3][ha]=tb[ha+fa]}function ea(){var C=ja*la*4;Ba=[new Uint8Array(C),new Uint8Array(C),new Uint8Array(C),new Uint8Array(C)];na=[new Float32Array(Ba[0].buffer),new Float32Array(Ba[1].buffer),
new Float32Array(Ba[2].buffer),new Float32Array(Ba[3].buffer)];La=new Uint8Array(4*C);tb=new Float32Array(La.buffer);ma=!0}function ia(){ba=new Uint8Array(ja*la*4);Ya=new Float32Array(ba.buffer);Hb=!0}var ba,O=Object.assign({},g,p),M=z++;null===O.isFlipY&&(O.isFlipY=O.url?!0:!1);O.data&&(O.array="string"===typeof O.data?pb(O.data):O.isFloat?new Float32Array(O.data):new Uint8Array(O.data),O.isFlipY=!1);var r=0,P=O.ia?!0:!1,V=null,W=null,Z=!1;O.S=O.S||O.isFloat;O.S&&(r=1);!O.gm&&O.isFloat&&h&&!xa.ea()&&
(O.isFloat=!1);O.isFloat&&(r=2);O.isAnisotropicFiltering&&m&&!da.om()&&(O.isAnisotropicFiltering=!1);var ka=O.Kh||b.createTexture(),ra=null,Pa=!1,ja=0,la=0,Ea=!1,U=!1,ma=!1,na=null,Ba=null,La=null,tb=null,Xa=null,Ua=null,Va=null,jb=O.isFlipY,mc=(p=O.S&&O.isMipmap)&&Db.Ak(),ib=p&&mc?!0:!1,nb=null,rb=-1,sb=!1,Hb=!1,Ya=ba=null;O.width&&(ja=O.width,la=O.height?O.height:ja);var Na={get:function(){return ka},L:function(){return ja},Y:function(){return la},Ql:function(){return O.url},ci:function(){return O.isFloat},
di:function(){return O.S},Gp:function(){return O.isLinear},nd:function(){b.generateMipmap(b.TEXTURE_2D)},rk:function(C,R){ib?(C||(C=Na.Hh()),A.pe(R),a(nb[C]),q[R]=-1):Na.h(R)},Hh:function(){-1===rb&&(rb=Math.log(ja)/Math.log(2));return rb},ol:function(C){if(ib){C||(C=Na.Hh());ca.set("s12");A.pe(0);for(var R=ja,fa=la,ha=1;ha<=C;++ha)R/=2,fa/=2,ca.N("u10",.25/R,.25/fa),b.viewport(0,0,R,fa),a(nb[ha-1]),b.framebufferTexture2D(wa.rd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,nb[ha],0),Y.l(!1,1===ha);q[0]=-1}else Na.nd()},
$p:function(C){(P=!(Array.isArray(C)||C.constructor===Float32Array||C.constructor===Uint8Array))?(Pa=null,O.ia=C,v()):Pa=C},h:function(C){if(!Ea)return!1;A.pe(C);if(q[C]===M)return!1;a(ka);q[C]=M;return!0},Na:function(C){b.activeTexture(n[C]);l=C;a(ka);q[C]=M},o:function(){t=Na;b.framebufferTexture2D(wa.rd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ka,0)},M:function(){t=Na;b.viewport(0,0,ja,la);b.framebufferTexture2D(wa.rd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ka,0)},Zd:A.Zd,En:function(C,R){ja=C;la=R},resize:function(C,
R){Na.En(C,R);Q()},clone:function(C){C=A.instance({width:ja,height:la,S:O.S,isFloat:O.isFloat,isLinear:O.isLinear,isMirrorY:O.isMirrorY,isFlipY:C?!jb:jb,isPot:O.isPot});ob.set("s0");wa.fa();C.o();b.viewport(0,0,ja,la);Na.h(0);Y.l(!0,!0);return C},Kc:function(){b.viewport(0,0,ja,la)},remove:function(){b.deleteTexture(ka);U=!0;H.splice(H.indexOf(Na),1);Na=null},refresh:function(){Na.Na(0);jb&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);P?b.texImage2D(b.TEXTURE_2D,0,Xa,Ua,Va,O.ia):b.texImage2D(b.TEXTURE_2D,
0,Xa,ja,la,0,Ua,Va,Pa);jb&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Hi:function(){ma||ea();b.readPixels(0,0,ja,4*la,b.RGBA,b.UNSIGNED_BYTE,La);N();return na},an:function(){ma||ea();return xa.Zf(0,0,ja,4*la,La).then(function(){N();return na})},cn:function(){Hb||ia();b.readPixels(0,0,ja,la,b.RGBA,b.UNSIGNED_BYTE,ba);return Ya},bn:function(){Hb||ia();return xa.Zf(0,0,ja,la,ba)},kh:function(C){wa.aa();ca.set("s13");Na.h(0);if(C)b.viewport(0,0,ja,la),ca.Qn("u11",.25,.25,.25,.25),Y.l(!1,!0);else for(C=
0;4>C;++C)b.viewport(0,la*C,ja,la),ca.xa("u11",k[C]),Y.l(!1,0===C)},Eg:function(C){var R;if(R=Va===x[0])null!==G.lf?R=G.lf:(R=e(new Uint8Array([127,127,127,127]),!1),R=null===R?!0:G.lf=R),R=!R;a(ka);jb&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);R?(Z||(V=document.createElement("canvas"),V.width=ja,V.height=la,W=V.getContext("2d"),W.createImageData(ja,la),Z=!0),null.data.set(C),W.putImageData(null,0,0),b.texImage2D(b.TEXTURE_2D,0,Xa,Ua,Va,V)):b.texImage2D(b.TEXTURE_2D,0,Xa,ja,la,0,Ua,Va,C);q[l]=M;jb&&
b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},mq:function(C,R){a(ka);R&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,Xa,Ua,Va,C);q[l]=M;R&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Hc:function(C,R){var fa=ja*la,ha=4*fa;C=O.S?C?"RGBE":"JSON":"RGBA";R&&(C=R);R=xa.ja()&&!1;var Ia=null;switch(C){case "RGBE":Ia="s44";break;case "JSON":Ia=R?"s0":"s13";break;case "RGBA":case "RGBAARRAY":Ia="s7"}ma||("RGBA"===C||"RGBE"===C||"RGBAARRAY"===C?(Ba=new Uint8Array(ha),ma=!0):"JSON"!==C||R||ea());
wa.aa();ca.set(Ia);Na.h(0);ha=null;if("RGBA"===C||"RGBE"===C||"RGBAARRAY"===C){b.viewport(0,0,ja,la);Y.l(!0,!0);b.readPixels(0,0,ja,la,b.RGBA,b.UNSIGNED_BYTE,Ba);if("RGBAARRAY"===C)return{data:Ba};f||(B=document.createElement("canvas"),I=B.getContext("2d"),f=!0);B.width=ja;B.height=la;fa=I.createImageData(ja,la);fa.data.set(Ba);I.putImageData(fa,0,0);ha=B.toDataURL("image/png")}else if("JSON"===C)if(R)ha=new Float32Array(fa),b.viewport(0,0,ja,la),Y.l(!0,!0),b.readPixels(0,0,ja,la,b.RGBA,b.FLOAT,ha);
else{for(ha=0;4>ha;++ha)b.viewport(0,la*ha,ja,la),ca.xa("u11",k[ha]),Y.l(!ha,!ha);Na.Hi();ha=Array(fa);for(R=0;R<fa;++R)ha[4*R]=na[0][R],ha[4*R+1]=na[1][R],ha[4*R+2]=na[2][R],ha[4*R+3]=na[3][R]}return{format:C,data:ha,width:ja,height:la,isMirrorY:O.isMirrorY,isFlipY:"RGBA"===C?O.isFlipY:!O.isFlipY}}};O.isMipmap&&!ib&&Ea&&!sb&&(Na.nd(),sb=!0);if(O.url)a(ka),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),ra=new Image,ra.ap="Anonymous",ra.crossOrigin="Anonymous",ra.src=O.url,ra.onload=
function(){ja=ra.width;la=ra.height;Q()};else if(O.ia){var Ga=function(){v();ja?Q():setTimeout(Ga,1)};Ga()}else O.array?(O.S&&!O.isFloat?O.array instanceof Uint16Array?(Pa=O.array,Q()):d()?(Pa=c(O.array),Q()):(Q(),A.xh(b,ka,Na.L(),Na.Y(),O.array,jb,!0)):(Pa=O.isFloat?O.array instanceof Float32Array?O.array:new Float32Array(O.array):O.array instanceof Uint8Array?O.array:new Uint8Array(O.array),Q()),O.isKeepArray||(Pa&&Pa!==O.array&&(Pa=null),delete O.array)):O.Kh?Ea=!0:Q();Na.xp=Na.L;O.R&&Ea&&(O.R(Na),
O.R=null);H.push(Na);return Na},aa:function(p){p!==l&&(b.activeTexture(n[p]),l=p);q[p]=-1;a(null)},tk:function(p){u.random.h(p)},Zd:function(){t=null;b.framebufferTexture2D(wa.rd(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){0!==l&&b.activeTexture(n[0]);for(var p=0;p<n.length;++p)q[p]=-1;l=-1},Rp:function(){l=-1},uj:function(){for(var p=0;p<n.length;++p)A.aa(p)},K:function(){u&&(u.random.remove(),u.sj.remove())},Nc:function(p,v){if("RGBA"===p.format||"RGBE"===p.format){var J=new Image;
J.src=p.data;J.onload=function(){A.instance({isMirrorY:p.isMirrorY,isFlipY:p.isFlipY,isFloat:!1,ia:J,R:function(Q){if("RGBA"===p.format)v(Q);else{var N=p.width,ea=p.height,ia=A.instance({isMirrorY:p.isMirrorY,isFloat:!0,width:N,height:ea,isFlipY:p.isFlipY});wa.fa();b.viewport(0,0,N,ea);ca.set("s45");ia.o();Q.h(0);Y.l(!0,!0);A.aa(0);v(ia);xa.flush();setTimeout(Q.remove,50)}}})}}else"JSON"===p.format?v(A.instance({isFloat:!0,isFlipY:p.isFlipY,width:p.width,height:p.height,array:new Float32Array(p.data)})):
v(!1)},Gk:c,v:function(){t&&(wa.fa(),A.Zd(),wa.aa());A.uj();H.slice(0).forEach(function(p){p.remove()});H.splice(0);w=!1;z=0;"undefined"!==typeof Db&&Db.v();u=null}};return A}(),Hc={instance:function(a){var c=[aa.instance(a),aa.instance(a)],d=[c[1],c[0]],e=d,l={Wi:function(n){e[1].o();e[0].h(n);l.ij()},zn:function(n){e[1].M();e[0].h(n);l.ij()},ij:function(){e=e===c?d:c},refresh:function(){e[0].refresh();e[1].refresh()},h:function(n){e[0].h(n)},Na:function(n){e[0].Na(n)},sk:function(n){e[1].h(n)},
sp:function(){return e[0]},vp:function(){return e[1]},Eg:function(n){e[0].Eg(n);e[1].Eg(n)},remove:function(){e[0].remove();e[1].remove();e=null},sync:function(){l.zn(0);ca.set("s0");Y.l(!1,!1)}};return l}},Y=function(){function a(u){var t={ha:null,U:null};t.ha=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,t.ha);u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),u.STATIC_DRAW);t.U=u.createBuffer();u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,t.U);u.bufferData(u.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,
1,2]),u.STATIC_DRAW);return t}var c=null,d=0,e=!1,l=[],n=-2,z=-2,q={reset:function(){z=n=-2},m:function(){e||(c=a(b),q.Zc(),e=!0)},instance:function(u){var t=d++,x=u.U?u.U.length:0,F="undefined"===typeof u.mode?b.STATIC_DRAW:u.mode,y=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,y);b.bufferData(b.ARRAY_BUFFER,u.ha instanceof Float32Array?u.ha:new Float32Array(u.ha),F);n=t;var w=null,H=null,g=null;if(u.U){w=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w);var f=null;65536>u.U.length?(f=Uint16Array,
H=b.UNSIGNED_SHORT,g=2):(f=Uint32Array,H=b.UNSIGNED_INT,g=4);f=u.U instanceof f?u.U:new f(u.U);b.bufferData(b.ELEMENT_ARRAY_BUFFER,f,F);z=t}var B={rc:function(I){n!==t&&(b.bindBuffer(b.ARRAY_BUFFER,y),n=t);I&&ob.Qd()},pk:function(){z!==t&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w),z=t)},bind:function(I){B.rc(I);B.pk()},V:function(){b.drawElements(b.TRIANGLES,x,H,0)},Ga:function(I,k){b.drawElements(b.TRIANGLES,I,H,k*g)},remove:function(){b.deleteBuffer(y);u.U&&b.deleteBuffer(w);B=null}};l.push(B);return B},
Zc:function(){-1!==n&&(b.bindBuffer(b.ARRAY_BUFFER,c.ha),n=-1);-1!==z&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.U),z=-1)},l:function(u,t){u&&Y.Zc();t&&ob.$b();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},Kb:function(u){u=u||b;var t=a(u);u.bindBuffer(u.ARRAY_BUFFER,t.ha);u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,t.U);ob.ac(u);u.clear(u.COLOR_BUFFER_BIT);u.drawElements(u.TRIANGLES,3,u.UNSIGNED_SHORT,0);u.flush();u.bindBuffer(u.ARRAY_BUFFER,null);u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,null);u.deleteBuffer(t.ha);
u.deleteBuffer(t.U);q.reset();e&&(q.Zc(),ob.$b())},K:function(){var u=b,t=c;u.deleteBuffer(t.ha);u.deleteBuffer(t.U)},v:function(){q.K();l.forEach(function(u){u.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);q.reset();e=!1;l.splice(0);d=0}};return q}(),wa=function(){var a=null,c=null,d=null,e=!1,l=[],n={ma:-2,wh:1},z={Ub:function(){return e},m:function(){if(!e){a=b.createFramebuffer();var q=xa.ja();c=q&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;d=
q&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;e=!0}},wl:function(){return c},Dh:function(){return d},rd:function(){return b.FRAMEBUFFER},wp:function(){return n},lp:function(){return a},instance:function(q){void 0===q.xc&&(q.xc=!1);var u=q.ka?q.ka:null,t=q.width,x=void 0!==q.height?q.height:q.width,F=a,y=null,w=!1,H=!1,g=0;u&&(t=t?t:u.L(),x=x?x:u.Y());var f={Qi:function(){w||(F=b.createFramebuffer(),w=!0,g=n.wh++)},Uc:function(){f.Qi();f.o();y=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,
y);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,t,x);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,y);b.clearDepth(1)},bind:function(B,I){g!==n.ma&&(b.bindFramebuffer(c,F),n.ma=g);u&&u.o();I&&b.viewport(0,0,t,x);B&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Sg:function(){g!==n.ma&&(b.bindFramebuffer(c,F),n.ma=g)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},ze:function(){b.clear(b.COLOR_BUFFER_BIT)},Zg:function(){b.clear(b.DEPTH_BUFFER_BIT)},Kc:function(){b.viewport(0,
0,t,x)},o:function(){g!==n.ma&&(b.bindFramebuffer(c,F),n.ma=g)},rtt:function(B){u=B;n.ma!==g&&(b.bindFramebuffer(b.FRAMEBUFFER,F),n.ma=g);B.o()},aa:function(){b.bindFramebuffer(c,null);n.ma=-1},resize:function(B,I){t=B;x=I;y&&(b.bindRenderbuffer(b.RENDERBUFFER,y),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,t,x))},remove:function(){F===a||H||(b.bindFramebuffer(c,F),b.framebufferTexture2D(c,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),y&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,
null),b.bindFramebuffer(c,null),b.deleteFramebuffer(F),y&&b.deleteRenderbuffer(y));H=!0}};q.xc&&f.Uc();l.push(f);return f},aa:function(){b.bindFramebuffer(c,null);n.ma=-1},kq:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);xa.fj();n.ma=-1},reset:function(){n.ma=-2},fa:function(){0!==n.ma&&(b.bindFramebuffer(c,a),n.ma=0)},clear:function(){xa.fj();b.clear(b.COLOR_BUFFER_BIT)},v:function(){z.aa();l.forEach(function(q){q.remove()});null!==a&&(b.deleteFramebuffer(a),
a=null);z.reset();e=!1;l.splice(0);n.wh=1}};return z}(),xa=function(){function a(){q="undefined"===typeof cb?da:cb;u=!0}function c(k,m){for(var h=0;h<k.length;++h){var E=m.getExtension(k[h]);if(E)return E}return null}function d(){null!==f.Yd&&(clearTimeout(f.Yd),f.Yd=null);f.Pb=!1}function e(k){if(0===f.rb.length){f.Aa=b.PIXEL_PACK_BUFFER;f.rb.splice(0);f.sd.splice(0);for(var m=0;m<f.tc;++m)f.rb.push(b.createBuffer()),f.sd.push(-1);f.Oa=0;f.Of=0}b.bindBuffer(f.Aa,f.rb[f.Oa]);k.byteLength!==f.sd[f.Oa]&&
(b.bufferData(f.Aa,k.byteLength,b.STREAM_READ),f.sd[f.Oa]=k.byteLength);f.Cp=!0}function l(){b.bindBuffer(f.Aa,null)}function n(){f.Nb.forEach(function(k){b.deleteSync(k)});f.Nb.splice(0)}function z(){f.Oa=(f.Oa+1)%f.tc;++f.Of}var q=null,u=!1,t={Vh:!1,xg:null,yg:null,$h:!1,mm:!1,zg:null,ai:!1,Ag:null,Wh:!1,Ae:null,dm:!1,Be:null,em:!1},x=null,F={Qa:!0,Sa:!0,Se:!0,Gi:!1},y=null,w=!0,H=null,g=null,f={Hk:1,tc:-1,Oa:0,Of:0,Pb:!1,rb:[],Nb:[],sd:[],Aa:null,Yd:null},B="undefined"===typeof window?{}:window,
I={m:function(){if(u)return!0;I.reset();u||a();var k=b;if(!x.Vh){x.xg=I.th(k);B.GL_EXT_FLOAT=x.xg;x.$h=x.xg?!0:!1;if(x.$h||I.ja())x.yg=I.uh(k),x.mm=x.yg?!0:!1,B.GL_EXT_FLOATLINEAR=x.yg;x.Vh=!0}if(!x.Wh){x.zg=I.jd(k);x.zg&&(x.ai=!0,B.GL_EXT_HALFFLOAT=x.zg);if(x.ai||I.ja())x.Ag=I.vh(k),B.GL_EXT_HALFFLOATLINEAR=x.Ag;x.Ep=x.Ag?!0:!1;x.Wh=!0}x.Ae=I.rh(k);x.dm=x.Ae?!0:!1;B.GL_EXT_COLORBUFFERFLOAT=x.Ae;x.Be=I.sh(k);x.em=x.Be?!0:!1;B.GL_EXT_COLORBUFFERHALFFLOAT=x.Be;wa.m();aa.m();if(!I.Tk())return!1;Y.m();
aa.Xl();return!0},reset:function(){x=Object.assign({},t);y=Object.assign({},F)},L:function(){u||a();return q.L()},Y:function(){u||a();return q.Y()},ja:function(){u||a();return q.ja()},qh:function(k){I.rh(k);I.sh(k);I.th(k);I.uh(k);I.jd(k);I.vh(k)},rh:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),sh:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),th:c.bind(null,["OES_texture_float","MOZ_OES_texture_float",
"WEBKIT_OES_texture_float"]),uh:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),jd:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),vh:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Xe:function(k){var m=I.jd(k);return m&&m.HALF_FLOAT_OES?m.HALF_FLOAT_OES:k.HALF_FLOAT||k.FLOAT},xl:function(){return g||b.RGBA32F||b.RGBA},
yl:function(){return H||b.RGBA16F||b.RGBA},rl:function(){return y},ea:function(){return y.Qa},Wo:function(){return y.Sa},zk:function(){return y.Se},Ck:function(){return y.Gi&&w},rj:function(k){w=k;!k&&f.Pb&&(n(),b.bindBuffer(f.Aa,null),f.Pb=!1)},Hp:function(){return f.Pb},Wd:function(k,m,h){function E(){k.bindTexture(k.TEXTURE_2D,null);k.bindFramebuffer(K,null);k.deleteTexture(p);k.deleteFramebuffer(A)}var K=k.FRAMEBUFFER,G=k.NEAREST,A=k.createFramebuffer();k.bindFramebuffer(K,A);var p=k.createTexture();
k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,p);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!1);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,G);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,G);k.texImage2D(k.TEXTURE_2D,0,m,3,3,0,k.RGBA,h,null);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,p,0);if(k.checkFramebufferStatus(k.READ_FRAMEBUFFER||
k.FRAMEBUFFER)!==k.FRAMEBUFFER_COMPLETE)return E(),!1;ob.Od(k);k.clearColor(0,0,0,0);k.viewport(0,0,3,3);k.disable(k.DEPTH_TEST);k.clear(k.COLOR_BUFFER_BIT);Y.Kb(k);k.bindFramebuffer(K,null);ob.ub(k);k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,p);Y.Kb(k);m=new Uint8Array(36);k.readPixels(0,0,3,3,k.RGBA,k.UNSIGNED_BYTE,m);E();for(h=0;36>h;++h)if(3!==h%4&&3<Math.abs(m[h]-127))return!1;return!0},Ke:function(k){var m={Qa:!1,Sa:!1};k.disable(k.BLEND);k.clearColor(0,0,0,0);k.clear(k.COLOR_BUFFER_BIT);
k.RGBA32F&&I.Wd(k,k.RGBA32F,k.FLOAT)&&(m.Qa=!0,g=k.RGBA32F);!m.Qa&&I.Wd(k,k.RGBA,k.FLOAT)&&(m.Qa=!0,g=k.RGBA);var h=I.Xe(k);H=null;k.RGBA16F&&I.Wd(k,k.RGBA16F,h)&&(m.Sa=!0,H=k.RGBA16F);!m.Sa&&I.Wd(k,k.RGBA,h)&&(m.Sa=!0,H=k.RGBA);return m},Vk:function(){var k=wa.instance({width:2});k.Qi();var m=aa.instance({width:2,isFloat:!0,F:3});k.o();m.o();I.flush();b.checkFramebufferStatus(wa.Dh())!==b.FRAMEBUFFER_COMPLETE?(aa.Ln(),y.Se=!1):y.Se=!0;k.remove();m.remove()},Wk:function(){var k=!1;I.ja()&&(k="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(m){return"undefined"!==
typeof b[m]}));y.Gi=k},Tk:function(){var k=I.Ke(b);Object.assign(y,k);if(!y.Qa&&!y.Sa)return!1;I.Vk();I.Wk();return!0},dn:function(k,m,h,E,K){b.readPixels(k,m,h,E,b.RGBA,b.UNSIGNED_BYTE,K);return Promise.resolve(K,!1)},Zf:function(k,m,h,E,K,G,A){if(!I.Ck())return I.dn(k,m,h,E,K);f.tc=A||f.Hk;e(K);b.readPixels(k,m,h,E,b.RGBA,b.UNSIGNED_BYTE,0);f.Nb[f.Oa]=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);I.flush();var p=!1;return new Promise(function(v,J){function Q(){if(!f.Pb)return d(),l(),z(),J(),!1;var N=
(f.Oa+1)%f.tc;switch(b.clientWaitSync(f.Nb[N],0,0)){case b.TIMEOUT_EXPIRED:case b.WAIT_FAILED:break;default:return d(),b.deleteSync(f.Nb[N]),f.Nb[N]=null,b.bindBuffer(f.Aa,f.rb[N]),b.getBufferSubData(f.Aa,0,K),l(),z(),v(K,p),!0}f.Yd=setTimeout(Q,0);return!1}d();f.Of+1<f.tc?(l(),z(),v(K,!1)):(f.Pb=!0,Q()||!G||p||(p=!0,G()))})},fj:function(){b.viewport(0,0,I.L(),I.Y())},flush:function(){b.flush()},v:function(){d();n();aa.v();wa.v();Y.v();f.rb.forEach(function(k){b.deleteBuffer(k)});f.rb.splice(0);ob.reset();
u=!1}};return I}(),Db=function(){function a(h,E,K,G){f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,G?f.NEAREST_MIPMAP_NEAREST:f.LINEAR);var A=null;if(null!==K)try{A=f.getError();if("FUCKING_BIG_ERROR"===A)return!1;f.texImage2D(f.TEXTURE_2D,0,h,4,4,0,f.RGBA,E,K);A=f.getError();if(A!==f.NO_ERROR)return!1}catch(p){return!1}G&&f.generateMipmap(f.TEXTURE_2D);f.clear(f.COLOR_BUFFER_BIT);Y.Kb(f);A=f.getError();if("FUCKING_BIG_ERROR"===A)return!1;f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,x);A=f.getError();
A===f.INVALID_OPERATION&&"undefined"!==typeof f.PIXEL_PACK_BUFFER&&(f.bindBuffer(f.PIXEL_PACK_BUFFER,null),f.readPixels(0,0,2,2,f.RGBA,f.UNSIGNED_BYTE,x),A=f.getError());if(A!==f.NO_ERROR)return!1;K=!0;for(G=0;16>G;++G)K=K&&4>Math.abs(x[G]-127);K&&(u.Ci=E,u.Th=h);return K}function c(h,E){return B.Qa&&a(h,f.FLOAT,new Float32Array(F),E)?(q=z.Pg,!0):!1}function d(h,E,K){if(!B.Sa)return!1;var G=aa.Gk(F),A=xa.jd(f);if(A&&A.HALF_FLOAT_OES&&a(h,A.HALF_FLOAT_OES,G,E)||f.HALF_FLOAT&&a(h,f.HALF_FLOAT,G,E))return q=
z.mc,!0;G=new Float32Array(F);if(a(h,f.FLOAT,G,E))return q=z.mc,!0;f.bindTexture(f.TEXTURE_2D,K);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,2,2,0,f.RGBA,f.UNSIGNED_BYTE,null);f.bindFramebuffer(u.dd,m);aa.xh(f,K,2,2,G,!1,!1);f.bindFramebuffer(u.dd,null);f.bindTexture(f.TEXTURE_2D,K);return a(h,null,null,E)?(q=z.mc,!0):!1}function e(h,E,K){t=!0;if(d(h,!0,K)||c(E,!0))return!0;t=!1;return d(h,!1,K)||c(E,!1)?!0:!1}function l(h){if(q===z.H){f=h||b;q=z.RGBA8;t=!0;xa.qh(f);B||(B=xa.Ke(f));wa.reset();m=f.createFramebuffer();
u.dd=f.DRAW_FRAMEBUFFER||f.FRAMEBUFFER;f.bindFramebuffer(u.dd,null);f.clearColor(0,0,0,0);f.viewport(0,0,2,2);ca.H();I=ca.ub(f);h=f.createTexture();f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,h);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);k=h;var E=h=f.RGBA,K=f.RGBA16F,G=f.RGBA32F;G&&(h=G);K&&(E=K);if((K||G)&&e(E,h,k))return n(),!0;h=E=f.RGBA;if(e(E,h,k))return n(),
!0;q=z.RGBA8;n();return!1}}function n(){f.deleteProgram(I.na);f.deleteTexture(k);k=I=null}for(var z={H:-1,Pg:3,mc:2,RGBA8:0},q=z.H,u={Ci:null,Th:null,dd:null},t=!0,x=new Uint8Array(16),F=Array(64),y=0;4>y;++y)for(var w=0;4>w;++w){var H=0===(w+y)%2?1:0,g=4*y+w;F[4*g]=H;F[4*g+1]=H;F[4*g+2]=H;F[4*g+3]=H}var f=null,B=null,I=null,k=null,m=null;return{Ak:function(h){l(h);return t},Xg:function(h,E){q===z.H&&(typeof("undefined"!==E)&&(B=E),l(h));return q!==z.RGBA8},Fp:function(h){l(h);return q===z.Pg},pm:function(h){l(h);
return q===z.mc},rp:function(h){l(h);return u.Ci},zl:function(h){l(h);return u.Th},v:function(){f=null;t=!0;q=z.H;B=null}}}(),Tc={instance:function(a){var c=null,d=!1,e=!1,l=null,n=!1,z=!1,q=null,u="undefined"===typeof a.preprocessing?!1:a.preprocessing,t="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(d=!0,L&&void 0!==L.ba&&(a.mask=L.ba+a.mask),c=aa.instance({isFloat:!1,url:a.mask}));var x=!1;a.customInputShader&&(x="s46",ca.oa({name:"_",id:x,g:a.customInputShader,lq:["uSource"],
precision:"lowp"}),ca.j(x,[{type:"1i",name:"_",value:0}]));switch(u){case "sobel":q="s33";n=!0;break;case "meanNormalization":q="s34";n=!0;break;case "grayScale":q="s30";n=!1;break;case "grayScaleTilt":q="s31";z=!0;n=!1;break;case "rgbGrayTilt":q="s32";z=!0;n=!1;break;case "copy":q=x?x:"s0";break;case "inputLightRegulation":q=x?x:"s30";l=fd.instance({Sh:t,wi:a.size,ri:a.nBlurPass,xd:!1});e=!0;break;case "inputMix0":q="none";l=gd.instance({ta:t,Aj:a.varianceMin,Tg:a.blurKernelSizePx,gain:a.gain||1,
xd:!1});e=!0;break;case "direct":case "none":q="abort";break;default:q="s4"}z&&ca.j(q,[{name:"u26",type:"1f",value:a.tilt}]);d&&(q+="Mask");var F=aa.instance({isFloat:!1,isPot:!1,width:a.size}),y={L:function(){return t},Ye:function(){return y.L()},Dl:function(){return e?l.Ze():F},wa:function(w){wa.fa();"abort"!==q&&("none"!==q&&(ca.set(q),n&&ca.G("u27",1/a.size),F.M(),d&&c.h(1),Y.l(!1,!1),F.h(0),w=F),e&&l.process(w))},v:function(){F.remove();d&&c.remove()}};return y}},Uc={instance:function(a){function c(E){l.forEach(function(K,
G){n[G][0]=E[0][K];n[G][1]=E[1][K];n[G][2]=E[2][K];n[G][3]=E[3][K]});return n}a.normalize=a.normalize||!1;var d={input:null,bias:null,pf:null,Va:null,Fd:null,Rf:null,Sf:null},e=null,l=[],n=[],z=!1,q=null,u=!0,t=-1,x=a.isReorganize?a.isReorganize:!1,F=a.kernelsCount?!0:!1,y=["s27","s28","s29"][a.shiftRGBAMode||0],w={isEnabled:!1};a.jm?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Kd.Ye(),u=!1):"full"===a.connectivityUp&&(a.sparsity=a.Kd.Ye());var H={elu:"s16",elu01:"s17",relu:"s15",arctan:"s18",
arctan2:"s19",sigmoid:"s14",copy:"s0"}[a.activation],g=a.sparsity*a.sparsity,f=!1,B=a.size,I="";if(a.maxPooling){switch(a.maxPooling.size){case 2:I="s35";break;case 4:I="s36"}f=!0;B/=a.maxPooling.size;d.Rf=aa.instance({isFloat:!0,isPot:!1,width:B})}var k=-1,m=null;u&&(d.Va=aa.instance({isFloat:!0,isPot:!1,width:a.size}));d.bias=aa.instance(a.bias);var h={L:function(){return a.size},Ye:function(){return B},Ah:function(){return a.classesCount},qk:function(E){e.h(E)},Um:function(){a.remap&&a.remap.isEnabled&&
(w={isEnabled:!0,Dm:aa.instance(a.remap.maskTexture),zd:a.remap.layers.map(function(E){return a.parent.Al(E)}),depth:a.remap.depth})},Mn:function(){switch(a.connectivityUp){case "direct":m=hd.instance(a.connectivity);break;case "square":m=id.instance(a.connectivity);break;case "squareFast":m=jd.instance(a.connectivity,a.activation);break;case "full":m=kd.instance(a.connectivity);break;case "conv":t=a.kernelsCount,m=ld.instance(a.connectivity),x&&(d.Fd=aa.instance({width:B,isFloat:!0,isFlipY:!1,isPot:!1}))}if(m.ec){var E=
a.size*a.sparsity;k=Math.log(E/a.size)/Math.log(2);d.input=aa.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:E,If:k});d.pf=aa.instance({isFloat:!0,isPot:!0,width:a.size})}},wa:function(E,K){e=E;m.ec?(d.input.M(),F&&d.bias.h(2),m.wa(w),d.input.h(0),d.input.ol(k),d.pf.M(),F?ca.set("s0"):(ca.set(y),ca.G("u4",g),d.bias.h(1)),d.input.rk(k,0),Y.l(!1,!1),ca.set(H),d.Va.o(),d.pf.h(0),Y.l(!1,!1)):(d.Va.M(),d.bias.h(1),m.wa());if(u)return f?(d.Rf.M(),d.Va.h(0),ca.set(I),ca.N("u10",1/a.size,1/a.size),Y.l(!1,
!1),K=d.Rf):K=d.Va,K.h(0),x&&(d.Fd.o(),ca.set("s21"),ca.N("u14",t,B/t),Y.l(!1,!1),K=d.Fd,d.Fd.h(0)),K;var G=d.Va;a.normalize&&(ca.set("gpuRawAvg"===z?"s9":"s8"),ca.G("u6",1/a.size),d.Sf.M(),d.Va.h(0),Y.l(!1,!1),G=d.Sf);E=null;switch(z){case "cpuRGBA2Float":G.kh(!1);K?E=h.Zm(G).then(q):(G=h.$m(G),q(G));break;case "cpuMeanFloat":G.kh(!0);if(K)E=G.bn().then(q);else{G=G.cn();for(var A=0;A<G.length;++A);q(G)}break;case "gpuRawAvg":case "gpuRaw":G.h(0);case "none":null!==q&&q(G)}K&&null===E&&(E=Promise.resolve());
return E},Jk:function(E){E&&(z=E.Tf||"none",q=E.Qf||null);d.Va=aa.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});E="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var K=0,G=0,A=0;K<E;++K)l.push(G+(a.size-1-A)*a.size),n.push([-1,-1,-1,-1]),++G,G===a.size&&(G=0,++A);a.normalize&&(d.Sf=aa.instance({isFloat:!0,isPot:!0,width:a.size}))},Zm:function(E){return E.an().then(c)},$m:function(E){E=E.Hi();c(E);return n},v:function(){for(var E in d){var K=d[E];K&&
K.remove()}m&&(m.v(),m=null)}};a.Kd&&h.Mn(a.Kd);return h}},hd={instance:function(a){var c=aa.instance(a.weights);return{ec:!0,qd:function(){return 1},v:function(){c.remove()},Rl:function(){return c},wa:function(){ca.set("s26");c.h(1);Y.l(!1,!1)}}}},kd={instance:function(a){var c=a.fromLayerSize,d=aa.instance(a.weights);return{ec:!0,qd:function(){return c},v:function(){d.remove()},wa:function(e){if(e.isEnabled){ca.set("s24");e.Dm.h(3);for(var l=Math.min(e.zd.length,e.depth),n=0;n<l;++n)e.zd[n].qk(4+
n)}else ca.set("s23");ca.G("u18",a.toLayerSize);ca.G("u19",a.fromLayerSize);d.h(1);Y.l(!1,!1)}}}},id={instance:function(a){for(var c=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,l=e*d,n=l/c,z=c/d,q=0,u=0,t=0,x=Array(e*d*e*d*4),F=Array(e*d*e*d*4),y=Array(c*c),w=0;w<y.length;++w)y[w]=0;w=Math.floor(e/2);for(var H=.5/d,g=.5/c,f=.5/l,B=0;B<d;++B)for(var I=Math.round(B*z),k=0;k<d;++k){var m=Math.round(k*z),h=B/d,E=k/d;h+=H;E+=H;for(var K=0;K<e;++K){var G=I+K-w;0>G&&(G+=c);G>=c&&(G-=c);for(var A=0;A<
e;++A){var p=q/l,v=u/l,J=m+A-w;0>J&&(J+=c);J>=c&&(J-=c);var Q=G/c,N=J/c;v=1-v-1/l;Q+=g;N+=g;p+=f;v+=f;var ea=B*e+K,ia=k*e+A;ia=d*e-ia-1;ea=ia*d*e+ea;x[4*ea]=p;x[4*ea+1]=v;x[4*ea+2]=Q;x[4*ea+3]=N;N=y[J*c+G]++;ea=N%n;Q=G*n+ea;J=J*n+(N-ea)/n;J=c*n-1-J;J=J*c*n+Q;F[4*J]=p;F[4*J+1]=v;F[4*J+2]=h;F[4*J+3]=E;++q>=l&&(q=0,++u);++t}}}y=null;var ba=aa.instance(a.weights);delete a.weights.data;var O=aa.instance({width:l,isFloat:!0,array:new Float32Array(F),isPot:!0});F=null;var M=aa.instance({width:l,isFloat:!0,
array:new Float32Array(x),isPot:!0});x=null;return{ec:!0,qd:function(){return n},v:function(){O.remove();M.remove();ba.remove()},wa:function(){ca.set("s22");ba.h(1);M.h(2);Y.l(!1,!1)}}}},ld={instance:function(a){var c=a.kernelsCount,d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,l=aa.instance(a.weights);return{ec:!0,qd:function(){return e},zp:function(){return d},Rl:function(){return l},v:function(){l.remove()},wa:function(){ca.set("s25");ca.G("u24",c);ca.G("u25",d);ca.G("u18",a.toLayerSize);ca.G("u19",
a.fromLayerSize);l.h(1);Y.l(!1,!1)}}}},jd={instance:function(a,c){var d=a.fromLayerSize,e=a.toLayerSize,l=a.toSparsity,n=a.stride?a.stride:1,z=l*e/d,q=e<d,u=d/e,t=aa.instance(a.weights),x="s47"+[d.toString(),e.toString(),l.toString(),n.toString(),c].join("_");ca.ll(x)||(a=Ta(c),e=[{type:"1f",name:"u18",value:e},{type:"1f",name:"u29",value:n}],q&&e.push({type:"1f",name:"u19",value:d}),d=[(q?z:l).toFixed(1),a],q&&d.push(u.toFixed(1)),ca.$l(q?"s41":"s40",x,d),ca.j(x,e.concat([{type:"1i",name:"u16",value:0},
{type:"1i",name:"u3",value:1},{type:"1i",name:"u15",value:3}])));return{ec:!1,qd:function(){return z},v:function(){t.remove()},wa:function(){ca.set(x);t.h(3);Y.l(!1,!1)}}}},fd={instance:function(a){var c=a.ri?a.ri:3,d=a.Sh?a.Sh:64,e=a.wi?a.wi:64,l=a.xd?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var n=aa.instance(a),z=aa.instance(a),q=aa.instance(a),u=aa.instance(a),t=aa.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),x=1/d;return{process:function(F){ca.set("s37");u.o();Y.l(l,!1);ca.set("s38");
for(var y=0;y<c;++y)n.o(),ca.N("u10",x,0),Y.l(l,!1),q.o(),u.h(0),Y.l(l,!1),z.o(),n.h(0),ca.N("u10",0,x),Y.l(l,!1),u.o(),q.h(0),Y.l(l,!1),y!==c-1&&z.h(0);ca.set("s39");t.o();F.h(0);z.h(1);u.h(2);Y.l(l,!1);t.h(0)},Ze:function(){return t}}}},gd={instance:function(a){function c(x){return aa.instance({isFloat:x,width:d.ta,isPot:!1,isFlipY:!1})}var d=Object.assign({Aj:.1,Tg:9,ta:128,gain:1,xd:!1},a),e=c(!1),l=[c(!1),c(!1),c(!1)],n=[c(!1),c(!1),c(!1)],z=c(!0),q=[e,n[0],n[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u30;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u30*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.Tg-1)/2).toFixed(2)).replace("2.2222",(1/d.ta).toFixed(6));var u="uniform sampler2D u31,u32,u33,u34;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u31,vv0).rgb;float c=texture2D(u32,vv0).r,d=texture2D(u33,vv0).r,i=texture2D(u34,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(j-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",d.Aj.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),t={u1:0};ca.qe([{id:"s49",
name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",u:t,i:["u1"],precision:"lowp"},{id:"s50",name:"_",g:a,u:t,i:["u1","u30"],precision:"lowp"},{id:"s51",name:"_",g:u,u:{u31:0,u32:1,u33:2,u34:3},i:["u31","u32","u33","u34"],precision:"highp"}]);return{process:function(){ca.set("s49");e.M();Y.l(d.xd,!1);ca.set("s50");for(var x=0;3>x;++x)ca.N("u30",1,0),l[x].o(),
q[x].h(0),Y.l(!1,!1),ca.N("u30",0,1),n[x].o(),l[x].h(0),Y.l(!1,!1);ca.set("s51");z.o();e.h(0);n[0].h(1);n[1].h(2);n[2].h(3);Y.l(!1,!1);z.h(0)},Ze:function(){return z}}}},Cb=function(){function a(g,f,B,I,k,m,h){if(!w)if(h===m.length)k();else{switch(m[h]){case "A":B();break;case "D":g();break;case "S":f().then(function(E,K){H.qj();a(g,f,B,K?null:I,k,m,++h)}).catch(function(E){console.log("An error occurred in the WebAR loop: ",E);k()});return;case "R":I&&I()}a(g,f,B,I,k,m,++h)}}var c={n:5,Nf:1,hi:0,
md:[35,49],hd:[2,200],k:.7,ko:200,Om:.05},d=-1,e=null,l=-1,n=-1,z=0,q=-1,u=-1,t=0,x=0,F=c.hd[1],y=Math.log(2),w=!0,H={T:function(){switch(d){case -1:return-1;case 0:return u+e.hi;case 1:return t}},Bh:function(g){return Math.pow(Math.min(Math.max(q,0),e.n-1)/(e.n-1),g||1)},m:function(g){e=Object.assign({},c,g);q=u=e.Nf;d=0;H.reset()},qj:function(g){g=("undefined"===typeof g?Date.now():g)||0;var f=Math.min(Math.max(g-x,e.hd[0]),e.hd[1]);F=f;x=g;var B=-1===l?0:e.k;l=Math.min(Math.max(1E3/f,5),120)*(1-
B)+l*B;g-n>e.ko&&5<++z&&(f=e.k,q=q*(1-f)+(l<e.md[0]?u-1:l>e.md[1]?u+1:u)*f,Math.abs(q-u)>1-e.Om&&(f=Math.min(Math.max(Math.round(q),0),e.n-1),f!==u&&(q=u=f,l=(e.md[1]-e.md[0])/2)),n=g)},ag:function(g,f,B,I,k,m){w=!1;a(g,f,B,I,k,m,0)},stop:function(){w=!0},Gn:function(g){t=g;d=1},jo:function(){d=0;H.reset()},reset:function(){F=c.hd[1];n=l=-1;z=0},gq:function(g,f,B){B=Math.exp(-y*F/B);return(1-B)*g+B*f},qp:function(){return F}};return H}(),Ic=function(){function a(F,y){var w=F[0]-.5;F=F[1]-.5;var H=
y[0]-.5;y=y[1]-.5;return w*w+F*F-(H*H+y*y)}var c={si:4,Gd:[1.5,1.5,2],qa:[.1,.1,.1],Oi:1,ta:-1,jf:-1,bo:2,Lm:1,bg:!0,jl:.8},d=null,e=[],l=[],n=[],z=[0],q=[.5,.5,1],u=null,t=0,x=[0,0,0];return{m:function(F){d=Object.assign({},c,F);e.splice(0);l.splice(0);n.splice(0);t=0;F=d.Gd[0]*d.qa[0];var y=d.Gd[1]*d.qa[1],w=1/(1+d.Gd[2]*d.qa[2]),H=d.Oi*Math.min(d.ta,d.jf),g=H/d.ta;H/=d.jf;var f=.5*d.jl;f*=f;for(var B=0;B<d.si;++B){var I=[];l.push(I);var k=Math.pow(w,B),m=g*k,h=H*k;k=m*d.Lm;n.push(k);var E=m*F,
K=h*y;m/=2;h/=2;for(var G=1+(1-m-m)/E,A=1+(1-h-h)/K,p=0;p<A;++p)for(var v=h+p*K,J=v-.5,Q=0;Q<G;++Q){var N=m+Q*E,ea=N-.5;ea*ea+J*J>f||(N=[N,v,k],e.push(N),I.push(N))}d.bg&&I.sort(a);u=e}d.bg&&e.sort(a)},get:function(F){var y=u.length;if(0===y)return q;for(;F>=z.length;)z.push(0);z[F]>=y&&(z[F]=0);var w=u[Math.floor(z[F])%y];z[F]=(z[F]+1/d.bo)%y;if(0===t)return w;x[0]=w[0];x[1]=w[1];x[2]=t;return x},Zp:function(F){t=F;if(0===t)u=e;else{for(var y=Infinity,w=-1,H=n.length,g=0;g<H;++g){var f=F-n[g];f*=
f;f<y&&(y=f,w=g)}u=l[w]}},reset:function(){for(var F=e.length/z.length,y=0;y<z.length;++y)z[y]=Math.floor(y*F);t=0;u=e}}}(),xb=function(){function a(){d(g+w.Jf);f.port.postMessage("DONE")}function c(){m.Vc=0===w.za?I(d):I(e)}function d(A){k.Sb&&null!==H&&(A-=g,A=Math.min(Math.max(A,w.oh[0]),w.oh[1]),g+=A,n(),h.isEnabled&&h.yc&&k.Ia&&g-h.uf>w.Og&&(t(),h.uf=g),H(g))}function e(A){k.Sb&&(m.timeout=setTimeout(d.bind(null,A),w.za))}function l(){H=null;k.Sb=!1;n()}function n(){m.Vc&&(window.cancelAnimationFrame(m.Vc),
m.Vc=null);m.timeout&&(window.clearTimeout(m.timeout),m.timeout=null)}function z(A){A&&!k.Ia?(k.Ia=!0,B&&Cb.jo(),f.port.postMessage("STOP"),xa.rj(!0),c()):!A&&k.Ia&&(k.Ia=!1,B&&Cb.Gn(1),xa.rj(!1),f.port.postMessage("START"))}function q(A){A.target.hidden?K():E()}function u(A,p,v){p=A.createShader(p);A.shaderSource(p,v);A.compileShader(p);return p}function t(){h.yc=!1;var A=h.Ra,p=h.td,v=h.ud,J=h.Aa;A.uniform1f(h.Lh,Math.random());h.Tb?p.beginQueryEXT(J,v):A.beginQuery(J,v);A.drawElements(A.POINTS,
1,A.UNSIGNED_SHORT,0);h.Tb?p.endQueryEXT(J):A.endQuery(J);xa.flush();F().then(function(Q){0===Q||isNaN(Q)?(h.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",Q)):(Q=w.Gj*w.Ng*1E3/Q,h.ce=(h.ce+1)%w.lc,h.vf[h.ce]=Q,++h.fi>w.lc&&(h.yd.set(h.vf),h.yd.sort(function(N,ea){return N-ea}),Q=h.yd[Math.floor(w.lc/2)],h.ld=Math.max(h.ld,Q),w.Mg(Q/h.ld)),h.yc=!0)}).catch(function(){h.yc=!0})}function x(A){var p=h.Ra,v=h.td,J=h.ud;J=h.Tb?v.kp(J,
v.QUERY_RESULT_AVAILABLE_EXT):p.getQueryParameter(J,p.QUERY_RESULT_AVAILABLE);p=p.getParameter(v.GPU_DISJOINT_EXT);J?A(!p):setTimeout(x.bind(null,A),.1)}function F(){return new Promise(function(A,p){x(function(v){if(v){v=h.Ra;var J=h.td,Q=h.ud;v=h.Tb?J.getQueryObjectEXT(Q,J.QUERY_RESULT_EXT):v.getQueryParameter(Q,v.QUERY_RESULT);A(v)}else p()})})}var y={Xh:!0,oh:[1,200],Jf:20,za:0,Ng:50,Gj:240,Og:3E3,lc:3,Mg:null},w=null,H=null,g=0,f=null,B=!1,I=null,k={Ha:!1,Ia:!0,tf:!1,sf:!1,rf:!1,Sb:!1},m={Vc:null,
timeout:null},h={isEnabled:!1,yc:!1,Ra:null,td:null,ud:null,Aa:null,Lh:null,Tb:!0,uf:0,fi:0,vf:null,yd:null,ce:0,ld:0},E=z.bind(null,!0),K=z.bind(null,!1),G={m:function(A){w=Object.assign(y,A);Object.assign(k,{Ia:!0,Ha:!0,Sb:!1});I=window.requestPostAnimationFrame||window.requestAnimationFrame;if(null!==w.Mg){A=document.createElement("canvas");A.setAttribute("width","1");A.setAttribute("height","1");var p={antialias:!1};A=A.getContext("webgl2",p)||A.getContext("webgl",p);if(p=A.getExtension("EXT_disjoint_timer_query")||
A.getExtension("EXT_disjoint_timer_query_webgl2")){h.Ra=A;h.td=p;h.isEnabled=!0;h.Tb=p.beginQueryEXT?!0:!1;var v=u(A,A.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),J=u(A,A.FRAGMENT_SHADER,"precision lowp float;uniform float u35;void main(){vec4 a=u35*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",w.Ng.toString())),Q=A.createProgram();A.attachShader(Q,v);A.attachShader(Q,J);A.linkProgram(Q);v=A.getAttribLocation(Q,"a0");h.Lh=A.getUniformLocation(Q,
"u35");A.useProgram(Q);A.enableVertexAttribArray(v);Q=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,Q);A.bufferData(A.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),A.STATIC_DRAW);A.vertexAttribPointer(v,4,A.FLOAT,!1,16,0);Q=A.createBuffer();A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,Q);A.bufferData(A.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),A.STATIC_DRAW);A.disable(A.DEPTH_TEST);A.disable(A.DITHER);A.disable(A.STENCIL_TEST);A.viewport(0,0,1,1);Q=h.Tb?p.createQueryEXT():A.createQuery();h.ud=Q;h.Aa=p.TIME_ELAPSED_EXT||
A.TIME_ELAPSED;h.uf=-w.Og;h.vf=new Float32Array(w.lc);h.yd=new Float32Array(w.lc);h.ld=0;h.ce=0;h.fi=0;h.yc=!0}}if(w.Xh){A=!1;try{if("undefined"===typeof SharedWorker){var N=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
w.Jf.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),ea=new Worker(N);ea.addEventListener("message",a);f={Fi:ea,port:ea};k.tf=!0}else{var ia=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
w.Jf.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),ba=new SharedWorker(ia);ba.port.start();ba.port.addEventListener("message",a);f={Fi:ba,port:ba.port};k.sf=!0}A=!0}catch(O){}A&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",q):(window.addEventListener("blur",K),window.addEventListener("focus",E)),window.addEventListener("pagehide",
K),window.addEventListener("pageshow",E),k.rf=!0)}B="undefined"!==typeof Cb},v:function(){l();k.rf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",q):(window.removeEventListener("blur",K),window.removeEventListener("focus",E)),window.removeEventListener("pagehide",K),window.removeEventListener("pageshow",E),k.rf=!1);k.sf?(f.port.close(),k.sf=!1):k.tf&&(f.Fi.terminate(),k.tf=!1);Object.assign(k,{Ia:!0,Ha:!1,Sb:!1});H=null},Kp:function(){return k.Ia},update:function(A){Object.assign(w,
A)},ag:function(A){k.Ha||G.m({});n();k.Sb=!0;H=A;k.Ia&&c()},stop:l};return G}(),tc={We:function(){return Date.now()},np:function(){return performance.now()}},ub=function(){function a(U){switch(E){case h.movePinch:var ma=-U.deltaY;0===K&&g("pinch",-1,.001*ma,null)}U.deltaY;U.preventDefault()}function c(U){if(-1!==K)switch(E){case h.swipe:if(1!==K)break;u();x(U,A);var ma=A[0]-G[0];l(ma);U=ma/(20*I.offsetWidth/100);g("swipeMove",Math.min(Math.max(U,-1),1),U,null);break;case h.movePinch:if(2===K||3===
K){x(U,A);ma=A[0]-G[0];var na=A[1]-G[1];2===K?(W+=Math.sqrt(ma*ma+na*na),10>W?(G[0]=A[0],G[1]=A[1]):(ra||(ra=!0,g("moveStart",null,null,null)),Z[0]=ma,Z[1]=na,v[0]=ma-p[0],v[1]=na-p[1],g("move",Z,v,null),p[0]=Z[0],p[1]=Z[1])):3===K&&(U=t(U)/ka,g("pinch",U,U-Pa,null),Pa=U)}}}function d(U){if(-1!==K)switch(E){case h.swipe:if(1!==K)break;u();x(U,A);U=A[0]-G[0];var ma=0>U;(U=20<100*Math.abs(U)/I.offsetWidth)&&ma?g("swipeLeft",J,null,null):U&&!ma&&g("swipeRight",J,null,null);var na=function(){setTimeout(function(){q();
K=0;g("swipeEnd",null,null,null)},202)};U?(U=function(){var Ba=(ma?-1:1)*I.width,La=(ma?1:-1)*Ba/I.width;J.style.transitionDuration=(400).toString()+"ms";J.style.left=(ba[0]+Ba).toString()+"px";J.style.top=ba[1].toString()+"px";J.style.transform="rotate( "+La.toString()+"rad )";na()},ia?U():O=U):(J.style.transitionDuration=(200).toString()+"ms",J.style.opacity="0",J.style.left=ba[0].toString()+"px",J.style.top=ba[1].toString()+"px",J.style.transform="",na());K=-1;break;case h.movePinch:if(2===K||
3===K)K===K.move?g("moveEnd",null,null,null):3===K&&g("pinchEnd",null,null,null),K=0}}function e(U){U.preventDefault();if(-1!==K)switch(E){case h.swipe:if(0!==K)break;u();K=1;M=setTimeout(function(){q();M=null;1===K&&(K=0,g("swipeEnd",null,null,null))},1E3);n();g("swipeStart",null,null,null);g("swipeGetCanvas",J,N,Q);x(U,G);break;case h.movePinch:0!==K?2!==K||ra||void 0===U.changedTouches&&void 0===U.touches||(ka=t(U),20<ka&&(K=3,Pa=1,g("pinchStart",null,null,null))):3!==K&&(ra=!1,x(U,G),p[0]=0,p[1]=
0,K=2,W=0)}}function l(U){var ma=0>U;J.style.left=ba[0]+U+"px";J.style.transformOrigin=ma?P:r;J.style.transform="rotate( "+((ma?1:-1)*U/I.width).toString()+"rad )"}function n(){ia=!1;var U=I.getBoundingClientRect();ba[0]=U.left;ba[1]=U.top;J.width=Math.round(I.width/4);J.height=Math.round(I.height/4);Q.width=J.width;Q.height=J.height;J.style.width=I.offsetWidth+"px";J.style.height=I.offsetHeight+"px";J.style.left=ba[0]+"px";J.style.top=ba[1]+"px";setTimeout(z,0)}function z(){N.drawImage(I,0,0,J.width,
J.height);ea.drawImage(J,0,0);ia=!0;document.body.appendChild(J);O&&(O(),O=!1)}function q(){J.style.transitionDuration="0ms";J.style.opacity="1";J.style.transform="";ia&&(document.body.removeChild(J),ia=!1)}function u(){M&&(window.clearTimeout(M),M=null)}function t(U){F(U,ja,0);F(U,la,1);return Math.sqrt(ja[0]*ja[0]+la[0]*la[0])}function x(U,ma){void 0!==U.changedTouches||void 0!==U.touches?F(U,ma,0):(ma[0]=U.pageX,ma[1]=U.pageY)}function F(U,ma,na){U.touches.length>na?(ma[0]=U.touches[na].pageX,
ma[1]=U.touches[na].pageY):(ma[0]=U.changedTouches[na].pageX,ma[1]=U.changedTouches[na].pageY)}function y(){m.forEach(function(U){I.removeEventListener(U.type,U.mb,!1)});return m.splice(0,m.length)}function w(U){U.forEach(function(ma){H(ma.type,ma.mb)})}function H(U,ma){I.removeEventListener(U,ma,!1);J.removeEventListener(U,ma,!1);I.addEventListener(U,ma,!1);J.addEventListener(U,ma,!1);0===m.filter(function(na){return na.type===U&&na.mb===ma}).length&&m.push({type:U,mb:ma})}function g(U,ma,na,Ba){k[U].forEach(function(La){La.mb(ma,
na,Ba)})}function f(U){return U[0]+"% "+(100-U[1]).toString()+"%"}var B=!1,I=null,k={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],moveStart:[],moveEnd:[]},m=[],h={idle:0,swipe:1,movePinch:2},E=h.idle,K=0,G=[0,0],A=[0,0],p=[0,0],v=[0,0],J=document.createElement("canvas"),Q=document.createElement("canvas"),N=J.getContext("2d"),ea=Q.getContext("2d");J.style.position="fixed";J.style.zIndex="800";J.style.cursor="move";J.style.pointerEvents=
"none";J.className="swipeImage";J.setAttribute("draggable",!1);var ia=!1,ba=[0,0],O=null,M=null,r=f([50,100]),P=f([50,0]),V=null,W=0,Z=[0,0],ka=0,ra=!1,Pa=1,ja=[0,0],la=[0,0],Ea={init:function(U){if(B)Ea.switch_canvas(U.pa);else return I=U.pa,H("mousedown",e),H("mouseup",d),H("mouseout",d),H("mousemove",c),H("mousemove",c),H("wheel",a),H("touchstart",e),H("touchend",d),H("touchmove",c),B=!0,Ea},switch_canvas:function(U){if(!B)Ea.init({pa:U});else if(I!==U){var ma=y();I=U;w(ma);for(var na in k)for(U=
k[na],ma=U.length-1;0<=ma;--ma)U[ma].fn&&U.splice(ma,1)}},get_mode:function(){for(var U in h)if(h[U]===E)return U;return!1},switch_mode:function(U){B&&"undefined"!==typeof h[U]&&(U=h[U],E!==U&&(u(),E=U,K=0))},add_listener:function(U,ma,na){k[U].push({mb:ma,fn:"undefined"===typeof na?!1:na});return Ea},remove_listener:function(U){k[U].splice(0,k[U].length);return Ea},animate_swipe:function(U,ma){V&&(clearInterval(V),V=null);n();var na=I.width/(ma/1E3)*("left"===U?-1:1),Ba=0,La,tb=Date.now();V=setInterval(function(){V&&
(La=Date.now(),Ba+=(La-tb)/1E3*na,l(Ba),tb=La,Math.abs(Ba)>.75*I.width&&V&&(clearInterval(V),V=null,q()))},16)}};return Ea}();window.CanvasListeners=ub;var S={VERSION:"3.5.5",Sc:[],Rc:[],me:!1,le:!1,oe:!1,ready:!1,isBusy:!1},Za={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,FOVmobile:45,je:10,ie:8E3},Kc={Lf:"models3D",Hf:"materials",ho:"tweakers",neuralNetworkPath:"built/jeefitNNC_60_0.json",neuralNetworkVersion:"60_0",ba:"",ua:"",ke:"",
za:0,Qj:20,width:1024,height:1024,Nm:[2,3.5],Mi:300,Pc:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,qa:[.2,.2,.3],ic:[[.8,.5],[.8,.5],[1,1]],eo:30,Rk:1.1,Xm:[.2,.6],Wm:1,fo:[.01,.035],on:[.003,.007],vg:[0,.6],nl:.2,Wa:[.698111,1.047166,.122169],pj:[-.1,0,0],Jd:[0,-62,8],Sm:1.03,Ca:[0,-60,0],Mf:50,uc:.4,Te:73,re:[.02,1],Oj:[4,1],uk:[0,.5],qn:.15,nn:1,kn:[.5,4],vo:20,ip:!1,wc:145,hf:-18,ff:20,gf:3,Bc:[-110,0],cc:1,gj:.4,hj:3,Sd:[0,0,0],dc:[1.1,1],ad:0,Ie:.95,He:90,Ge:50,Wc:30,
Fb:.05,df:!0,Bd:!0,Ef:"images/masks/target.jpg",Ff:!1,Ad:[1/255,175/255,236/255,0],Cd:-.001,Df:3.14,ve:0,ue:"images/masks/burka.png",se:Math.PI-Math.PI/4,Ee:Math.PI/4,$f:[.3,.2,.1],Vb:1,ii:[700,90],xm:[.2,.04],wo:"images/backgrounds/viewer3D.png",Lg:[0,0,0],Kg:[0,15,60],ge:.3,Eo:50,Ao:Qc?Fa:!1,Bo:Qc?Fa:!1,Do:1E3,Go:1E3,Co:40,zo:[0,0,-400],li:.1,Bm:.5,mi:[.5,1.5],Dd:30,Am:!0},L=Object.assign({},Kc);T.fh=!0;T.gh=!0;T.eh=!1;T.Ja=!0;var bb={dg:3.5,Xb:"images/debug/picsou.png",Ld:45,Af:.785,Bf:.3925,Cf:5,
yf:2,zf:0,xf:0,xo:"images/backgrounds/bg1.jpg",yo:"images/backgrounds/bg1_light.jpg",Cj:1,Dj:2};L.fx=[4,50];L.Bc=[-110,0];L.gj=.25;L.hj=3;L.Sd=[0,-2,20];L.dc=[.95,1];T.Fc=2.1289;T.Uf=1;bb.dg=2.5858;bb.Af=.4388;bb.Bf=.118;bb.Xb="images/debug/hdri2.png";bb.Ld=180;bb.cg=.8065;bb.Cf=5.3887;bb.yf=.5351;bb.zf=-.3019;bb.xf=0;bb.Cj=3.5288;bb.Dj=6.2168;var Jc={element:null,bh:null,ka:null,Bg:null,deviceId:-1,Lb:-1,gd:0,Di:null,fe:-1},Ca=Object.assign({},Jc),ab=null,Ob=-1,Pb=-1,Rc=L.Nm,yc=window.devicePixelRatio?
window.devicePixelRatio:1;var lc={ml:Math.max(Rc[0],yc)/yc,Re:Math.min(yc,Rc[1])};var db=null;S.onLoad=function(a){S.ready?a():S.Sc.push(a)};S.onHalfLoad=function(a){S.load_model?a():S.Rc.push(a)};S.onWebcamAsk=function(a){S.me=a};S.onContextLost=function(a){S.le=a};S.onWebcamGet=function(a){S.oe=a};S.get_onHalfLoadCallstack=function(){return S.Rc};S.set_size=function(a,c,d){d=d?lc.Re:1;L.width=a*d;L.height=c*d};S.get_videoDevices=function(a){Vc(a)};S.set_videoDevice=function(a){Ca.deviceId=a};S.set_videoSizes=
function(a,c,d,e,l,n){Za.idealWidth=a;Za.idealHeight=c;Za.minWidth=d;Za.maxWidth=e;Za.minHeight=l;Za.maxHeight=n};S.set_loading=function(a,c,d){a&&(L.Ff=!0,L.Ef=a);"number"===typeof c&&(a=new Qb(c),L.Ad=[a.r,a.X,a.b,0]);"number"===typeof d&&(L.Cd=d)};S.set_settings=function(a,c,d){a&&Object.assign(L,a);c&&Object.assign(Za,c);d&&Object.assign(bb,d)};S.get_size=function(){return{width:L.width,height:L.height}};S.get_cv=function(){return cb.ob()};S.set_NNCPath=function(a){L.ke=a};S.set_materialsPath=
function(a){L.Hf=a};S.set_modelsPath=function(a){L.Lf=a};S.destroy=function(){return db?db.v():Promise.resolve()};S.init=function(a,c,d,e){db=Wc();S.jb=d?function(l,n){d(l,n);S.jb=!1}:function(){};S.Mo=db;a&&(L.ba=a);c&&S.Sc.push(c);db.co();if(!cb.m({De:"jeefitCanvas",pa:e,width:Ob,height:Pb,debug:!1,Pf:function(){S.le&&S.le()},premultipliedAlpha:!0}))return S.jb&&S.jb("GL_INCOMPATIBLE","Cannot init Context"),!1;S.me&&S.me();a={width:{min:Za.minWidth,max:Za.maxWidth,ideal:Za.idealWidth},height:{min:Za.minHeight,
max:Za.maxHeight,ideal:Za.idealHeight},facingMode:{ideal:"user"}};c={video:a,audio:!1};Ca.bh=c;a&&-1!==Ca.deviceId&&Yb(c,Ca.deviceId);Cc(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?document.createElement("video"):!1,function(l){S.oe&&S.oe(l);Ca.element=l;l=Ca.element.videoWidth;var n=Ca.element.videoHeight;Ca.Bg={ia:Ca.element,isPot:!1,isFloat:!1,isFlipY:!0};Ca.ka=aa.instance(Ca.Bg);db.ng(l,n);db.mf(l,n)&&db.ug()},function(l){S.jb&&S.jb("WEBCAM_UNAVAILABLE",l)},c);return!0};window.JEELIZVTO=
S;var Gc=function(){function a(){wa.aa();b.viewport(0,0,1,1);ca.set("s64");e.h(0);Y.l(!1);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,n);c(0<n[0])}var c=null,d=!1,e=null,l=!1,n=null,z={m:function(q){if(l)return!1;e=q;ca.qe([{id:"s64",name:"_",g:"uniform sampler2D u37;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u37,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",i:["u37"],precision:"lowp"}]);ca.j("s64",[{type:"1i",name:"u37",value:0}]);n=new Uint8Array(4);return l=!0},start:function(q,
u){z.stop();c=u;d=window.setInterval(a,q)},stop:function(){d&&(window.clearInterval(a),d=!1)}};return z}(),pc=pc||{};Qb.prototype={constructor:Qb,r:1,X:1,b:1,set:function(a){a instanceof Qb?this.J(a):"number"===typeof a?Lc(this,a):"string"===typeof a&&Zc(this,a);return this},tn:function(){function a(c,d,e){0>e&&(e+=1);1<e&&--e;return e<1/6?c+6*(d-c)*e:.5>e?d:e<2/3?c+6*(d-c)*(2/3-e):c}return function(c,d,e){c=pc.Math.jp(c,1);d=pc.Math.ye(d,0,1);e=pc.Math.ye(e,0,1);0===d?this.r=this.X=this.b=e:(d=.5>=
e?e*(1+d):e+d-e*d,e=2*e-d,this.r=a(e,d,c+1/3),this.X=a(e,d,c),this.b=a(e,d,c-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.X,this.b)},J:function(a){this.r=a.r;this.X=a.X;this.b=a.b;return this},add:function(a){this.r+=a.r;this.X+=a.X;this.b+=a.b;return this},multiply:function(a){this.r*=a.r;this.X*=a.X;this.b*=a.b;return this},Ba:function(a){this.r*=a;this.X*=a;this.b*=a;return this},lb:function(a,c){void 0===c&&(c=0);this.r=a[c];this.X=a[c+1];this.b=a[c+2];return this}};
var $c={};nc.prototype={constructor:nc,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get w(){return this.O},set w(a){this.O=a},set:function(a,c,d,e){this.B=a;this.C=c;this.D=d;this.O=e;return this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.O)},J:function(a){this.B=a.x;this.C=a.y;this.D=a.z;this.O=a.w;return this},inverse:function(){this.B*=-1;this.C*=-1;this.D*=-1;this.normalize();return this},
cd:function(a){return this.B*a.B+this.C*a.C+this.D*a.D+this.O*a.O},wf:function(){return this.B*this.B+this.C*this.C+this.D*this.D+this.O*this.O},length:function(){return Math.sqrt(this.B*this.B+this.C*this.C+this.D*this.D+this.O*this.O)},normalize:function(){var a=this.length();0===a?(this.D=this.C=this.B=0,this.O=1):(a=1/a,this.B*=a,this.C*=a,this.D*=a,this.O*=a);return this},multiply:function(a,c){return void 0!==c?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
Mc(this,a,c)):Mc(this,this,a)},lb:function(a,c){void 0===c&&(c=0);this.B=a[c];this.C=a[c+1];this.D=a[c+2];this.O=a[c+3];return this}};Rb.prototype={constructor:Rb,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,c){this.x=a;this.y=c;return this},Ri:function(a){this.x=a;return this},Si:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y)},J:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,
c){if(void 0!==c)return console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Tc(a,c);this.x+=a.x;this.y+=a.y;return this},Tc:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;return this},sub:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.ab(a,c);this.x-=a.x;this.y-=a.y;return this},ab:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},multiply:function(a){this.x*=
a.x;this.y*=a.y;return this},Ba:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},Me:function(a){return this.Ba(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},ye:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},
ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},cd:function(a){return this.x*a.x+this.y*a.y},wf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Me(this.length())},lb:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];return this}};Qa.prototype={constructor:Qa,set:function(a,c,d){this.x=
a;this.y=c;this.z=d;return this},Ri:function(a){this.x=a;return this},Si:function(a){this.y=a;return this},clone:function(){return new this.constructor(this.x,this.y,this.z)},J:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Tc(a,c);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},Tc:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;
return this},sub:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.ab(a,c);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},ab:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiply:function(a,c){if(void 0!==c)return console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*c.x,this.y=a.y*c.y,this.z=a.z*c.z,this;
this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},Ba:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},Me:function(a){return this.Ba(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},ye:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));
this.z=Math.max(a.z,Math.min(c.z,this.z));return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},cd:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},wf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Me(this.length())},lb:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];this.z=a[c+2];return this}};Sb.Fj="XYZ";Sb.prototype={constructor:Sb,get x(){return this.B},set x(a){this.B=a},get y(){return this.C},set y(a){this.C=a},get z(){return this.D},set z(a){this.D=a},get order(){return this.Ma},set order(a){this.Ma=a},set:function(a,c,d,e){this.B=a;this.C=c;this.D=d;this.Ma=e||this.Ma;return this},clone:function(){return new this.constructor(this.B,
this.C,this.D,this.Ma)},J:function(a){this.B=a.B;this.C=a.C;this.D=a.D;this.Ma=a.Ma;return this},lb:function(a){this.B=a[0];this.C=a[1];this.D=a[2];void 0!==a[3]&&(this.Ma=a[3]);return this}};vc.prototype={constructor:vc,set:function(a,c){this.min.J(a);this.max.J(c);return this},clone:function(){return(new this.constructor).J(this)},J:function(a){this.min.J(a.min);this.max.J(a.max);return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(a){return(a||
new Qa).ab(this.max,this.min)},getParameter:function(a,c){return(c||new Qa).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},translate:function(a){this.min.add(a);this.max.add(a);return this}};Tb.prototype={constructor:Tb,set:function(a,c,d,e,l,n,z,q,u,t,x,F,y,w,H,g){var f=this.elements;f[0]=a;f[4]=c;f[8]=d;f[12]=e;f[1]=l;f[5]=n;f[9]=z;f[13]=q;f[2]=u;f[6]=t;f[10]=x;f[14]=F;f[3]=y;f[7]=w;f[11]=H;f[15]=g;return this},clone:function(){return(new Tb).lb(this.elements)},
J:function(a){this.elements.set(a.elements);return this},multiply:function(a,c){return void 0!==c?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Oc(this,a,c)):Oc(this,this,a)},Ba:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},setPosition:function(a){var c=this.elements;c[12]=a.x;c[13]=a.y;c[14]=a.z;
return this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(a){var c=this.elements,d=a.x,e=a.y;a=a.z;c[0]*=d;c[4]*=e;c[8]*=a;c[1]*=d;c[5]*=e;c[9]*=a;c[2]*=d;c[6]*=e;c[10]*=a;c[3]*=d;c[7]*=e;c[11]*=a;return this},lb:function(a){this.elements.set(a);return this}};wc.prototype={constructor:wc,clone:function(){return(new this.constructor).J(this)},J:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.Ka.J(a.Ka);this.color.J(a.color);this.Wb=a.Wb;for(var c=
0,d=a.ee.length;c<d;c++)this.ee[c]=a.ee[c].clone();c=0;for(d=a.Ig.length;c<d;c++)this.Ig[c]=a.Ig[c].clone();return this}};var D=function(){function a(m,h,E){h=m.createShader(h);m.shaderSource(h,E);m.compileShader(h);return m.getShaderParameter(h,m.COMPILE_STATUS)?h:!1}function c(m,h){da.ja()&&(h.g=h.g.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1"));h.cf=a(m,m.VERTEX_SHADER,h.s,h.name+" VERTEX");h.bf=a(m,m.FRAGMENT_SHADER,h.g,h.name+" FRAGMENT");var E=m.createProgram();m.attachShader(E,h.cf);m.attachShader(E,
h.bf);m.linkProgram(E);return E}function d(m){m.s="#version 300 es\n"+m.s.replace(/varying/g,"out");m.g="#version 300 es\n"+m.g.replace(/varying/g,"in");m.s=m.s.replace(/texture2D\(/g,"texture(");m.g=m.g.replace(/texture2D\(/g,"texture(");m.ca||(m.g=m.g.replace(/void main/g,"out vec4 FragColor;\nvoid main"),m.g=m.g.replace(/gl_FragColor/g,"FragColor"));var h=0,E=[];m.s=m.s.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,function(K,G,A){var p="";A.split(",").forEach(function(v){v=v.trim();
p+="layout(location = "+h+") in "+G+" "+v+";\n";E.push(v);++h});return p});m.Kj=E}function e(m){return["float","sampler2D","int"].map(function(h){return"precision "+m+" "+h+";\n"}).join("")}function l(m,h){if(h.Rh)return!1;var E=da.ja();T.Dp||E||m.enableVertexAttribArray(0);void 0===h.ca&&(h.ca=!1);h.ca&&(h.Qc=E?3:2);h.id=I++;void 0===h.Qc&&(h.Qc=2);void 0===h.precision&&(h.precision="highp");h.ca&&(h.g=(da.ja()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":
"#extension GL_EXT_draw_buffers : require\n")+h.g);void 0===h.s&&(h.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var K=e(h.precision);h.g=K+h.g;h.s=K+h.s;E&&3<=h.Qc&&d(h);h.Da&&h.Da.forEach(function(G){h.s=h.s.replace(G.search,G.replace);h.g=h.g.replace(G.search,G.replace)});h.na=c(m,h);h.A={};h.i.forEach(function(G){h.A[G]=m.getUniformLocation(h.na,G)});h.attributes={};h.va=[];h.Hg=0;void 0===h.I&&(h.I=["a0"]);void 0===
h.P&&(h.P=[2]);h.I.forEach(function(G,A){var p=E&&3<=h.Qc?h.Kj.indexOf(G):m.getAttribLocation(h.na,G);h.attributes[G]=p;h.va.push(p);h.Hg+=4*h.P[A]});h.set=function(){f!==h.id&&(-1!==f&&B.H(),f=h.id,B=h,m.useProgram(h.na),h.va.forEach(function(G){0!==G&&m.enableVertexAttribArray(G)}))};h.H=function(){f=-1;h.va.forEach(function(G){0!==G&&m.disableVertexAttribArray(G)})};h.Rh=!0}function n(m,h){l(m,h);h.set();f=-1;return h}function z(){return{name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
i:["u1"],precision:"highp"}}function q(){k.j("s93",[{type:"1i",name:"u1",value:0}]);k.j("s94",[{type:"1i",name:"u148",value:0}]);k.j("s95",[{type:"1i",name:"u70",value:0}])}function u(){var m="u37 u138 u139 u140 u141 u38 u74".split(" ").concat(w,H);g.s96={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u144,u145,u140,u141,u147;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,p);vec2 f=u81*e;vec3 c=u81*o;vec2 t=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,q).rgb+vec3(u75,0.,0.),u78,c);float u=mix(texture2D(u37,r).r,0.,u81);a.z+=u;mat3 v=s(a);vec3 w=mix(u138,u79,c);float x=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u77,1.,u81);vec2 j=u76/t;vec3 k=a0;float A=max(0.,-a0.z-u140)*u141;k.x+=A*sign(a0.x)*(1.-u81);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u144,u145,a0.z);}",
i:["u144","u145"].concat(m),I:["a0"],precision:"highp"};g.s97={name:"_",g:"uniform sampler2D u1;uniform vec3 u142;uniform float u69;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u142,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u142,b,u69),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u140,u141,u147;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,n);vec2 f=u81*e;vec3 c=u81*m;vec2 r=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,o).rgb+vec3(u75,0.,0.),u78,c);float s=mix(texture2D(u37,p).r,0.,u81);a.z+=s;mat3 t=q(a);vec3 u=mix(u138,u79,c);float v=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u77,1.,u81);vec2 j=u76/r;vec3 k=a0;float y=max(0.,-a0.z-u140)*u141;k.x+=y*sign(a0.x)*(1.-u81);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u142"].concat(F,m),I:["a0","a1"],P:[3,2],precision:"lowp"};g.s98={name:"_",g:"uniform vec3 u142;void main(){gl_FragColor=vec4(u142,0.);}",s:"attribute vec3 a0;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u140,u141,u147;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,m);vec2 f=u81*e;vec3 c=u81*l;vec2 q=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,n).rgb+vec3(u75,0.,0.),u78,c);float r=mix(texture2D(u37,o).r,0.,u81);a.z+=r;mat3 s=p(a);vec3 t=mix(u138,u79,c);float u=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u77,1.,u81);vec2 j=u76/q;vec3 k=a0;float x=max(0.,-a0.z-u140)*u141;k.x+=x*sign(a0.x)*(1.-u81);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(A,1.));}",
i:["u142"].concat(m),P:[3],precision:"lowp"};g.s99={name:"_",g:"uniform vec4 u9;varying vec3 vv0;varying float vv1;void main(){float a=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",s:"attribute vec3 a0,a2;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u140,u141,u147;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,p);vec2 f=u81*e;vec3 c=u81*o;vec2 t=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,q).rgb+vec3(u75,0.,0.),u78,c);float u=mix(texture2D(u37,r).r,0.,u81);a.z+=u;mat3 h=s(a);vec3 v=mix(u138,u79,c);float w=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u77,1.,u81);vec2 k=u76/t;vec3 l=a0;float z=max(0.,-a0.z-u140)*u141;l.x+=z*sign(a0.x)*(1.-u81);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",
i:["u9","u74"].concat(m),I:["a0","a2"],precision:"highp"};g.s100={name:"_",g:"uniform sampler2D u148;uniform vec4 u9;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u148,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv3);gl_FragColor=vec4(a,m);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u140,u141,u147;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,r);vec2 f=u81*e;vec3 c=u81*q;vec2 v=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,s).rgb+vec3(u75,0.,0.),u78,c);float w=mix(texture2D(u37,t).r,0.,u81);a.z+=w;mat3 h=u(a);vec3 x=mix(u138,u79,c);float y=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u77,1.,u81);vec2 k=u76/v;vec3 l=a0;float B=max(0.,-a0.z-u140)*u141;l.x+=B*sign(a0.x)*(1.-u81);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",
i:["u9","u74","u148"].concat(m),I:["a3","a0","a2","a1"],P:[4,3,3,2],precision:"highp"};g.s101={name:"_",g:"uniform vec4 u107;uniform float u143;void main(){float b=u143;vec4 a=u107;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u140,u141,u147;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,m);vec2 f=u81*e;vec3 c=u81*l;vec2 q=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,n).rgb+vec3(u75,0.,0.),u78,c);float r=mix(texture2D(u37,o).r,0.,u81);a.z+=r;mat3 s=p(a);vec3 t=mix(u138,u79,c);float u=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u77,1.,u81);vec2 j=u76/q;vec3 k=a0;float x=max(0.,-a0.z-u140)*u141;k.x+=x*sign(a0.x)*(1.-u81);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(A,1.));}",
i:["u107","u143"].concat(m),precision:"lowp"};g.s102={name:"_",g:"uniform sampler2D u70;uniform vec4 u107,u71;uniform float u143;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u143;vec4 a=u107,d=texture2D(u70,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u71*e),c=mix(c,l,u71.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u140,u141,u147;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,n);vec2 f=u81*e;vec3 c=u81*m;vec2 r=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,o).rgb+vec3(u75,0.,0.),u78,c);float s=mix(texture2D(u37,p).r,0.,u81);a.z+=s;mat3 t=q(a);vec3 u=mix(u138,u79,c);float v=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u77,1.,u81);vec2 j=u76/r;vec3 k=a0;float y=max(0.,-a0.z-u140)*u141;k.x+=y*sign(a0.x)*(1.-u81);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(B,1.)),vv0=a1;}",
i:["u107","u143"].concat(y,m),I:["a0","a1"],P:[3,2],precision:"lowp"};m=["u131","u119","u132"];g.s103={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform mat4 u131,u119,u132;varying vec3 vv0;varying float vv1;void main(){vec4 a=u132*vec4(a0,1.);gl_Position=u131*u119*a,vv0=a.xyz,vv1=1.;}",i:m,precision:"highp"};g.s104={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",s:"attribute vec3 a0,a2;uniform mat4 u131,u119,u132;varying vec3 vv0;varying float vv1;void main(){vec4 a=u132*vec4(a2,0.);gl_Position=u131*u119*u132*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",
i:m,I:["a0","a2"],precision:"highp"};g.s94={name:"_",g:"uniform sampler2D u148;uniform vec3 u149;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u149),c=normalize(vv2),b=texture2D(u148,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u132*vec4(a2,0.),a=u132*vec4(a0,1.);gl_Position=u131*u119*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",
i:["u148","u149"].concat(m),I:["a0","a2","a1","a3"],precision:"highp"};g.s93={name:"_",g:"uniform sampler2D u1;uniform vec3 u142;uniform float u69;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u142,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u142,b,u69),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u131*u119*u132*vec4(a0,1.)+f,vv0=a1;}",i:["u142"].concat(F,m),I:["a0","a1"],
Da:[{search:"0.0005",replace:xa.ea()?"0.0005":"0.0"}],precision:"lowp"};g.s105={name:"_",g:"uniform vec4 u107;uniform float u143;void main(){float b=u143;vec4 a=u107;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform mat4 u131,u119,u132;void main(){gl_Position=u131*u119*u132*vec4(a0,1.);}",i:["u107"].concat(m),precision:"highp"};g.s95={name:"_",g:"uniform sampler2D u70;uniform vec4 u107,u71;uniform float u143;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u143;vec4 a=u107,d=texture2D(u70,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u71*e),c=mix(c,l,u71.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec2 vv0;void main(){gl_Position=u131*u119*u132*vec4(a0,1.),vv0=a1;}",i:["u107"].concat(y,m),I:["a0","a1"],P:[3,2],precision:"highp"}}function t(){for(var m in g)l(b,g[m])}var x=!1,F=["u1","u69"],y=["u70","u71"],w="u72 u73 u74 u75 u76 u77".split(" "),H="u78 u79 u80 u81 u82 u83".split(" "),g={},f=-1,B=null,I=0,k={oa:function(m,h){g[m]=h;x&&l(b,g[m])},Qp:function(m,h){g[m]=h;h.Rh=!1;l(b,g[m])},Ub:function(){return x},m:function(){g.s0=
z();g.s1={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"};g.s65={name:"_",g:"uniform sampler2D u1,u8;uniform float u9;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u8,vv0).rgb,texture2D(u1,vv0).rgb,u9*f),1.);}",i:["u1","u8","u9"],precision:"highp"};g.s66={name:"_",g:"uniform sampler2D u1,u8;uniform float u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u8,vv0),texture2D(u1,vv0),u9*f);}",
i:["u1","u8","u9"],precision:"highp"};g.s12={name:"_",g:"uniform sampler2D u1,u84;uniform vec2 u85;uniform float u86,u87;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u84,vv0*u85),c=texture2D(u1,vv0*u85);float a=smoothstep(u86,0.,vv0.y);a+=smoothstep(1.-u86,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u87*f);}",i:["u1","u85","u84","u86","u87"]};g.s67={name:"_",g:"uniform sampler2D u1,u84;uniform vec2 u85;uniform float u86,u87;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u85;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u84,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u86,0.,vv0.y);b+=smoothstep(1.-u86,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u87*h));gl_FragColor=k;}",
i:["u1","u85","u84","u86","u87"],precision:"highp"};g.s68={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"};g.s69={name:"_",g:"uniform sampler2D u1,u88;uniform vec2 u10;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u10*f).rgb+texture2D(u1,a+u10*g).rgb+texture2D(u1,a+u10*h).rgb+texture2D(u1,a+u10*i).rgb;gl_FragColor=vec4(b/5.,1.);}",
i:["u1","u10"],precision:"lowp"};g.s70={name:"_",g:"uniform sampler2D u1,u88,u37;uniform vec2 u10,u89;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u10*f).rgb+texture2D(u1,a+u10*g).rgb+texture2D(u1,a+u10*h).rgb+texture2D(u1,a+u10*i).rgb;float c=texture2D(u37,vec2(.5,.5)).a,d=u89.x+pow(c,2.)*(u89.y-u89.x);vec3 j=mix(b/5.,texture2D(u88,a).rgb,d);gl_FragColor=vec4(j,1.);}",
i:["u1","u88","u10","u37","u89"],precision:"lowp"};g.s71={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u10).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u10).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u10).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u10).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u10;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",
i:["u1","u10"],precision:"lowp"};g.s44={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"};g.s72={name:"_",g:"uniform sampler2D u90,u91;uniform float u92,u93;varying vec2 vv0;void main(){vec3 a=texture2D(u91,vv0).rgb,b=texture2D(u90,vv0).rgb;gl_FragColor=vec4(b*u93+u92*a,1.);}",
i:["u90","u91","u92","u93"],precision:"highp"};g.s73={name:"_",g:"uniform sampler2D u94,u95;uniform float u87;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u95,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u94,g).rgb,u87*n);f/=float(j),gl_FragColor=vec4(f,1.);}",
i:["u94","u95","u87"],precision:"lowp",Da:[{search:"8888",replace:T.cm[da.T()]}]};g.s74={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u10).a+.110236*texture2D(u1,vv0-2.*u10).a+.220472*texture2D(u1,vv0-u10).a+.275591*a.a+.220472*texture2D(u1,vv0+u10).a+.110236*texture2D(u1,vv0+2.*u10).a+.031496*texture2D(u1,vv0+3.*u10).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u10"],precision:"lowp"};g.s75={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",
i:["u1"],precision:"lowp"};g.s76={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u10)+.110236*texture2D(u1,vv0-2.*u10)+.220472*texture2D(u1,vv0-u10)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u10)+.110236*texture2D(u1,vv0+2.*u10)+.031496*texture2D(u1,vv0+3.*u10);gl_FragColor=a;}",i:["u1","u10"],precision:"lowp"};g.s77={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u10)+texture2D(u1,vv0-2.*u10)+texture2D(u1,vv0-u10)+texture2D(u1,vv0)+texture2D(u1,vv0+u10)+texture2D(u1,vv0+2.*u10)+texture2D(u1,vv0+3.*u10);gl_FragColor=a/7.;}",
i:["u1","u10"],precision:"lowp"};g.s78={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"};g.s79={name:"_",g:"uniform sampler2D u1,u84;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u84,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",
i:["u1","u84"],precision:"highp"};g.s80={name:"_",g:"uniform sampler2D u1,u84;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u84,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u84"],precision:"highp"};g.s81=
{name:"_",g:"uniform sampler2D u1,u96,u2,u97;uniform vec4 u98;uniform vec2 u99;uniform float u100,u101,u102,u103;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u96,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u97,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u99*.5+h).r,l=atan(a.x,a.y),m=-(mod(u100,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u101,b),c=.5+u103*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u98*k;gl_FragColor=mix(d,o,j*u102);}",
i:"u1 u2 u97 u96 u98 u100 u101 u102 u99 u103".split(" "),precision:"lowp"};var m="u104 u105 u106 u107 u94 u108 u3 u109 u96 u110 u111 u112 u113 u114 u10".split(" ");T.da&&(g.s82={name:"_",g:"uniform sampler2D u104,u105,u106,u107,u94,u108,u115,u96;uniform vec3 u109,u112;uniform vec2 u10;uniform float u3,u116,u111,u113,u110;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u110;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u104,vv0);vec3 k=texture2D(u96,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u109;vec4 b=texture2D(u107,vv0),m=texture2D(u105,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u106,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u108,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u3));float I=acos(-s.z),J=smoothstep(u111-u113,u111+u113,I);h=mix(l(texture2D(u94,H)),u112,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u116*texture2D(u115,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",
i:m.concat(["u115","u116"]),precision:"highp"});g.s83={name:"_",g:"uniform sampler2D u104,u105,u106,u107,u94,u108,u96;uniform vec3 u109,u112;uniform vec2 u10;uniform float u3,u111,u113,u114,u117,u118,u110;varying vec2 vv0;const float g=3.141592;const vec3 G=vec3(0.),m=vec3(1.),H=vec3(.299,.587,.114);const float I=2.;vec3 q(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 J(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 K(vec3 a,float e){float b=pow(2.,e);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u110;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u104,a).a;return step(.01,b);}vec3 p(vec2 a){return texture2D(u96,vec2(1.-a.x,a.y)).rgb;}void main(){vec4 h=texture2D(u104,vv0);if(h.a<.01){gl_FragColor=vec4(p(vv0),0.);return;}float i=h.a;vec3 L=h.rgb,M=L+u109;vec4 c=texture2D(u107,vv0),r=texture2D(u105,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u106,vv0);vec3 e=k.rgb;if(i>1.){gl_FragColor=vec4(mix(p(vv0),e,k.a),1.);return;}e=pow(e,u117*m);float s=c.r,N=c.g,O=c.a,t=floor(c.b*255.),l=floor(t/16.),P=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u10,v=vv0+vec2(1.,0.)*u10,w=vv0+vec2(0.,1.)*u10,x=vv0+vec2(0.,-1.)*u10;vec3 Q=texture2D(u105,u).rgb,R=texture2D(u105,v).rgb,S=texture2D(u105,w).rgb,T=texture2D(u105,x).rgb;float U=n(a,Q)*o(u),V=n(a,R)*o(v),W=n(a,S)*o(w),X=n(a,T)*o(x),Y=2.*max(max(U,V),max(W,X)),Z=1.2*clamp(Y/g,0.,1.),_=max(N,Z);vec2 aa=J(a);vec3 ba=q(texture2D(u108,aa)),ca=(1.-O)*ba,y=normalize(M),z=G,A=reflect(-y,a);float da=floor(_*u3);vec2 ea=K(A,da);float fa=acos(-A.z),ga_=smoothstep(u111-u113,u111+u113,fa);vec3 ha=q(texture2D(u94,ea));z=mix(ha,u112,ga_*u114);float b=s+(P-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec2 B=vv0;vec3 C=refract(vec3(0.,0.,-1.),a,.666667);float ia=smoothstep(.1,.3,length(C.xy)),D=sqrt(u10.y/u10.x),ja=smoothstep(.3,.8,i);B+=ja*C.xy*vec2(1./D,D)*ia*.03;vec3 ka=e*mix(ca,z,b);float E=i*(j*(1.-b)+b);vec3 f=mix(p(B),pow(ka,m/u117),E);float F=dot(f,H),la=max(0.,(F-1.)/(I-1.));f=mix(F*m,f,mix(1.,u118,E)*m),gl_FragColor=vec4(f,la);}",
i:m.concat(["u117","u118"]),precision:"highp"};T.da&&(g.s84={name:"_",g:"uniform sampler2D u104,u105;uniform mat4 u119;uniform vec2 u120,u10,u121;uniform float u122,u123,u124,u125,u126,u127,u128,u129,u116;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u121;vec4 pos=texture2D(u104,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u122),s=sin(u122);vec3 no0=texture2D(u105,uvt).rgb;float zv=(u119*vec4(co0,1.)).z;vec3 co;vec2 scale=u120/abs(zv),uv,duv=u10*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u104,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u128,u129,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u104,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u128,u129,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u10*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u104,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u128,u129,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u104,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u128,u129,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u125,u126,1.),ao=dzFactor*clamp(u124*omegaMin*u127,0.,u116);gl_FragColor=vec4(ao,ao,ao,u123);}",
i:"u104 u105 u124 u123 u122 u10 u130 u125 u126 u127 u128 u129 u119 u120 u116".split(" "),Da:[{search:"8888.8",replace:T.dk[da.T()].toFixed(1)}],precision:"lowp"},g.s85={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u10*f)+texture2D(u1,a+u10*g)+texture2D(u1,a+u10*h)+texture2D(u1,a+u10*i);b+=texture2D(u1,a+u10*j)+texture2D(u1,a+u10*k)+texture2D(u1,a+u10*l)+texture2D(u1,a+u10*m),gl_FragColor=b/9.;}",
i:["u1","u10"],precision:"lowp"});g.s86={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",s:"attribute vec3 a0;uniform mat4 u131,u119,u132;varying vec3 vv0;void main(){vec4 a=u131*u119*u132*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u131","u119","u132"],precision:"lowp"};g.s87={name:"_",g:"uniform sampler2D u133,u108,u95;uniform mat4 u131,u134;uniform vec2 u135;uniform float u136;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u135*(z-f),0.),B=vec3(u134*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u95,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u131*u,i=h.xyz/h.w;if(texture2D(u133,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u134*vec4(g,0.)),t+=texture2D(u108,y(s));}gl_FragColor=vec4(u136*t.rgb/n,1.);}",
i:"u133 u108 u95 u131 u134 u135 u136".split(" "),Da:[{search:"8888.8",replace:T.Xn[da.T()].toFixed(1)},{search:"9999.9",replace:T.Yn[da.T()].toFixed(1)}],precision:"lowp"};g.s88={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u10)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u10);gl_FragColor=a;}",i:["u1","u10"],precision:"lowp"};g.s89={name:"_",g:"uniform sampler2D u1,u137;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u131,u119;varying vec2 vv0;void main(){vec4 a=u131*u119*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u131","u119","u1"],I:["a0","a1"],precision:"lowp"};if(da.Z()){m="u37 u138 u139 u140 u141 u38 u107 u142 u143 u9 u144 u145 u74".split(" ").concat(w,H);da.bi()||(g.s90={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",
i:[],precision:"lowp",ca:!0});g.s91={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],ca:!0};g.s92NNGLcolor={name:"_",g:"uniform vec4 u107,u9;uniform vec3 u142;uniform float u143;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv3),c=u143;vec4 a=u107;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u142,0.),gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u144,u145,u140,u141,u147;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.);const vec3 r=vec3(1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,s);vec2 f=u81*e;vec3 c=u81*r;vec2 w=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,t).rgb+vec3(u75,0.,0.),u78,c);float x=mix(texture2D(u37,u).r,0.,u81);a.z+=x;mat3 h=v(a);vec3 y=mix(u138,u79,c);float z=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u77,1.,u81);vec2 k=u76/w;vec3 l=a0;float C=max(0.,-a0.z-u140)*u141;l.x+=C*sign(a0.x)*(1.-u81);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u144,u145,a0.z),vv0=m,vv3=a0.y;}",
i:m,I:["a0","a2"],P:[3,3],ca:!0};g.s92NNGLtexture={name:"_",g:"uniform sampler2D u1;uniform vec4 u107,u9;uniform vec3 u142;uniform float u143,u69;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u143;vec4 b=u107;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u142,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u142,l,u69),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u144,u145,u140,u141,u147;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,t);vec2 f=u81*e;vec3 c=u81*s;vec2 x=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,u).rgb+vec3(u75,0.,0.),u78,c);float y=mix(texture2D(u37,v).r,0.,u81);a.z+=y;mat3 h=w(a);vec3 z=mix(u138,u79,c);float A=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u77,1.,u81);vec2 k=u76/x;vec3 l=a0;float D=max(0.,-a0.z-u140)*u141;l.x+=D*sign(a0.x)*(1.-u81);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u144,u145,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:m.concat(F),I:["a0","a2","a1"],P:[3,3,2],ca:!0};g.s92NNGLtextureNormalMap={name:"_",g:"uniform vec4 u107,u9;uniform vec3 u142;uniform sampler2D u1,u148;uniform float u143,u69;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u148,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u143;vec4 c=u107;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u142,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u142,t,u69),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u144,u145,u140,u141,u147;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,u);vec2 f=u81*e;vec3 c=u81*t;vec2 y=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,v).rgb+vec3(u75,0.,0.),u78,c);float z=mix(texture2D(u37,w).r,0.,u81);a.z+=z;mat3 h=x(a);vec3 A=mix(u138,u79,c);float B=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u77,1.,u81);vec2 k=u76/y;vec3 l=a0;float E=max(0.,-a0.z-u140)*u141;l.x+=E*sign(a0.x)*(1.-u81);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u144,u145,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:m.concat(F,["u148"]),I:["a3","a0","a2","a1"],P:[4,3,3,2],ca:!0};g.s92NNGLtextureParamsMap={name:"_",g:"uniform sampler2D u1,u70;uniform vec4 u107,u9,u71;uniform vec3 u142;uniform float u143,u69;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u143;vec4 a=u107,e=texture2D(u70,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u71*f),d=mix(d,r,u71.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u142,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u142,u,u69),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u144,u145,u140,u141,u147;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,t);vec2 f=u81*e;vec3 c=u81*s;vec2 x=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,u).rgb+vec3(u75,0.,0.),u78,c);float y=mix(texture2D(u37,v).r,0.,u81);a.z+=y;mat3 h=w(a);vec3 z=mix(u138,u79,c);float A=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u77,1.,u81);vec2 k=u76/x;vec3 l=a0;float D=max(0.,-a0.z-u140)*u141;l.x+=D*sign(a0.x)*(1.-u81);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u144,u145,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",
i:m.concat(F,y),I:["a0","a2","a1"],P:[3,3,2],ca:!0};g.s92NNGLtextureNormalParamsMap={name:"_",g:"uniform sampler2D u1,u148,u70;uniform vec4 u107,u9,u71;uniform vec3 u142;uniform float u143,u69;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u148,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u143;vec4 a=u107,f=texture2D(u70,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u71*l),e=mix(e,z,u71.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u142,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u142,C,u69),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u146;uniform float u139,u144,u145,u140,u141,u147;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,u);vec2 f=u81*e;vec3 c=u81*t;vec2 y=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,v).rgb+vec3(u75,0.,0.),u78,c);float z=mix(texture2D(u37,w).r,0.,u81);a.z+=z;mat3 h=x(a);vec3 A=mix(u138,u79,c);float B=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u77,1.,u81);vec2 k=u76/y;vec3 l=a0;float E=max(0.,-a0.z-u140)*u141;l.x+=E*sign(a0.x)*(1.-u81);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u144,u145,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",
i:m.concat(F,["u148"],y),I:["a3","a0","a2","a1"],P:[4,3,3,2],ca:!0};m="u131 u119 u132 u107 u142 u143 u9".split(" ");g.s92color={name:"_",g:"uniform vec4 u107,u9;uniform vec3 u142;uniform float u143;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv3),c=u143;vec4 a=u107;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u142,0.),gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;uniform mat4 u131,u119,u132;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u132*vec4(a0,1.),b=u132*vec4(a2,0.);gl_Position=u131*u119*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",
i:m,I:["a0","a2"],ca:!0};g.s92={name:"_",g:"uniform sampler2D u1;uniform vec4 u107,u9;uniform vec3 u142;uniform float u143,u69;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u143;vec4 b=u107;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u142,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u142,l,u69),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u132*vec4(a0,1.),b=u132*vec4(a2,0.);gl_Position=u131*u119*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:m.concat(F),I:["a0","a2","a1"],ca:!0};var h=["u148","u149"];g.s92NormalMap={name:"_",g:"uniform sampler2D u1,u148;uniform vec4 u107,u9;uniform vec3 u149,u142;uniform float u143,u69;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u148,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u143;vec4 c=u107;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u142,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u142,t,u69),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u132*vec4(a0,1.),b=u132*vec4(a2,0.);gl_Position=u131*u119*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:m.concat(F,h),I:["a0","a2","a1","a3"],ca:!0};g.s92ParamsMap={name:"_",g:"uniform sampler2D u1,u70;uniform vec4 u107,u9,u71;uniform vec3 u142;uniform float u143,u69;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u143;vec4 a=u107,e=texture2D(u70,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u71*f),d=mix(d,r,u71.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u142,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u142,u,u69),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",
s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u132*vec4(a0,1.),b=u132*vec4(a2,0.);gl_Position=u131*u119*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:m.concat(F,y),I:["a0","a2","a1"],ca:!0};g.s92NormalParamsMap={name:"_",g:"uniform sampler2D u1,u148,u70;uniform vec4 u107,u9,u71;uniform vec3 u149,u142;uniform float u143,u69;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u148,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u143;vec4 a=u107,f=texture2D(u70,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u71*l),e=mix(e,z,u71.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u142,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u142,C,u69),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",
s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u131,u119,u132;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u132*vec4(a0,1.),b=u132*vec4(a2,0.);gl_Position=u131*u119*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:m.concat(F,h,y),I:["a0","a2","a1","a3"],ca:!0}}else u();t();m=[{type:"1i",name:"u1",value:0}];k.j("s0",m);k.j("s1",m);k.j("s65",[{type:"1i",name:"u8",value:1}].concat(m));k.j("s66",[{type:"1i",name:"u8",
value:1}].concat(m));k.j("s12",[{type:"1i",name:"u84",value:1}].concat(m));k.j("s67",[{type:"1i",name:"u84",value:1}].concat(m));k.j("s68",m);k.j("s69",m);k.j("s70",[{type:"1i",name:"u88",value:1},{type:"1i",name:"u37",value:2}].concat(m));k.j("s71",m);k.j("s44",m);k.j("s72",[{type:"1i",name:"u90",value:0},{type:"1i",name:"u91",value:1}]);k.j("s73",[{type:"1i",name:"u94",value:0},{type:"1i",name:"u95",value:1}]);k.j("s74",m);k.j("s75",m);k.j("s76",m);k.j("s77",m);k.j("s78",m);k.j("s79",[{type:"1i",
name:"u84",value:1}].concat(m));k.j("s80",[{type:"1i",name:"u84",value:1}].concat(m));T.da&&(k.j("s84",[{type:"1i",name:"u104",value:0},{type:"1i",name:"u105",value:1},{type:"1f",name:"u125",value:T.Sj},{type:"1f",name:"u126",value:T.Tj},{type:"1f",name:"u127",value:T.ek},{type:"1f",name:"u128",value:T.Wj},{type:"1f",name:"u129",value:T.Xj},{type:"1f",name:"u124",value:1},{type:"1f",name:"u116",value:1}]),k.j("s85",m));h=[{type:"1i",name:"u104",value:0},{type:"1i",name:"u105",value:1},{type:"1i",
name:"u106",value:2},{type:"1i",name:"u94",value:3},{type:"1i",name:"u108",value:4},{type:"1i",name:"u107",value:6},{type:"1i",name:"u96",value:7},{type:"1f",name:"u114",value:0},{type:"1f",name:"u111",value:0},{type:"1f",name:"u113",value:0}];T.da&&k.j("s82",h.concat([{type:"1f",name:"u116",value:T.Vj[da.T()]},{type:"1i",name:"u115",value:5}]));k.j("s83",h.concat([{type:"1f",name:"u117",value:T.Fc},{type:"1f",name:"u118",value:T.Uf}]));k.j("s87",[{type:"1i",name:"u133",value:0},{type:"1i",name:"u108",
value:1},{type:"1i",name:"u95",value:2},{type:"1f",name:"u136",value:T.Wn}]);k.j("s88",m);k.j("s89",m);k.j("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u97",value:2},{type:"1i",name:"u96",value:3},{type:"1f",name:"u102",value:1},{type:"2f",name:"u99",value:[0,0]}].concat(m));da.Z()?(k.j("s92",m),k.j("s92NormalMap",[{type:"1i",name:"u148",value:1}].concat(m)),k.j("s92ParamsMap",[{type:"1i",name:"u70",value:1}].concat(m)),k.j("s92NormalParamsMap",[{type:"1i",name:"u148",value:1},{type:"1i",
name:"u70",value:2}].concat(m))):q();x=!0},Kn:function(){u();t();q()},pd:function(){return B.id},$e:function(){return w},af:function(){return H},set:function(m){ob.dj(k);g[m].set()},ub:function(m){return n(m,z())},Od:function(m){return n(m,{name:"_",g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},Nn:function(m){return n(m,{name:"_",g:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",i:[],precision:"highp",
ca:!0})},H:function(){-1!==f&&B.H()},Qd:function(){var m=0;B.va.forEach(function(h,E){E=B.P[E];b.vertexAttribPointer(h,E,b.FLOAT,!1,B.Hg,m);m+=4*E})},$b:function(){k.ac(b)},ac:function(m){m.vertexAttribPointer(B.va[0],2,m.FLOAT,!1,8,0)},Up:function(){b.vertexAttribPointer(B.attributes.a0,3,b.FLOAT,!1,12,0)},La:function(){b.vertexAttribPointer(B.attributes.a0,3,b.FLOAT,!1,32,0)},Xa:function(){b.vertexAttribPointer(B.attributes.a0,3,b.FLOAT,!1,24,0)},Xi:function(){b.vertexAttribPointer(B.attributes.a2,
3,b.FLOAT,!1,32,12)},Yi:function(){b.vertexAttribPointer(B.attributes.a2,3,b.FLOAT,!1,24,12)},Ic:function(){b.vertexAttribPointer(B.attributes.a1,2,b.FLOAT,!1,32,24)},Vp:function(){b.vertexAttribPointer(B.attributes.a0,3,b.FLOAT,!1,20,0);b.vertexAttribPointer(B.attributes.a1,2,b.FLOAT,!1,20,12)},An:function(){b.vertexAttribPointer(B.attributes.a0,3,b.FLOAT,!1,32,0);b.vertexAttribPointer(B.attributes.a2,3,b.FLOAT,!1,32,12);b.vertexAttribPointer(B.attributes.a1,2,b.FLOAT,!1,32,24)},Bn:function(){b.vertexAttribPointer(B.attributes.a0,
3,b.FLOAT,!1,32,0);b.vertexAttribPointer(B.attributes.a2,3,b.FLOAT,!1,32,12)},Cn:function(){b.vertexAttribPointer(B.attributes.a0,3,b.FLOAT,!1,24,0);b.vertexAttribPointer(B.attributes.a2,3,b.FLOAT,!1,24,12)},Md:function(){b.vertexAttribPointer(B.attributes.a3,4,b.FLOAT,!1,16,0)},Pd:function(m,h){b.uniform1i(B.A[m],h)},G:function(m,h){b.uniform1f(B.A[m],h)},N:function(m,h,E){b.uniform2f(B.A[m],h,E)},ej:function(m,h){b.uniform2fv(B.A[m],h)},lg:function(m,h,E,K){b.uniform3f(B.A[m],h,E,K)},mg:function(m,
h){b.uniform3fv(B.A[m],h)},xa:function(m,h){b.uniform4fv(B.A[m],h)},Rn:function(m,h){b.uniformMatrix2fv(B.A[m],!1,h)},Sn:function(m,h){b.uniformMatrix3fv(B.A[m],!1,h)},Jc:function(m,h){b.uniformMatrix4fv(B.A[m],!1,h)},j:function(m,h){k.set(m);h.forEach(function(E){switch(E.type){case "4f":b.uniform4fv(B.A[E.name],E.value);break;case "3f":b.uniform3fv(B.A[E.name],E.value);break;case "2f":b.uniform2fv(B.A[E.name],E.value);break;case "1f":b.uniform1f(B.A[E.name],E.value);break;case "1i":b.uniform1i(B.A[E.name],
E.value);break;case "mat2":b.uniformMatrix2fv(B.A[E.name],!1,E.value);break;case "mat4":b.uniformMatrix4fv(B.A[E.name],!1,E.value)}})},K:function(){for(var m in g){var h=g[m];b.detachShader(h.na,h.cf);b.detachShader(h.na,h.bf);b.deleteShader(h.cf);b.deleteShader(h.bf);b.deleteProgram(h.na)}},v:function(){b.disableVertexAttribArray(0);k.H();k.K();I=0;x=!1;B=null;f=-1}};return k}(),Sa=function(){var a={},c=[],d=!1,e=0,l=0,n=-1,z=-1,q=-1,u=1,t=null,x=!1,F=null,y=!1,w=!1,H=!1,g=!1,f=!1,B=!1,I=!1,k=!1,
m=null,h=null,E=-1,K=-1,G=null,A=-1,p,v=null,J=null,Q=null,N=null,ea=null,ia=null,ba=null,O=[{type:"1f",name:"u81",value:0},{type:"1f",name:"u144",value:0},{type:"1f",name:"u145",value:0},{type:"1f",name:"u76",value:1},{type:"1f",name:"u73",value:0},{type:"1f",name:"u83",value:1}],M={m:function(r,P){a.og=r;da.Dg();zc.Qe();Jb.Qe(r.ge);n=r.Te;z=r.Fo;q=r.Mf;u=r.fe;var V=[{type:"1f",name:"u76",value:n},{type:"1f",name:"u73",value:q},{type:"1f",name:"u77",value:r.rn},{type:"mat4",name:"u72",value:r.Vm},
{type:"2f",name:"u38",value:r.Ej}];r.Cg=V;var W=[{type:"3f",name:"u78",value:[0,0,0]},{type:"3f",name:"u79",value:r.Lg},{type:"3f",name:"u80",value:r.Kg},{type:"1f",name:"u81",value:0},{type:"1f",name:"u82",value:r.ge},{type:"1f",name:"u83",value:1}];r.vj=W;M.Yl(r,P);d||void 0!==r.Ca||(r.Ca=[0,0,120]);k=I=L.df;if(!d&&I){P=1*da.qb();var Z=1*da.pb(),ka={isLinear:!0,isPot:!1,width:P,height:Z};m=aa.instance(ka);h=aa.instance(ka);E=1/P;K=1/Z}V=[{type:"1i",name:"u37",value:1},{type:"3f",name:"u74",value:r.Ca},
{type:"1f",name:"u140",value:r.Wc},{type:"1f",name:"u141",value:r.Fb}].concat(V,W);t=r.Bc;W=[{type:"1f",name:"u144",value:t[0]},{type:"1f",name:"u145",value:t[1]}];da.Z()?(P=[{type:"1i",name:"u1",value:0}],Z=[{type:"1i",name:"u148",value:2}],D.j("s92NNGLcolor",V.concat(W)),D.j("s92NNGLtexture",[].concat(P,V,W)),D.j("s92NNGLtextureNormalMap",[].concat(P,Z,V,W)),D.j("s92NNGLtextureParamsMap",[{type:"1i",name:"u70",value:2}].concat(P,V,W)),D.j("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u70",value:3}].concat(P,
Z,V,W))):(D.j("s96",V.concat(W)),D.j("s97",[{type:"1i",name:"u1",value:0}].concat(V)),D.j("s98",V),D.j("s99",V),D.j("s100",V.concat([{type:"1i",name:"u148",value:0}])),D.j("s101",V),D.j("s102",V.concat([{type:"1i",name:"u70",value:0}])));D.j("s70",[{type:"2f",name:"u89",value:r.vg}]);D.j(T.da?"s82":"s83",[{type:"1f",name:"u111",value:r.se},{type:"3f",name:"u112",value:r.$f},{type:"1f",name:"u113",value:r.Ee},{type:"1f",name:"u114",value:1},{type:"3f",name:"u109",value:r.Ij}]);if(p=r.Bd)G=r.zm,A=r.Cd,
D.j("s81",[{type:"4f",name:"u98",value:r.Ad},{type:"1f",name:"u101",value:r.Df},{type:"2f",name:"u99",value:r.ym},{type:"1f",name:"u103",value:Math.sign(A)}]);c.forEach(function(ra){ra.Ti(r)});d=!0},Yb:function(r){w&&ua.la.Yb(r);g&&ua.ra.Yb(r)},Yl:function(r,P){void 0!==ua.la&&r.cc&&da.Z()&&(ua.la.m(r),y=!0,P.push(function(V){ua.la.Yb(V);w=!H}));void 0!==ua.ra&&r.ad&&(ua.ra.m(r),P.push(function(V){ua.ra.Yb(V);g=!0}));void 0!==ua.kc&&r.ve&&(ua.kc.m(r),B=f=!0);void 0!==ua.ib&&(ua.ib.m(r),F=ua.ib.am({width:r.wc,
height:2*r.wc,depth:1.5*r.wc,il:-r.hf,Pa:r.ff,Mk:r.gf}),x=!0)},Pn:function(r,P,V,W){r&&(ba=r,y&&ua.la.Zb(r),g&&ua.ra.Zb(r),f&&ua.kc.Zb(r),c.forEach(function(Z){Z.Zb(r)}));V&&(N=V);W&&(ea=W)},vb:function(r){da.Z()?(D.j("s92NNGLcolor",r),D.j("s92NNGLtexture",r),D.j("s92NNGLtextureNormalMap",r),D.j("s92NNGLtextureParamsMap",r),D.j("s92NNGLtextureNormalParamsMap",r)):(D.j("s96",r),D.j("s97",r),D.j("s98",r),D.j("s99",r),D.j("s100",r),D.j("s101",r),D.j("s102",r))},Za:function(r,P,V){var W=[r[0]+P[0],r[1]+
P[1],r[2]+P[2]];W=[W[0]+V[0],W[1]+V[1],W[2]+V[2]];a.Jd=W;a.Gm=P;a.to=V;M.vb([{type:"3f",name:"u138",value:W}]);da.Z()&&(y&&ua.la.Za(r,P,V),g&&ua.ra.Za(W));x&&ua.ib.Za(r)},$a:function(r,P,V){var W=r*P*V;a.Hm=P;a.uo=V;a.Sl=r;M.vb([{type:"1f",name:"u139",value:W}]);da.Z()&&(y&&ua.la.$a(r*P,V),g&&ua.ra.$a(W));x&&ua.ib.$a(r)},Ni:function(){M.Za(a.Jd,a.Gm,a.to);M.$a(a.Sl,a.Hm,a.uo);M.bj(a.rx);M.m(a.og);M.Zi(a.mk,a.Fb)},bj:function(r){a.rx=r;M.vb([{type:"1f",name:"u75",value:r}]);da.Z()&&(y&&ua.la.jg(r),
g&&ua.ra.jg(r))},Zi:function(r,P){a.mk=r;a.Fb=P;M.vb([{type:"1f",name:"u140",value:r},{type:"1f",name:"u141",value:P}])},In:function(r){t=r;0===e&&M.vb([{type:"1f",name:"u144",value:t[0]},{type:"1f",name:"u145",value:t[1]}])},Ya:function(r){function P(){x&&ua.ib.toggle(!1);p&&D.j("s81",[{type:"1f",name:"u102",value:0}])}0>=r?(l=0,0!==e&&(e=0,Jb.ln(),x&&ua.ib.toggle(!0),p&&D.j("s81",[{type:"1f",name:"u102",value:1}]))):1<=r?(l=1,1!==e&&(e=1,Jb.kj(!0)),P()):(l=r,2!==e&&(Jb.kj(!1),e=2,P()));D.j("s83",
[{type:"1f",name:"u114",value:1-r}]);O[0].value=l;O[1].value=t[0]*(1-r)+-300*r;O[2].value=t[1]*(1-r)+-300*r;O[3].value=n*(1-r)+r*z;O[4].value=q*(1-r);O[5].value=1-r+r*u;w&&ua.la.kg(l,O);g&&ua.ra.kg(l,O);M.vb(O)},fl:function(r){ba.h(1);r.forEach(function(P){P.al()});x&&F.V()},sm:function(){return 1===e},te:function(r){ba.Na(r)},Nj:function(r){c.push(r)},tg:function(r){H=!r;w=r&&y},sg:function(r){B=r&&f},gg:function(r){g&&da.Z()&&ua.ra.Tn(r)},wb:function(r){da.Z()&&(y&&ua.la.wb(r),g&&ua.ra.wb(r))},
cl:function(r,P){if(!k)return!1;m.M();r.h(0);D.set("s74");D.N("u10",0,K);Y.l(!1,!1);h.o();m.h(0);D.N("u10",E,0);Y.l(!1,!1);D.set("s75");P.M();h.h(0);Y.l(!1,!1);return!0},jj:function(r){k=r&&I},resize:function(r,P,V){I&&(r*=V,P*=V,m.resize(r,P),h.resize(r,P),E=1/r,K=1/P)},eg:function(r,P){var V=r.L(),W=r.Y(),Z={width:V,height:W,isPot:!1};y&&(Q&&Q.remove(),Q=aa.instance(Z));v=wa.instance({width:V,height:W});f||g?(ua.kc.fg(V,W),J&&J.remove(),J=aa.instance(Z)):J=r;y&&ua.la.fg(V,W);P&&(ia&&ia.remove(),
ia=aa.instance(Z))},Zk:function(r){var P=null;switch(e){case 0:P=r;break;case 2:v.bind(!1,!0);ia.o();D.set("s65");D.G("u9",l);r.h(1);ea.h(0);Y.l(!0,!0);P=ia;break;case 1:P=ea}if(!w||1===e||!da.Z())return P;P.Na(0);B&&ua.kc.V(P,J);v.bind(!1,!B);g&&(B?P.h(0):(J.o(),D.set("s1"),Y.l(!0,!0)),ua.ra.V());J.h(0);N.Na(2);ua.la.V();Q.o();D.set("s1");B||g?J.h(0):P.h(0);Y.l(!0,!T.da);ua.la.add();return Q},dl:function(r,P){if(!p)return!1;D.set("s81");D.G("u100",r*A);G.h(1);Sa.te(2);J?J.h(3):P.h(3);return!0},v:function(){d=
!1;l=e=0;q=z=n=-1;u=1;t=null;x=!1;F=null;B=f=g=H=w=y=!1;ua.la.v();ua.hb.v()}};return M}(),ta=function(){function a(){q.forEach(function(r){r.gl(Q)})}function c(){q.forEach(function(r){r.ed(Q)})}function d(){q.forEach(function(r){r.el(Q)})}function e(){q.forEach(function(r){r.fd(Q)})}function l(){Q?Sa.fl(q):q.forEach(function(r){r.bl()})}function n(){p&&clearTimeout(p);p=setTimeout(function(){p=h=!1},16)}function z(r){r()}var q=[],u=[],t={ga_:!1,position:!1,sb:!1},x=[],F=[],y=null,w=0,H=null,g=null,
f=null,B=null,I=!1,k=!1,m=!1,h=!1,E=!1,K=!1,G=null,A=null,p=null,v=null,J=!1,Q=!1,N=!1,ea=!1,ia=!1,ba=!1,O=!1,M={m:function(){b.enable(b.DEPTH_TEST);b.depthFunc(b.LEQUAL);b.clearDepth(1);T.Kk?(b.enable(b.CULL_FACE),b.frontFace("CCW"===T.Lk?b.CCW:b.CW),b.cullFace(b.BACK)):b.disable(b.CULL_FACE);M.dh();var r={isPot:!1,isLinear:!1,width:da.qb(),height:da.pb(),F:4,isFloat:!1};H=aa.instance(r);r=Object.assign({},r,{isLinear:!0,width:da.L(),height:da.Y()});g=aa.instance(r);f=aa.instance(r);T.Ja&&(r=Object.assign({},
r,{isLinear:!1}),B=aa.instance(r));K=xa.ea();T.Ja||(y=ac.instance({Eb:T.Eb,pc:T.pc,qc:T.qc,oc:T.oc}));I=!0},dh:function(){da.Z()?t=qc.instance({}):(t.ga_=Eb.instance({bc:T.Ja?!1:"s93",isFloat:!1,Qb:!0,clearColor:[0,0,0,0],F:4}),t.position=Eb.instance({bc:T.Ja?!1:"s103",isFloat:!0,Qb:!0,clearColor:[0,0,0,0],F:4}),t.sb=Eb.instance({bc:!1,isFloat:!0,Qb:!0,clearColor:[0,0,0,0],F:4}),t.Cc=Eb.instance({bc:!1,isFloat:!1,Qb:!0,clearColor:[0,0,0,0],F:4}))},Bl:function(){return y},sa:function(r){y=r},jq:function(){},
wb:function(r){Sa.wb(r)},Ti:function(r){Sa.m(r,x);da.Z()||(t.ga_.cj(!1),t.position.cj("s96"));Q=ea=!0},Sp:function(){Sa.Ni()},No:function(r){Sa.Nj(r)},wn:function(r,P,V){Sa.Za(r,P,V)},xn:function(r,P,V){Sa.$a(r,P,V)},un:function(r,P){Sa.Zi(r,P)},vn:function(r){Sa.In(r)},yn:function(r){Sa.bj(r)},Ya:function(r){Sa.Ya(r)},Ui:function(r,P,V,W){Sa.Pn(r,P,V,W);P&&M.eg(P,W?!0:!1);N=!0},tg:function(r){Sa.tg(r)},gg:function(r){Sa.gg(r)},sg:function(r){Sa.sg(r)},jj:function(r){Sa.jj(r)},Oo:function(r){J&&(ia=
!0,ba=aa.instance({width:v.L(),height:v.Y(),isPot:!1}),O=r)},eg:function(r,P){v="string"===typeof r?aa.instance({url:r,isFloat:!1}):r;Q&&Sa.eg(v,P);J=!0},Mj:function(r){q.push(r);0!==x.length&&(x.forEach(function(P){P(r)}),x.splice(0,x.length))},gn:function(r){r=q.indexOf(r);-1!==r&&q.splice(r,1)},Po:function(r){u.push(r)},Pp:function(r){r=u.indexOf(r);-1!==r&&u.splice(r,1)},Vd:function(r){Q&&(k=r)},animate:function(r){!T.Ja||Q&&N?k&&(h||w>T.Im&&E?(G&&clearTimeout(G),++w,window.cancelAnimationFrame(M.animate),
G=setTimeout(function(){window.requestAnimationFrame(M.animate)},16)):(M.Ii(r),++w,Q||k&&window.requestAnimationFrame(M.animate))):setTimeout(M.animate,100)},Ro:function(r){F.push(r)},Ii:function(r){if((!T.Ja||Q&&N)&&I){F.forEach(z);if(da.Z()){if(!t.set()&&!da.ja()){da.io();M.dh();Eb.Uc();D.Kn();T.Ja&&Sa.Ni();b.flush();window.requestAnimationFrame(M.animate);return}Q||uc.jn();l();t.H();K&&b.depthMask(!1)}else Q&&Sa.te(1),t.ga_.set(!0,!0,!0),c(),t.ga_.H(),K&&b.depthMask(!1),t.Cc.set(!1,!K,!1),d(),
t.Cc.H(),t.position.set(!0,!K,!1),kb.V(),a(),t.position.H(),t.sb.set(!1,!K,!1),e(),t.sb.H();b.disable(b.DEPTH_TEST);K||b.depthMask(!1);T.da&&yb.V();var P=M.yh();null!==P&&(P.h(7),D.set(T.da?"s82":"s83"),D.N("u10",1/da.qb(),1/da.pb()),Eb.nk(),H.M(),T.Ym?(b.enable(b.BLEND),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA)):b.disable(b.BLEND),Q||kb.Pe(),t.position.h(0),t.sb.h(1),t.ga_.h(2),y.Xc(3),t.Cc.h(6),y.Yc(4),y.hh(),T.da&&yb.h(5),Y.l(!0,!0),wa.fa(),Sa.cl(H,
g)||(D.set("s1"),g.M(),H.h(0),Y.l(!1,!1)),D.set("s71"),f.M(),g.h(0),Y.l(!1,!1),g.o(),f.h(0),ea&&Q?(D.set("s70"),B.h(1),Sa.te(2),Y.l(!1,!1),D.set("s1"),B.M(),g.h(0),Y.l(!1,!1)):(D.set("s69"),Y.l(!1,!1),g.h(0)),wa.aa(),b.viewport(0,0,da.L(),da.Y()),Q&&Sa.dl(r,P)||D.set("s1"),Y.l(!1,!1),b.enable(b.DEPTH_TEST),b.depthMask(!0),b.flush())}},yh:function(){if(!J)return aa.Jh();if(!Q)return v;if(ia&&!Sa.sm()){D.set(O);wa.fa();ba.Kc();ba.o();v.h(0);var r=ba;Y.l(!0,!0)}else r=v;return Sa.Zk(r)},$n:function(){T.Qk||
k||(k=!0,M.animate(Date.now()),m||rc.ao(),m||Jb.jc(!1),A&&clearTimeout(A),T.da&&yb.Nd(),A=setTimeout(M.ya,T.jk),m||da.Vl(),m=!0)},hq:function(){k&&(E=k=!1,cancelAnimationFrame(M.animate))},ya:function(){E||!m||h||T.fh||(E=h=!0,A&&clearTimeout(A),p&&clearTimeout(p),kb.Ve().Ki(),A=setTimeout(function(){da.Fg(T.Mm);T.da&&yb.wj();w=0;n()},24))},wake:function(){E&&m&&!h&&(h=!0,E=!1,w=0,kb.Ve().Ki(),A&&clearTimeout(A),p&&clearTimeout(p),A=setTimeout(function(){da.Fg(1);T.da&&yb.Nd();n()},16))},Ap:function(){},
gp:function(){},Ud:function(r){ea=r},nq:function(){D.j("s83",[{type:"1f",name:"u117",value:T.Fc},{type:"1f",name:"u118",value:T.Uf}])},resize:function(r,P,V){H.resize(r*V,P*V);g.resize(r,P);f.resize(r,P);T.Ja&&B.resize(r,P);Sa.resize(r,P,V);r=[{type:"2f",name:"u10",value:[1/r,1/P]}];D.j("s71",r);D.j("s69",r)},K:function(){G&&clearTimeout(G);A&&clearTimeout(A);p&&clearTimeout(p);q.concat(u).forEach(function(r){r.K()});q.splice(0,q.length);u.splice(0,u.length);t.ga_.remove();t.sb.remove();t.Cc.remove();
t.position.remove();H.remove();g.remove();f.remove();B&&B.remove();h=!0},v:function(){M.K();K=E=h=m=k=Q=N=h=!1}};return M}(),ua={},da=function(){function a(){Eb.resize(d*u,e*u);H.Z()&&qc.resize(d*u,e*u);ta.resize(d,e,u);T.da&&yb.resize(d*u,e*u,u);H.Dg()}var c=null,d=0,e=0,l=-1,n=!1,z={Xd:!1,wg:!1,tj:!1,pg:!1,drawBuffers:!1,lm:!1,Zh:!1,nm:!1,zc:!1,Ta:!1},q=Object.assign({},z),u=1,t=!1,x=!1,F=!1,y=!1,w=!1,H={m:function(g){void 0!==g.onload&&g.onload&&(x=g.onload);void 0===g.expand&&(g.expand=!1);void 0===
g.wd&&(g.wd=!1);void 0===g.pa&&(g.pa=!1);void 0===g.Mb&&(g.Mb=!1);void 0===g.alpha&&(g.alpha=!1);void 0===g.preserveDrawingBuffer&&(g.preserveDrawingBuffer=!1);g.wd&&(n=!0);c=g.pa?g.pa:document.getElementById(g.Dk);g.expand&&H.expand();try{window.Ko=g.Mb?g.Mb.pl():c.getContext("webgl",{antialias:!1,alpha:g.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:g.preserveDrawingBuffer});y=g.Mb?g.Mb.ja():!1;F=!y;8>b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS)&&H.bd("too few texture image units");
if(!xa.m())return H.bd("invalid config");T.qo&&(q.wg=b.getExtension("EXT_texture_filter_anisotropic"),q.wg&&(q.Zh=!0));T.ro&&(q.Xd=b.getExtension("WEBGL_compressed_texture_s3tc"),q.Xd&&void 0!==q.Xd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&q.Xd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(q.lm=!0));F&&(q.tj=b.getExtension("OES_element_index_uint")||b.getExtension("MOZ_OES_element_index_uint")||b.getExtension("WEBKIT_OES_element_index_uint"),q.tj&&(q.nm=!0));!y&&T.so&&(q.pg=b.getExtension("EXT_sRGB"),q.pg&&(q.zc=!0));F?
(q.drawBuffers=b.getExtension("WEBGL_draw_buffers"),q.drawBuffers&&!T.eh&&(q.Ta=!0)):q.Ta=4<=b.getParameter(b.MAX_DRAW_BUFFERS);if(q.Ta){var f=H.Sk();q.Ta=q.Ta&&f}}catch(B){return H.bd(B)}if(null===b||!b)return H.bd("NO_GL");g.expand&&window.addEventListener("resize",H.expand,!1);c.addEventListener("contextmenu",function(B){B.preventDefault();return!1},!1);d=c.width;e=c.height;H.mf();return!0},mf:function(){l=n?3:2;xa.ea()||(l=Math.min(l,1));xa.zk()||(l=Math.min(l,0));zc.m();Eb.m();for(var g in ua)ua[g].Gc();
D.m();kb.m();Jb.m();ta.m();rc.m();T.da&&yb.m();"undefined"!==typeof FPSCounter&&FPSCounter.m();H.Dg();H.Uk();t=!0;x&&x();return!0},Uk:function(){if(q.Ta){var g=qc.instance({width:256,height:1});g.bind();b.viewport(0,0,256,1);D.set("s91");D.xa("color",[1,0,0,1]);Y.l(!0,!0);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT||b.DEPTH_BUFFER_BIT);wa.aa();D.set("s1");g.sb.h(0);Y.l(!1,!1);g=new Uint8Array(1024);b.readPixels(0,0,256,1,b.RGBA,b.UNSIGNED_BYTE,g);w=1>=g[1020]}},Sk:function(){var g=qc.instance({width:1,
height:1});if(!g.set())return g.remove(),!1;D.Nn(b);Y.Kb(b);b.bindFramebuffer(b.FRAMEBUFFER,null);D.ub(b);g.ga_.Na(0);Y.Kb(b);var f=new Uint8Array(4);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,f);g.remove();return 3<Math.abs(f[0]-127)?!1:!0},ja:function(){return y},L:function(){return d},Y:function(){return e},qb:function(){return u*H.L()},pb:function(){return u*H.Y()},ql:function(){return d/e},T:function(){return l},qm:function(){return 3===l},bi:function(){return w},Z:function(){return q.Ta},io:function(){q.Ta=
!1},Ip:function(){return!1},Bk:function(){return 0<H.T()},Xo:function(){return H.Z()&&0<H.T()},Ue:function(g){var f=b,B="";y||(f=q.drawBuffers,B="_WEBGL");return[f["COLOR_ATTACHMENT0"+B],f["COLOR_ATTACHMENT1"+B],f["COLOR_ATTACHMENT2"+B],f["COLOR_ATTACHMENT3"+B]].splice(0,g)},od:function(g){return H.Ue(4)[g]},Ol:function(){return y?b.SRGB?b.SRGB:b.RGBA:q.zc?q.pg.SRGB_ALPHA_EXT:b.RGBA},om:function(){return q.Zh},vl:function(){return q.wg},Cm:function(g){H.ja()?b.drawBuffers(H.Ue(g)):q.drawBuffers.drawBuffersWEBGL(H.Ue(g))},
expand:function(){ta.wake();H.resize(window.innerWidth,window.innerHeight);ta.ya()},resize:function(g,f){!c||g===d&&f===e||(d=g,e=f,c.width=d,c.height=e,t&&(kb.resize(),a()))},Dg:function(){var g=[{type:"2f",name:"u10",value:[1/da.qb(),1/da.pb()]}];D.j("s71",g);D.j("s69",g)},Fg:function(g){u=g;a()},Fa:function(g,f){c.addEventListener(g,f,!1)},bd:function(){l=-1;return!1},Yg:function(){return 0<=l},Lp:function(){},Tp:function(){},fq:function(){var g=document.getElementById("loading");g&&(g.style.display=
"block")},Vl:function(){var g=document.getElementById("loading");g&&(g.style.display="none")},K:function(){H.Yg()&&(aa.uj(),ta.K(),Y.K(),Eb.K(),T.da&&yb.K(),ac.K(),rc.K(),D.K(),aa.K(),b.flush(),b=null)},v:function(){ta.v();Sa.v();D.v();Object.assign(q,z);t=!1}};return H}(),kb=function(){var a=!1,c=!1,d=[];return{m:function(){},instance:function(e){void 0===e.Li&&(e.Li=!0);void 0===e.je&&(e.je=.1);void 0===e.ie&&(e.ie=100);void 0===e.direction&&(e.direction=[0,0,-1]);void 0===e.Lb&&(e.Lb=45);var l=
new Tb,n=new Qa(50,-50,-400),z=null;l.setPosition(n);var q=new Int8Array(20),u=new Int8Array(20),t=0,x=0,F=0,y=0,w={V:function(){u[D.pd()]||(D.Jc("u119",l.elements),u[D.pd()]=1);q[D.pd()]||(D.Jc("u131",z),q[D.pd()]=1)},Oe:function(){x||(D.Jc("u119",l.elements),x=1);t||(D.N("u120",z[0],z[5]),t=1)},Pe:function(){F||(D.lg("u109",n.x,n.y,n.z),F=1)},Hb:function(){y||(D.lg("u149",n.x,n.y,n.z),y=1)},$g:function(){var H=e.je,g=e.ie,f=Math.tan(.5*e.Lb*Math.PI/180);z=[.5/f,0,0,0,0,.5*da.ql()/f,0,0,0,0,-(g+
H)/(g-H),-1,0,0,-2*g*H/(g-H),0];for(H=0;20>H;++H)q[H]=0;t=0},Jn:function(H,g){n.Ri(g[0]).Si(g[1]).z=g[2];l.elements.set(H);for(H=0;20>H;++H)u[H]=0;y=F=x=0},Ki:function(){for(var H=y=F=0;20>H;++H)u[H]=0}};w.$g();a=w;c=!0;e.Li&&d.push(w);return w},V:function(){c&&a.V()},Oe:function(){c&&a.Oe()},Pe:function(){c&&a.Pe()},Hb:function(){c&&a.Hb()},resize:function(){d.forEach(function(e){e.$g()})},Ve:function(){return a}}}(),Eb=function(){var a=[],c=null;return{m:function(){c=wa.instance({width:da.qb(),
height:da.pb(),xc:!da.Z()})},instance:function(d){void 0===d.width&&(d.width=da.qb());void 0===d.height&&(d.height=da.pb());void 0===d.isFloat&&(d.isFloat=!1);void 0===d.Qb&&(d.Qb=!1);void 0===d.clearColor&&(d.clearColor=[0,0,0,0]);void 0===d.F&&(d.F=4);var e=aa.instance({isFloat:d.isFloat&&xa.ea(),S:d.isFloat,width:d.width,height:d.height,isPot:!1,isLinear:!1,F:d.F}),l=void 0!==d.bc&&d.bc?!0:!1,n=d.bc,z={set:function(q,u,t){t&&c.bind(!1,t);e.o();q&&(b.clearColor(d.clearColor[0],d.clearColor[1],d.clearColor[2],
d.clearColor[3]),c.ze());u&&c.Zg();l&&D.set(n)},cj:function(q){l=(n=q)?!0:!1},H:function(){e.Zd()},h:function(q){e.h(q)},resize:function(q,u){e.resize(q,u)},debug:function(){e.debug()},remove:function(){e.remove()}};d.Qb&&a.push(z);return z},resize:function(d,e){c.resize(d,e);a.forEach(function(l){l.resize(d,e)})},nk:function(){c.Sg()},Uc:function(){c.Uc()},Kc:function(){c.Kc()},$o:function(){c.Zg()},Zo:function(){c.ze()},Yo:function(){c.clear()},K:function(){c.remove()}}}(),qc=function(){var a=[];
return{instance:function(c){void 0===c.width&&(c.width=da.qb());void 0===c.height&&(c.height=da.pb());var d=b.createFramebuffer(),e=c.width,l=c.height,n=!0;c={isFloat:xa.ea(),S:!0,width:e,height:l,isPot:!1,isLinear:!1,F:4};var z=aa.instance(c),q=aa.instance(c),u=aa.instance(c),t=aa.instance(c),x=wa.wl(),F=wa.Dh();b.bindFramebuffer(x,d);var y=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,y);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,e,l);b.framebufferRenderbuffer(x,b.DEPTH_ATTACHMENT,
b.RENDERBUFFER,y);b.clearDepth(1);b.framebufferTexture2D(x,da.od(0),b.TEXTURE_2D,z.get(),0);b.framebufferTexture2D(x,da.od(1),b.TEXTURE_2D,q.get(),0);b.framebufferTexture2D(x,da.od(2),b.TEXTURE_2D,t.get(),0);b.framebufferTexture2D(x,da.od(3),b.TEXTURE_2D,u.get(),0);da.Cm(4);b.bindFramebuffer(x,null);wa.reset();var w={position:z,sb:q,Cc:u,ga_:t,bind:function(){b.bindFramebuffer(x,d);wa.reset()},set:function(){n&&b.checkFramebufferStatus(F);b.bindFramebuffer(x,d);wa.reset();if(n){if(b.checkFramebufferStatus(F)!==
b.FRAMEBUFFER_COMPLETE)return!1;n=!1}b.viewport(0,0,e,l);b.clearColor(0,0,0,0);D.Ub()&&!da.bi()&&(D.set("s90"),Y.l(!1,!1));b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);return!0},H:function(){},resize:function(H,g){e=H;l=g;z.resize(H,g);q.resize(H,g);t.resize(H,g);u.resize(H,g);b.bindRenderbuffer(b.RENDERBUFFER,y);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,e,l);b.bindRenderbuffer(b.RENDERBUFFER,null)},remove:function(){z.remove();q.remove();t.remove();u.remove();b.deleteRenderbuffer(y);
b.deleteFramebuffer(d);var H=a.indexOf(w);-1!==H&&a.splice(H,1)}};a.push(w);return w},resize:function(c,d){a.forEach(function(e){e.resize(c,d)})}}}(),ac=function(){var a=[],c=T.Rg;return{instance:function(d){function e(){u?l():(f=md.instance({ka:F,km:c}),q=T.kk[da.T()],y=aa.instance({isFloat:xa.ea(),S:!0,isPot:!0,isLinear:!1,Ob:!0,width:q,height:q/2,F:3}),w=aa.instance({isFloat:xa.ea(),S:!0,isPot:!0,isLinear:!1,Ob:!0,width:q,height:q/2,F:3}),H=aa.instance({isFloat:xa.ea(),S:!0,isPot:!0,width:1,height:q/
2,F:3}),g=aa.instance({isFloat:xa.ea()&&!c,S:!c,isPot:!1,isLinear:!0,Ob:!0,isMipmap:!1,width:q,height:q/2,F:c?4:3}),u=!0,l(),I.forEach(function(k){k()}),I.splice(0,I.length))}function l(){if(u){wa.fa();f.en();y.M();D.set("s73");F.h(0);D.G("u87",T.Fc);aa.tk(1);Y.l(!0,!0);for(var k=T.bm[da.T()],m=0;m<k;++m)w.o(),D.set("s76"),D.N("u10",1/q,0),y.h(0),Y.l(!1,!1),y.o(),D.N("u10",0,2/q),w.h(0),Y.l(!1,!1);H.M();D.set("s78");y.h(0);Y.l(!1,!1);D.set(c?"s80":"s79");g.M();y.h(0);H.h(1);Y.l(!1,!1);aa.aa(0);aa.aa(1)}}
var n=Object.assign({Eb:null,pc:null,oc:0,qc:0},d),z=0,q=0,u=!1,t=null,x=null,F=null,y=null,w=null,H=null,g=null,f=null,B=0,I=[];d={m:function(){function k(){2===++m&&(F=aa.instance({isFloat:xa.ea(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,Ob:!0,width:z,height:z/2,F:3}),wa.fa(),F.M(),D.set("s72"),D.G("u92",n.qc),D.G("u93",n.oc),t.h(0),x.h(1),Y.l(!0,!0),e())}var m=0;z=T.lk[da.T()];B=Math.log2(z)-1;n.Eb&&(t=aa.instance({isPot:!1,url:n.Eb,R:k,F:3,isFlipY:!1}),x=aa.instance({isPot:!1,url:n.pc,R:k,F:3,isFlipY:!1}))},
$i:function(k){F=k;e()},Xc:function(k){u&&(f.h(k),D.G("u110",f.L()))},Yc:function(k){u&&g.h(k)},hh:function(){D.G("u3",B)},zh:function(){return B},L:function(){return z},Gb:function(k){u?k():I.push(k)},K:function(){t&&t.remove();x&&x.remove();y.remove();H.remove();w.remove();f.remove();g.remove();F.remove()}};a.push(d);d.m();return d},K:function(){a.forEach(function(d){d.K()})}}}(),Yc={instance:function(a){var c=a.wm,d=a.um,e=0,l=c.L();a=T.Rg;var n=aa.instance({isFloat:xa.ea()&&!a,S:!a,isLinear:!0,
isMipmap:!1,isPot:!1,width:l,F:a?4:3,isFlipY:!1}),z=aa.instance({isFloat:xa.ea()&&!a,S:!a,isPot:!1,isLinear:!0,Ob:!0,isMipmap:!1,width:l,height:l/2,F:a?4:3}),q=wa.instance({width:l,height:l}),u=a?"s66":"s65";return{On:function(t){e=t;D.set(u);b.viewport(0,0,l,l);q.o();n.o();D.G("u9",e);c.Xc(1);d.Xc(0);Y.l(!0,!0);b.viewport(0,0,l,l/2);z.o();c.Yc(1);d.Yc(0);Y.l(!1,!1);b.flush()},Xc:function(t){n.h(t)},Yc:function(t){z.h(t)},hh:function(){D.G("u3",c.zh()*(1-e)+d.zh()*e)}}}},Jb=function(){function a(v){var J=
(h-T.xe)/(T.Vg-T.xe);J=1-Math.pow(1-J,T.Io);h+=v*(1+J*T.Jo);h=Math.min(Math.max(h,T.xe),T.Vg);p.jc()}function c(v){-1!==q&&(B=f=0,z(),a(T.Ho*v.deltaY/window.innerHeight),v.preventDefault())}function d(){k+=f;m+=B;m=Math.min(Math.max(m,T.Qm),T.Pm);p.jc()}function e(v){if(0===q||-1===q)return!1;var J=void 0!==v.touches&&v.touches.length;v.preventDefault();if(2===q){var Q=Pc(v.touches[0].pageX,v.touches[0].pageY,v.touches[1].pageX,v.touches[1].pageY);a(-(H-Q)*T.Rm);H=Q}else Q=J?v.touches[0].clientX:
v.clientX,v=J?v.touches[0].clientY:v.clientY,f=2*(Q-y)*Math.PI/da.L(),B=2*(v-w)*Math.PI/da.Y(),4===q?(A[0]+=f*T.xi,A[1]-=B*T.xi,A[0]=Math.min(Math.max(A[0],-T.Ai),T.Ai),A[1]=Math.min(Math.max(A[1],-T.Bi),T.Bi),p.jc()):d(),y=Q,w=v}function l(){0!==q&&-1!==q&&(0===f&&0===B||1!==q||!K?ta.ya():(z(),g=Date.now(),E=setInterval(p.tm,I)),q=0)}function n(v){if(2!==q&&-1!==q){B=f=0;z();ta.wake();var J=void 0!==v.changedTouches&&v.touches.length;v.preventDefault();J&&2===v.touches.length?(q=2,H=Pc(v.touches[0].pageX,
v.touches[0].pageY,v.touches[1].pageX,v.touches[1].pageY)):(q=J||2!==v.button?1:4,y=J?v.touches[0].clientX:v.clientX,w=J?v.touches[0].clientY:v.clientY);return!1}}function z(){E&&(clearInterval(E),E=!1)}var q=0,u=!1,t=!1,x=!1,F=1,y=0,w=0,H=0,g=0,f=0,B=0,I=16,k=T.oj,m=T.zi,h=T.we,E=!1,K=0,G=new Float32Array([0,0,0,0,0]),A=[T.xk,T.yk],p={m:function(){K=T.Pj[da.T()];I=T.gd[da.T()];da.Fa("mousedown",n);da.Fa("mouseup",l);da.Fa("mouseout",l);da.Fa("mousemove",e);da.Fa("mousemove",e);da.Fa("wheel",c);da.Fa("touchstart",
n);da.Fa("touchend",l);da.Fa("touchmove",e)},jc:function(v){u?(t[0]=-m,t[1]=k,x[1].value=F/T.we*h,Sa.vb(x)):(G[0]=k,G[1]=m,G[2]=h,G[3]=A[0],G[4]=A[1],rc.sn(G,v))},tm:function(){if(1E-4>f&&1E-4>B||-1===q)z(),B=f=0,0===q&&ta.ya();var v=Date.now(),J=v-g;g=v;v=Math.pow(K,J/I);f*=v;B*=v;d()},Qe:function(v){u||(u=!0,q=-1,t=[0,0,0],x=[{name:"u78",type:"3f",value:t},{name:"u82",type:"1f",value:1}],F=v)},kj:function(v){-1===q&&v&&(q=0);v||(q=-1)},ln:function(){B=f=0;k=T.oj;m=T.zi;h=T.we;p.jc()},Xp:function(v){h=
v},Yp:function(v){A[0]=v[0];A[1]=v[1];T.Wg=v[2]},Wp:function(v,J){k=v;m=J}};return p}(),uc=function(){var a={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(c){function d(M){if(O){M.tweaker&&window.JEELIZVTO&&"undefined"!==typeof S&&S.Qg(M.tweaker);A=M.partsNames||[];G.splice(0,G.length);G.push({n:0,offset:0});h.min.set(Infinity,Infinity,Infinity);h.max.set(-Infinity,-Infinity,-Infinity);var r=M.uvs;r&&(r=r.filter(function(na){return na}));ia=r&&
0<r.length&&0<r[0].length?!0:!1;"undefined"!==typeof wb&&"string"===typeof M.faces&&(M.faces=wb(M.faces));"undefined"!==typeof qb&&("string"===typeof M.vertices&&(M.vertices=qb(M.vertices)),r&&r.length&&r.forEach(function(na,Ba){"string"===typeof na&&(r[Ba]=qb(na))}));var P=M.metadata.faces,V=1+(ia?1:0);P=(M.faces.length-P)/(M.metadata.faces*V);6!==P&&8!==P||ia||(++V,P/=2);if(4===P){P=6*V+2;for(var W=4*V+1,Z=Array(M.metadata.faces*P),ka=0;ka<M.metadata.faces;++ka)for(var ra=0;ra<V;++ra)Z[ka*P+4*ra]=
M.faces[ka*W+5*ra],Z[ka*P+4*ra+1]=M.faces[ka*W+5*ra+1],Z[ka*P+4*ra+2]=M.faces[ka*W+5*ra+2],0===ra&&(Z[ka*P+3]=M.faces[ka*W+4]),Z[ka*P+4*ra+3*V+1]=M.faces[ka*W+5*ra],Z[ka*P+4*ra+3*V+2]=M.faces[ka*W+5*ra+2],Z[ka*P+4*ra+3*V+3]=M.faces[ka*W+5*ra+3],0===ra&&(Z[ka*P+3*V+4]=M.faces[ka*W+4]);M.faces=Z;M.metadata.faces*=2}y=Array(M.metadata.vertices);for(P=0;P<M.metadata.vertices;++P)y[P]=new Qa(M.vertices[3*P],M.vertices[3*P+1],M.vertices[3*P+2]),ad(h,y[P]);w=Array(M.metadata.faces);V=3*V+1;for(P=0;P<M.metadata.faces;++P)w[P]=
new wc(M.faces[V*P],M.faces[V*P+1],M.faces[V*P+2]),w[P].Wb=M.faces[V*P+3];v=3<y.length;O&&(O.visible=v);cd(y,w);H=dd(y,w);if(ia){V=Array(y.length);P=["a","b","c"];for(W=0;W<M.metadata.faces;++W)for(Z=0;3>Z;++Z)if(ka=M.faces[7*W+Z],ra=M.faces[7*W+1+Z+3],"undefined"===typeof V[ka])V[ka]=[[ka,ra]];else if(V[ka][0][1]!==ra){for(var Pa=-1,ja=1;ja<V[ka].length;++ja)if(V[ka][ja][1]===ra){Pa=V[ka][ja][0];break}ja=-1;-1===Pa?(ja=y.length,y.push(y[ka].clone()),H.push(H[ka].clone()),V[ka].push([ja,ra]),V[ja]=
[[ja,ra]]):ja=Pa;M.faces[7*W+Z]=ja;w[W][P[Z]]=ja}g=Array(y.length);for(M=0;M<y.length;++M)P="undefined"===typeof V[M]?M:V[M][0][1],g[M]=new Rb(r[0][2*P],r[0][2*P+1])}var la=oc(h);c.Cb&&(y.forEach(function(na){na.x-=la.x;na.z-=la.z;na.y-=h.min.y}),h.min.x-=la.x,h.max.x-=la.x,h.min.z-=la.z,h.max.z-=la.z,h.max.y-=h.min.y,h.min.y=0);if(c.Db){var Ea=T.ik/Math.max(h.max.x-h.min.x,h.max.y-h.min.y,h.max.z-h.min.z);y.forEach(function(na){na.Ba(Ea)});h.min.Ba(Ea);h.max.Ba(Ea)}M=ia?8:6;V=new Float32Array(y.length*
M);for(P=0;P<y.length;++P)V[M*P]=y[P].x,V[M*P+1]=y[P].y,V[M*P+2]=y[P].z,V[M*P+3]=H[P].x,V[M*P+4]=H[P].y,V[M*P+5]=H[P].z,ia&&(V[M*P+6]=g[P].x,V[M*P+7]=g[P].y);w.sort(function(na,Ba){return na.Wb-Ba.Wb});var U=new (65536>3*w.length?Uint16Array:Uint32Array)(3*w.length),ma=0;w.forEach(function(na,Ba){na.Wb===ma?G[ma].n+=3:(G.push({n:3,offset:3*Ba}),++ma);U[3*Ba]=na.a;U[3*Ba+1]=na.b;U[3*Ba+2]=na.c});f&&f.remove();f=Y.instance({ha:V,U:U});k=I=!1;ea&&O.ah();J=!0;O.Ne();c.R&&(c.R(O),c.R=null)}}function e(M){f.Ga(M.n,
M.offset)}function l(M,r){N[r]&&(D.set(N[r].Jl()),f.bind(!1),ia?(D.La(),D.Xi()):(D.Xa(),D.Yi()),N[r].Ac()&&(D.Ic(),I.rc(!1),D.Md(),kb.Hb()),N[r].Xk(),N[r].fd(),f.Ga(M.n,M.offset))}function n(M,r){N[r]&&(D.set(N[r].Kl()),f.bind(!1),ia?(D.La(),D.Xi()):(D.Xa(),D.Yi()),N[r].Ac()&&(D.Ic(),I.rc(!1),D.Md(),kb.Hb()),O.vc(),N[r].fd(),f.Ga(M.n,M.offset))}function z(M,r){ba&&N[r]&&(N[r].Yk(),f.Ga(M.n,M.offset))}function q(M,r){ba&&N[r]&&(N[r].$k(ia),f.Ga(M.n,M.offset))}function u(M,r){N[r]&&(D.set(N[r].Fl()),
N[r].mh(),f.Ga(M.n,M.offset))}function t(M,r){N[r]&&(D.set(N[r].Gl()),O.vc(),N[r].mh(),f.Ga(M.n,M.offset))}function x(M,r){N[r]&&(D.set(N[r].Hl()),N[r].Ac()&&(I.rc(!1),D.Md(),kb.Hb()),f.bind(!1),N[r].jh(ia),f.Ga(M.n,M.offset))}function F(M,r){if(N[r]){var P=N[r].Il();D.set(P);N[r].Ac()&&(I.rc(!1),D.Md(),kb.Hb(),f.bind(!1));a[P]||(O.vc(),f.bind(!1),a[P]=!0);N[r].jh(ia);f.Ga(M.n,M.offset)}}if(!da.Yg())return!1;void 0===c.Cb&&(c.Cb=!1);void 0===c.Db&&(c.Db=!1);void 0===c.Ug&&(c.Ug=!1);var y=null,w=null,
H=null,g=null,f=null,B=null,I=null,k=!1,m=new Tb,h=new vc,E=[],K=null,G=[{n:0,offset:0}],A=[],p=[],v=!1,J=!1,Q=[],N=[],ea=!1,ia=!1,ba=!1,O={visible:v,Ik:function(){return G.length},El:function(){return A},ah:function(){!k&&ia&&(w=w.filter(function(M){return null!==M}),B=ed(y,H,g,w),I=Y.instance({ha:B,U:!1}),g=H=w=y=B=null,k=!0)},vc:function(){kb.V();O.lh()},lh:function(){D.Jc("u132",m.elements)},hp:function(){v&&(O.lh(),f.bind(!1),ia?D.La():D.Xa(),f.V())},gl:function(M){v&&(M||O.vc(),f.bind(!1),ia?
D.La():D.Xa(),f.V())},hl:function(){v&&(f.bind(!1),ia?D.La():D.Xa(),G.forEach(z))},ih:function(){v&&(f.bind(!1),ia?D.La():D.Xa(),p.forEach(e))},el:function(M){ba&&v&&(f.bind(!1),ia?D.La():D.Xa(),M?G.forEach(u):G.forEach(t))},ed:function(M){v&&(M||O.vc(),f.bind(!1),M||(D.La(),D.Ic()),ba&&G.forEach(q))},fd:function(M){ba&&v&&(M?G.forEach(l):G.forEach(n))},bl:function(){ba&&v&&G.forEach(F)},al:function(){ba&&v&&G.forEach(x)},Ih:function(){return K},Gh:function(){return Q},oo:function(M,r){N[M].update(r);
O.yj()},hg:function(M,r){function P(Z,ka){Z&&(Z.R=function(){O&&++W===V&&(ba=!0,ea&&O.Gb(O.ah,5),O.Ne(),r&&O.Gb(function(){r(O)},10))},Z=zc.instance(Z),N[ka]&&N[ka].K(),N[ka]=Z,ea=ea||Z.Ac())}Q=M;ba=!1;var V=M.length,W=0;N=Array(V);ea=!1;M.forEach(function(Z,ka){"string"===typeof Z?xc(-1===Z.indexOf(".json")?Z+".json":Z,function(ra){ra.name=Z;P(ra,ka,Z)}):P(Z,ka,!1)});O.Gb(function(){O.yj();ta.wb(O);ta.Vd(!0)},4)},yj:function(){p.splice(0,p.length);G.forEach(function(M,r){N[r]&&N[r].rm()&&p.push(M)})},
Gb:function(M,r){J&&ba?M(O):E.push({mb:M,order:r?r:0})},Ne:function(){J&&ba&&(E.sort(function(M,r){return 0>M.order-r.order?1:-1}),E.forEach(function(M){M.mb(O)}),E.splice(0,E.length))},remove:function(){O.K();O=null},K:function(){v=J=!1;f&&f.remove();N.forEach(function(M){M.K()});k&&I.remove()},Ml:function(){return h.size().x},Nl:function(){return h.size().y},yp:function(){return h.size().z},sl:function(){return oc(h).x},tl:function(){return oc(h).y},mp:function(){return oc(h).z},up:function(){return h.min.y},
replace:function(M,r,P){if(M===K)return r&&O&&(O.Ne(),r(O)),!1;K=M;ta.Vd(!1);xc(M,function(V){d(V);r&&r(O)},P);return!0}};c.Dc&&O.hg(c.Dc,c.Ug);K=c.url;xc(c.url,d);return O},jn:function(){a.s92=!1;a.s92color=!1;a.s92NormalMap=!1;a.s92ParamsMap=!1;a.s92NormalParamsMap=!1}}}(),rc=function(){var a=null,c=!1,d=!1,e=null,l=new Float32Array(16),n=new Float32Array(3),z={data:0},q={m:function(){a=T.Ib?new Worker("js/worker.php"):{postMessage:function(u){z.data=u;Ac.Km(z)},terminate:function(){}};a.onmessage=
function(u){switch(u.data[0]){case 3:for(var t=0;16>t;++t)l[t]=u.data[t+1];for(t=0;3>t;++t)n[t]=u.data[t+17];kb.Ve().Jn(l,n);break;case 6:q.Dn(),c=!0,Jb.jc(!1),T.da&&(yb.enable(),yb.Nd())}};e=new Float32Array(6);e[0]=2;T.Ib||Ac.Fn(a)},ao:function(){T.gh||(d=!0)},iq:function(){d=!1},sn:function(u,t){if(t||c&&d)e[1]=u[0],e[2]=u[1],e[3]=u[2],e[4]=u[3],e[5]=u[4],a.postMessage(e)},Dn:function(){a.postMessage([5,T.Wg])},K:function(){T.Ib&&a.terminate()}};return q}(),Ac=function(){var a=0,c=0,d=0,e=[0,0],
l=new Tb,n=new nc,z=new nc,q=new Qa,u=new Qa,t=new Sb,x=0,F=new Float32Array(20);F[0]=3;var y=!1,w={data:!1},H={m:function(){"undefined"===typeof T&&(self.Lo={Ib:!0});T.Ib&&H.Vf([6])},Km:function(g){switch(g.data[0]){case 2:H.ig(g.data);break;case 5:x=g.data[1]}},Vf:function(g){T.Ib?postMessage(g):(w.data=g,y.onmessage(w))},ig:function(g){a=g[1];c=g[2];d=g[3];e[0]=g[4];e[1]=g[5];q.set(e[0],e[1],-d);t.set(c,a,0,"XYZ");if(!1===t instanceof Sb)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
g=Math.cos(t.B/2);var f=Math.cos(t.C/2),B=Math.cos(t.D/2),I=Math.sin(t.B/2),k=Math.sin(t.C/2),m=Math.sin(t.D/2),h=t.order;"XYZ"===h?(n.B=I*f*B+g*k*m,n.C=g*k*B-I*f*m,n.D=g*f*m+I*k*B,n.O=g*f*B-I*k*m):"YXZ"===h?(n.B=I*f*B+g*k*m,n.C=g*k*B-I*f*m,n.D=g*f*m-I*k*B,n.O=g*f*B+I*k*m):"ZXY"===h?(n.B=I*f*B-g*k*m,n.C=g*k*B+I*f*m,n.D=g*f*m+I*k*B,n.O=g*f*B-I*k*m):"ZYX"===h?(n.B=I*f*B-g*k*m,n.C=g*k*B+I*f*m,n.D=g*f*m-I*k*B,n.O=g*f*B+I*k*m):"YZX"===h?(n.B=I*f*B+g*k*m,n.C=g*k*B+I*f*m,n.D=g*f*m-I*k*B,n.O=g*f*B-I*k*m):
"XZY"===h&&(n.B=I*f*B-g*k*m,n.C=g*k*B-I*f*m,n.D=g*f*m+I*k*B,n.O=g*f*B+I*k*m);q.y-=x;g=l.elements;m=n.x;var E=n.y,K=n.z;I=n.w;var G=m+m,A=E+E;k=K+K;f=m*G;B=m*A;m*=k;h=E*A;E*=k;K*=k;G*=I;A*=I;I*=k;g[0]=1-(h+K);g[4]=B-I;g[8]=m+A;g[1]=B+I;g[5]=1-(f+K);g[9]=E-G;g[2]=m-A;g[6]=E+G;g[10]=1-(f+h);g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;l.setPosition(q);z.J(n).inverse();g=u.J(q);E=g.x;G=g.y;K=g.z;f=z.x;B=z.y;I=z.z;k=z.w;m=k*E+B*K-I*G;h=k*G+I*E-f*K;A=k*K+f*G-B*E;E=-f*E-B*G-I*K;g.x=m*k+E*-f+h*-I-
A*-B;g.y=h*k+E*-B+A*-f-m*-I;g.z=A*k+E*-I+m*-B-h*-f;for(g=1;17>g;++g)F[g]=l.elements[g-1];F[17]=u.x;F[18]=u.y;F[19]=u.z;H.Vf(F)},Fn:function(g){y=g;H.Vf([6])}};return H}();Ac.m();var zc=function(){function a(z){var q=z.split(":").shift();return"data"===q||"blob"===q?z:("undefined"!==typeof L&&L.ba?L:T).ba+T.Em+z}function c(z,q){return Math.min(q+z+q*z,1)}var d=!1,e=null,l=1,n={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,
fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],R:null};return{m:function(){e=aa.instance({width:1,height:1,isMipmap:!1,F:4,array:new Uint8Array([255,255,255,255]),zc:!1})},Qe:function(){d=!0;l=2},instance:function(z){function q(p){function v(){++Q===J&&p&&p()}var J=1,Q=0;(t=w.normalTexture&&da.Bk()?!0:!1)&&!f.Ka&&(++J,f.Ka=aa.instance({url:a(w.normalTexture),isLinear:!0,isMipmap:!0,Uh:da.qm(),isPot:!0,F:3,R:v}));(x=w.diffuseTexture&&""!==w.diffuseTexture?!0:!1)&&!f.ga_?(++J,
f.ga_=aa.instance({url:a(w.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Uh:!0,zc:!1,Ob:!1,hm:!1,F:4,R:v}),g="s97"):f.ga_||(g="s98",f.ga_=e);H=[w.diffuseColor[0]/255,w.diffuseColor[1]/255,w.diffuseColor[2]/255];(B=w.paramsTexture?!0:!1)&&!f.tb&&(w.paramsTexture===w.diffuseTexture?f.tb=f.ga_:(++J,f.tb=aa.instance({url:a(w.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Uh:!0,zc:!1,Ob:!1,hm:!1,F:4,R:v})));v()}function u(p){"number"===typeof w.alpha?(F[0]=w.alpha,F[1]=0,F[2]=0,F[3]=0):(F[0]=w.alpha[0],
F[1]=w.alpha[1]-w.alpha[0],F[2]=w.alpha[2],F[3]=w.alpha[3]);var v=1<=w.fresnelPow?w.fresnelMin:w.fresnelMax;y[0]=c(F[0],v);y[1]=c(F[1],v);y[2]=F[2];y[3]=F[3];I={yi:w.fresnelMax,ki:[w.fresnelMin,w.roughness,w.fresnelPow/15,w.metalness],ni:w.paramsMapMask};p=w.R?w.R.bind(null,p):null;q(p);t||B||x?t||B?t&&!B?(k="s92NormalMap",m="s92NNGLtextureNormalMap"):!t&&B?(k="s92ParamsMap",m="s92NNGLtextureParamsMap"):(k="s92NormalParamsMap",m="s92NNGLtextureNormalParamsMap"):(k="s92",m="s92NNGLtexture"):(k="s92color",
m="s92NNGLcolor");h=t?"s100":"s99";E=t?"s94":"s104";K=B?"s102":"s101";G=B?"s95":"s105"}var t,x,F=[1,0,0,0],y=[0,0,0,0],w=Object.assign({},n,z),H=null,g=null,f={ga_:null,Ka:null,tb:null},B=t=x=!1,I=null,k=null,m=null,h=null,E=null,K=null,G=null,A={update:function(p){Object.assign(w,p);u()},Ac:function(){return t},rm:function(){return.99>F[0]},Kl:function(){return E},Jl:function(){return h},Gl:function(){return G},Fl:function(){return K},Il:function(){return k},Hl:function(){return m},fd:function(){t&&
f.Ka.h(0)},$k:function(p){d&&D.set(g);p?D.La():D.Xa();x&&D.Ic();A.ed()},ed:function(){x&&(D.G("u69",w.colorTextureUsage),f.ga_.h(0));D.mg("u142",H)},mh:function(){B&&(f.tb.h(0),D.xa("u71",I.ni),D.Ic());D.xa("u107",I.ki);D.G("u143",I.yi)},jh:function(p){B&&!t?f.tb.h(l):t&&(x||e.h(0),f.Ka.h(l),B&&f.tb.h(l+1));B&&D.xa("u71",I.ni);x||t?D.An():p?D.Bn():D.Cn();A.ed();D.xa("u9",F);D.xa("u107",I.ki);D.G("u143",I.yi)},Xk:function(){D.xa("u9",F)},Yk:function(){D.xa("u9",y)},K:function(){x&&f.ga_.remove();t&&
f.Ka.remove();B&&w.paramsTexture!==w.diffuseTexture&&f.tb.remove()}};u(A);return A}}}(),yb=function(){var a=0,c=0,d=0,e=0,l=0,n=0,z=T.gk,q=T.fk,u=T.hk,t=0,x=0,F=null,y=null,w=0,H=0,g=0,f=0,B=0,I=null,k=0,m=0,h=0,E=Date.now(),K=null,G=!1,A=!1,p=!1,v=1,J=!1,Q={m:function(){a=T.bk[da.T()];c=T.ak[da.T()];d=T.$j[da.T()];m=T.ck[da.T()];e=T.Uj[da.T()];l=T.Yj[da.T()];g=T.Zj[da.T()];f=da.L();B=da.Y();t=Math.round(f*a);x=Math.round(B*a);y=wa.instance({width:t,height:x,xc:!1});F=aa.instance({width:t,height:x,
isPot:!1,isLinear:!0});I=aa.instance({width:t,height:x,isPot:!1,isLinear:!0,F:1});G=!0},resize:function(N,ea,ia){v=ia;f=N;B=ea;t=Math.round(N*a);x=Math.round(ea*a);y.resize(t,x);A=!0},V:function(){var N=Math.exp(-(Date.now()-E)/m);k=p?h+(1-N)*(1-h):h*N;w=c+k*(d-c);H=e+(1-k)*(1-e);n=l+(1-k)*(1-l);aa.aa(5);if(A&&G)aa.aa(6),I.resize(t,x),D.set("s0"),D.Pd("u1",6),y.bind(!1,!0),I.o(),y.ze(),F.h(6),Y.l(!0,!0),F.resize(t,x),F.o(),I.h(6),Y.l(!1,!1),D.Pd("u1",0),A=!1;else{b.enable(b.BLEND);b.blendFunc(b.CONSTANT_ALPHA,
b.ONE_MINUS_SRC_ALPHA);N=w/g;b.blendColor(N,N,N,N);b.colorMask(!0,!1,!1,!0);D.set("s84");kb.Oe();D.G("u123",w);m&&(D.G("u124",H),D.G("u116",n));var ea=v*(z+Math.pow(Math.random(),u)*(q-z));D.N("u10",ea/f,ea/B);y.Sg();y.Kc();F.o();ea=2*Math.PI*Math.random();for(var ia=!0,ba=0;ba<g;++ba)1===ba&&(b.blendFunc(b.SRC_ALPHA,b.ONE),D.G("u123",N)),D.G("u122",ea+ba/g*(Math.PI/2)),D.N("u121",(Math.random()-.5)/f,(Math.random()-.5)/B),Y.l(ia,ia),ia=!1;b.disable(b.BLEND);D.set("s85");D.N("u10",1/t,1/x);I.o();
F.h(7);Y.l(!1,!1);b.colorMask(!0,!0,!0,!0)}},h:function(N){I.h(N)},enable:function(){J=!0},Tm:function(){if(p||!J)return!1;K&&clearTimeout(K);Q.Nd();K=setTimeout(Q.wj,400)},Nd:function(){K&&(clearTimeout(K),K=!1);!p&&J&&(window.Hj.disable(),p=!0,E=Date.now(),h=k)},wj:function(){p&&J&&(K&&(clearTimeout(K),K=null),window.Hj.enable(),p=!1,E=Date.now(),h=k)},K:function(){F.remove();I.remove();y.remove()}};Q.Tm();return Q}(),md={instance:function(a){var c=a.ka.L(),d=a.km?!0:!1,e=d?"s67":"s12",l=aa.instance({isFloat:a.ka.ci()&&
xa.ea()&&!d,S:a.ka.di()&&!d,isLinear:!0,isMipmap:!1,isPot:!1,width:c,height:c,F:d?4:3}),n=aa.instance({isFloat:a.ka.ci()&&xa.ea(),S:a.ka.di(),isPot:!0,width:1,height:c/2,F:3});n.o();D.set("s78");a.ka.h(0);Y.l(!0,!0);var z=Math.round(Math.log(c)/Math.log(2));l.en=function(){l.o();D.set(e);D.G("u87",T.Fc);a.ka.h(0);n.h(1);for(var q=0,u=0;u<=z;++u){var t=Math.pow(2,z-u),x=t/2;b.viewport(0,q,c,x);D.N("u85",c/t,1);D.G("u86",Math.min(6/x,.6));q+=t/2;Y.l(0===u,0===u)}};l.hn=l.remove;l.remove=function(){l.hn();
n.remove()};return l}};ua.hb=function(){var a={Ld:45,cg:1,Xb:"../../images/debug/picsou.png",dg:.8,Af:3.14/6,Bf:.314,Cf:4,yf:.5,zf:-.25,vm:1,ta:256,xf:.15},c={Jb:null,kd:null,screen:null},d=!1,e=!1,l=-1,n=null,z=null,q=null,u=Math.PI/180,t=[1,1],x={m:function(F){l=F.width;F={isFloat:xa.ea(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:l,height:l/2,F:3};c.Jb=aa.instance(F);c.kd=aa.instance(F);D.j("s106",[{type:"1i",name:"u150",value:0}]);D.j("s107",[{type:"1i",name:"u155",value:0}]);x.po()},
po:function(){D.j("s107",[{type:"1f",name:"u156",value:a.Af},{type:"1f",name:"u157",value:a.Bf},{type:"1f",name:"u158",value:a.Cf},{type:"1f",name:"u159",value:a.yf},{type:"1f",name:"u160",value:a.zf}])},Jp:function(){return e},sa:function(F){n=F},Gc:function(){z="uniform sampler2D u150;uniform vec2 u151,u152,u6;uniform int u153;uniform float u154,u136;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u6*(c-u151)/u152;float b=1.;if(u153==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u154*g,texture2D(u150,a).rgb*u136,b*g);gl_FragColor=vec4(d,1.);}";
q="uniform sampler2D u155;uniform float u156,u157,u158,u159,u160;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u155,vec2(.5,.5));float d=a.r,j=u158*a.g,k=u159*(a.b+u160),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u156-u157,u156+u157,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}";D.oa("s106",{name:"_",
g:z,i:"u150 u151 u153 u152 u154 u136 u6".split(" "),precision:"highp"});D.oa("s107",{name:"_",g:q,i:"u155 u156 u157 u158 u159 u160".split(" "),precision:"highp"})},rg:function(F,y,w,H,g,f,B){D.N("u151",y,w);D.Pd("u153",H?1:0);D.N("u152",g,g/f);D.ej("u6",B);F.h(0);Y.l(!1,!1)},Lj:function(F){b.viewport(0,0,a.ta,a.ta/2);D.set("s107");F.h(0);Y.l(!1,!1)},Pl:function(){return c.Jb},wk:function(F){x.m({width:a.ta});x.zj(F,!1,1);e=!0},vk:function(){d&&c.screen.Ql()===a.Xb||(d=!1,c.screen=aa.instance({url:a.Xb,
isFloat:!1,R:function(){d=!0}}))},ig:function(F){Object.assign(a,F)},zj:function(F,y,w){var H=a.ta;wa.fa();c.kd.M();D.set("s0");c.Jb.h(0);Y.l(!0,!0);c.Jb.o();D.set("s106");D.G("u154",a.xf);D.G("u136",a.vm);x.rg(F,Math.PI,0,!0,90*u,F.L()/F.Y(),t);d&&(D.G("u136",a.dg),b.viewport(0,0,H/2,H/2),x.rg(c.screen,0,0,!1,2*a.Ld*u,2*a.cg,t),b.viewport(H/2,0,H/2,H/2),x.rg(c.screen,2*Math.PI,0,!1,2*a.Ld*u,2*a.cg,t));b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE);y&&x.Lj(y);D.set("s0");b.blendColor(0,0,0,1-w);b.blendFunc(b.CONSTANT_ALPHA,
b.ONE_MINUS_CONSTANT_ALPHA);c.kd.h(0);Y.l(!1,!1);b.disable(b.BLEND);n.$i(c.Jb)},v:function(){Object.assign(c,{Jb:null,kd:null,screen:null});e=d=!1;l=-1;n=null}};return x}();ua.ib=function(){var a=!1,c=!0,d=null,e=null,l={Gc:function(){da.Z()&&(D.oa("s108",{name:"_",s:"attribute vec3 a0;uniform sampler2D u37;uniform vec2 u38;uniform vec3 u138;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,p);vec2 f=u81*e;vec3 c=u81*o;vec2 t=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,q).rgb+vec3(u75,0.,0.),u78,c);float u=mix(texture2D(u37,r).r,0.,u81);a.z+=u;mat3 v=s(a);vec3 w=mix(u138,u79,c);float x=mix(l,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u77,1.,u81);vec2 j=u76/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u81);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(D,1.));}",
g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u37","u38","u74","u138"].concat(D.$e(),D.af()),I:["a0"],P:[3],ca:!0}),a=!0)},m:function(n){a&&D.j("s108",[{type:"1i",name:"u37",value:1},{type:"3f",name:"u74",value:n.Ca},{type:"1f",name:"u75",value:0},{type:"1f",name:"u83",value:1}].concat(n.Cg))},$a:function(n){e=n;d&&l.Ph()},Za:function(n){d=n;e&&l.Ph()},Ph:function(){da.Z()&&(D.j("s108",[{type:"3f",
name:"u138",value:[d[0]*e,d[1]*e,d[2]*e]}]),D.H())},am:function(n){for(var z=n.width/2,q=n.height/2,u=n.depth,t=n.il,x=n.height/4,F=n.Mk,y=2*F+4,w=[],H=[],g=-z+n.Pa,f=-t-n.Pa,B=z-n.Pa,I=-t-n.Pa,k=0;k<y;++k){var m=0,h=0;0===k?(m=-z,h=-t-u):1<=k&&k<=1+F?(h=(k-1)/F*Math.PI/2,m=g-Math.cos(h)*n.Pa,h=f+Math.sin(h)*n.Pa):k>=2+F&&k<=2+2*F?(h=(k-2-F)/F*Math.PI/2,m=B+Math.sin(h)*n.Pa,h=I+Math.cos(h)*n.Pa):k===y-1&&(m=z,h=-t-u);w.push(m,q+x,h,m,-q+x,h);0!==k&&H.push(2*k,2*k-2,2*k-1,2*k,2*k-1,2*k+1)}return l.instance({ha:w,
U:H})},toggle:function(n){c=n},instance:function(n){var z=Y.instance({ha:n.ha,U:n.U});return{V:function(){a&&c&&(D.set("s108"),z.bind(!0),z.V())}}}};return l}();ua.la=function(){var a={ef:-87,Ul:[85,95],Oh:[90,90],Nh:[85,70],$c:24,Nk:12,Ok:2,Wf:[-80,10],Mh:[40,140],vd:[1,8],Tl:80,vi:[-120,-10],Jm:2,Rd:[0,-15],he:1024,eb:256,Ed:4,Zn:[6,30],ui:1.2};a.Ei=a.Wf;var c=!1,d=!1,e=!1,l=null,n=null,z=null,q=null,u=null,t=null,x=!1,F=!1,y=null,w=null,H=null,g=null,f=.5,B=[{type:"1f",name:"u162",value:1}],I=
null,k=null,m=null,h=null,E=null,K={Ll:function(){return{name:"_",s:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u37;uniform vec2 u38;uniform float u139;uniform vec3 u138;const float o=0.,p=0.;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,r);vec2 f=u81*e;vec3 c=u81*q;vec2 v=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,s).rgb+vec3(u75,0.,0.),u78,c);float w=mix(texture2D(u37,t).r,0.,u81);a.z+=w;mat3 h=u(a);vec3 x=mix(u138,u79,c);float y=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u77,1.,u81);vec2 k=u76/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u81);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",
g:"uniform sampler2D u169,u155;uniform vec2 u85,u170;uniform float u171,u162;varying vec2 vv0;varying float vv1;void main(){vec2 b=u170*u171+u85*vv0;vec4 a=u162*texture2D(u169,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u37 u169 u155 u38 u74 u171 u170 u139 u138 u85 u162".split(" ").concat(D.$e()).concat(D.af()),I:["a0","a2","a1"],P:[3,3,2],precision:"lowp"}},Gc:function(){D.oa("s109",{name:"_",s:"attribute vec3 a0;uniform vec3 u138;uniform vec2 u163,u164;uniform float u139,u165,u166,u167;varying float vv0,vv1;void main(){vec3 a=(a0+u138)*u139;float b=atan(a.x,a.z-u165),d=2.*(a.y-u166)/(u167-u166)-1.;vv0=a0.y;float g=1.-u163.x*u163.x/(u163.y*u163.y),c=u163.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u165);vv1=smoothstep(u164.x,u164.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",
g:"uniform float u168;uniform vec4 u9;varying float vv0,vv1;void main(){float a=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv0),b=min(a,1.)*u168;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u139 u138 u163 u164 u165 u166 u167 u9 u168".split(" "),I:["a0"],P:[3],precision:"highp"});D.oa("s110",K.Ll());D.oa("s111",{name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u10),c=texture2D(u1,vv0-2.*u10),d=texture2D(u1,vv0-u10),f=texture2D(u1,vv0+u10),g=texture2D(u1,vv0+2.*u10),h=texture2D(u1,vv0+3.*u10);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",
i:["u1","u10"],precision:"lowp"});c=!0},m:function(G){if(c){if(void 0===G.cc||!G.cc)return!1;if(d)K.Vi(G);else{q=aa.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.he,height:a.he/4,F:4});var A=a.eb/4,p={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:a.eb,height:A,F:4};z=aa.instance(p);t=aa.instance(p);u=aa.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:a.eb,height:A*a.Ed,F:4});A=.5-.5/G.dc[1];p=.5+.5/G.dc[1];for(var v=a.Nk+1,J=[],Q=[],N=new Float32Array(16*a.$c),ea=new Uint16Array(6*
(a.$c-1)),ia=0,ba=0,O=0,M=0;M<a.$c;++M){var r=2*M/(a.$c-1)-1;r=Math.sign(r)*Math.pow(Math.abs(r),a.Ok);r=Math.PI*(r+1)/2-Math.PI/2;var P=Math.sin(r),V=Math.cos(r),W=Math.sin(r*a.ui),Z=Math.cos(r*a.ui),ka=r/(Math.PI*G.dc[0])+.5,ra=a.Nh[0]*P,Pa=a.Ei[0],ja=a.Nh[1]*V+a.ef,la=ka,Ea=A,U=a.Oh[0]*P,ma=a.Ei[1],na=a.Oh[1]*V+a.ef,Ba=p,La=16*M;N[La]=U;N[La+1]=ma;N[La+2]=na;N[La+3]=W;N[La+4]=0;N[La+5]=Z;N[La+6]=ka;N[La+7]=Ba;N[La+8]=ra;N[La+9]=Pa;N[La+10]=ja;N[La+11]=W;N[La+12]=0;N[La+13]=Z;N[La+14]=la;N[La+15]=
Ea;0!==M&&(la=2*M,Ea=6*(M-1),ea[Ea]=la,ea[Ea+1]=la-1,ea[Ea+2]=la-2,ea[Ea+3]=la,ea[Ea+4]=la+1,ea[Ea+5]=la-1);Ea=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/a.Mh[0]*ra,-Math.PI),Math.PI))),a.Jm);Pa-=a.Tl*Ea;la=a.Mh[1]*Ea;ra-=P*a.vd[0];ja-=V*a.vd[1];U-=P*a.vd[0];na-=V*a.vd[1];P=.001>Ea?2:v;for(V=0;V<P;++V)Ea=V/(P-1),ka=Pa*(1-Ea)+ma*Ea,Ba=a.vi[0],Ba=Math.min(Math.max((ka-Ba)/(a.vi[1]-Ba),0),1),Ba=Ba*Ba*(3-2*Ba),J.push(ra*(1-Ea)+U*Ea,ka,(ja+la*Math.exp(400*-Math.abs(r)*Math.pow(Ea,4)))*(1-Ba)+na*
Ba,W,0,Z,0,0);r=0===M?0:2<P&&2<ba?P-1:1;for(W=1;W<=r;++W)Z=P>ba?P-2:0,Q.push(ia+W+Z,ia+W-1,O+W-1,O+W-1,O+W+(P<ba?ba-2:0),ia+W+Z);ba=P;O=ia;ia+=P}h=Y.instance({ha:new Float32Array(J),U:new Uint16Array(Q)});E=Y.instance({ha:N,U:ea});K.Vi(G);D.j("s111",[{type:"1i",name:"u1",value:0}]);d=!0}}},Vi:function(G){f=G.Un;g=G.Sd;I=[{type:"1i",name:"u37",value:1},{type:"1i",name:"u169",value:0},{type:"1i",name:"u155",value:2},{type:"3f",name:"u74",value:[G.Ca[0],G.Ca[1]-a.Rd[0],G.Ca[2]+a.Rd[1]]},{type:"1f",name:"u171",
value:G.Vn},{type:"2f",name:"u85",value:[1,1/a.Ed]},{type:"2f",name:"u170",value:[0,1/a.Ed]},{type:"1f",name:"u162",value:1}].concat(G.Cg,G.vj);D.j("s110",I)},Zb:function(G){l=G},Yb:function(G){k=G;k.Gb(K.sc)},ei:function(){return e&&null!==k&&null!==m},sc:function(){if(!(e||F&&x)||null===k||null===m)return!1;b.viewport(0,0,a.he,a.he/4);wa.fa();q.o();b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);D.j("s109",[{type:"1f",name:"u165",value:a.ef},{type:"1f",name:"u166",value:a.Wf[0]},{type:"1f",name:"u167",
value:a.Wf[1]},{type:"3f",name:"u138",value:[y[0]+w[0],y[1]+w[1],y[2]+w[2]]},{type:"1f",name:"u168",value:f},{type:"2f",name:"u163",value:a.Ul},{type:"2f",name:"u164",value:a.Zn}]);k.hl();D.set("s1");var G=a.eb/4;b.viewport(0,0,a.eb,G);z.o();q.h(0);q.nd();Y.l(!0,!0);for(var A=0;A<a.Ed;++A)D.set("s111"),0!==A&&b.viewport(0,0,a.eb,G),t.o(),z.h(0),D.N("u10",1/a.eb,0),Y.l(!1,!1),z.o(),t.h(0),D.N("u10",0,1/G),Y.l(!1,!1),a.Pk&&b.colorMask(0===A,1===A,2===A,!0),D.set("s1"),u.o(),z.h(0),b.viewport(0,A*G,
a.eb,G),Y.l(!1,!1),a.Pk&&b.colorMask(!0,!0,!0,!0);return e=!0},V:function(){K.ei()&&(m.bind(!1,!1),n.o(),b.clearColor(0,0,0,0),b.enable(b.DEPTH_TEST),b.depthMask(!0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),D.set("s110"),l.h(1),u.h(0),h.bind(!0),h.V(),E.bind(!0),E.V(),b.disable(b.DEPTH_TEST),b.depthMask(!1))},add:function(){K.ei()&&(b.enable(b.BLEND),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA),n.h(0),Y.l(!1,!1),b.disable(b.BLEND))},fg:function(G,A){m=wa.instance({width:G,height:A,xc:!0});n=aa.instance({width:G,
height:A,isFloat:!1,isPot:!1});K.sc()},Za:function(G,A,p){G||(G=y,A=w,p=H);D.j("s110",[{type:"3f",name:"u138",value:[p[0]+g[0],p[1]+g[1]-a.Rd[0],p[2]+g[2]+a.Rd[1]]}]);y=G;w=A;H=p;F=!0;!e&&x&&K.sc();D.H()},$a:function(G,A){D.j("s109",[{type:"1f",name:"u139",value:G}]);D.j("s110",[{type:"1f",name:"u139",value:A}]);x=!0;!e&&F&&K.sc();D.H()},jg:function(G){D.j("s110",[{type:"1f",name:"u75",value:G}]);D.H()},wb:function(G){G&&(k=G);K.sc()},kg:function(G,A){B[0].value=1-G;D.j("s110",B);D.j("s110",A)},K:function(){},
v:function(){e=d=c=!1;t=u=q=z=n=l=null}};return K}();ua.ra=function(){var a=!1,c=null,d=0,e=0,l=0,n=[{type:"1f",name:"u162",value:1}],z=null,q=null,u=null,t={Gc:function(){D.oa("s112",{name:"_",s:"attribute vec3 a0;uniform vec2 u172,u173;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u173)/u172;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",g:"uniform vec2 u174;uniform float u175,u176,u177;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u175,u176),a=vv0-b,c=u177*a,d=(c-a)*u174;gl_FragColor=vec4(d,0.,1.);}",
i:"u172 u173 u175 u176 u177 u174".split(" "),I:["a0"],P:[3],precision:"highp"});D.oa("s113",{name:"_",s:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u37;uniform vec3 u138;uniform vec2 u38,u172,u173;uniform float u139;const float n=0.,o=0.;const vec2 e=vec2(1.);const vec3 p=vec3(1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u72;uniform vec3 u74,u78,u79,u80;uniform float u73,u81,u82,u75,u76,u77,u83;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u37,q);vec2 f=u81*e;vec3 c=u81*p;vec2 u=mix(d.a*u38,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u37,r).rgb+vec3(u75,0.,0.),u78,c);float v=mix(texture2D(u37,s).r,0.,u81);a.z+=v;mat3 w=t(a);vec3 x=mix(u138,u79,c);float y=mix(u139,u82,u81);vec3 b=mix(u74,u80,c);b.x+=u73*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u77,1.,u81);vec2 j=u76/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u81);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u72*(vec4(u83*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u173)/u172,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",
g:"uniform sampler2D u178,u179;uniform float u162;varying vec2 vv0,vv1;void main(){vec2 a=u162*texture2D(u178,vv0).rg;gl_FragColor=texture2D(u179,a+vv1);}",i:"u162 u37 u178 u179 u172 u173 u38 u74 u139 u138".split(" ").concat(D.$e(),D.af()),I:["a0"],P:[3],precision:"lowp"});a=!0},m:function(x){if(a){if(void 0===x.cc||!x.ad)return!1;q=aa.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,F:4});u=wa.instance({width:256,height:128});D.j("s113",[{type:"1i",name:"u37",value:1},{type:"1i",
name:"u178",value:2},{type:"1i",name:"u179",value:0},{type:"3f",name:"u74",value:x.Ca},{type:"1f",name:"u162",value:1}].concat(x.vj,x.Cg));e=x.He;l=x.Ge;d=x.Ie}},Zb:function(x){c=x},Yb:function(x){z=x;z.Gb(t.Ce)},Ce:function(){b.viewport(0,0,256,128);u.o();q.o();var x=z.Ml(),F=z.Nl(),y=[{type:"2f",name:"u172",value:[x,F]},{type:"2f",name:"u173",value:[z.sl(),z.tl()]}];D.j("s112",y.concat([{type:"1f",name:"u175",value:e},{type:"1f",name:"u176",value:l},{type:"1f",name:"u177",value:d},{type:"2f",name:"u174",
value:[1/x,-1/F]}]));z.ih();D.j("s113",y)},V:function(){D.set("s113");c.h(1);q.h(2);z.ih()},Za:function(x){D.j("s113",[{type:"3f",name:"u138",value:x}]);D.H()},$a:function(x){D.j("s113",[{type:"1f",name:"u139",value:x}]);D.H()},jg:function(x){D.j("s113",[{type:"1f",name:"u75",value:x}]);D.H()},Tn:function(x){d=x;t.Ce();D.H();ta.animate(Date.now())},wb:function(x){x&&(z=x);t.Ce()},kg:function(x,F){n.u162=1-x;D.j("s113",n);D.j("s113",F)},K:function(){}};return t}();ua.kc=function(){var a=[0,-.5],c=
!1,d=!1,e=null,l=null,n=null,z=null,q=null,u=-1,t=-1;return{Gc:function(){D.oa("s114",{name:"_",s:"attribute vec2 a0;uniform sampler2D u37;uniform vec2 u38,u7;uniform float u6;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u37,vec2(.25,.5));vec2 b=a.a*u38,c=2.*a.gb-f,d=u7+a0*u6;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",g:"uniform sampler2D u180;varying vec2 vv0;void main(){gl_FragColor=texture2D(u180,vv0);}",i:["u37","u180","u38","u7","u6"],precision:"lowp"});
D.oa("s115",{name:"_",g:"uniform sampler2D u2,u181,u182;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u182,vv0).rgb,c=texture2D(u181,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u182","u181"],precision:"lowp"});c=!0},m:function(x){c&&(q=aa.instance({isFloat:!1,isPot:!0,url:x.ue,R:function(){d=!0}}),D.j("s114",[{type:"1i",name:"u37",value:1},{type:"1i",name:"u180",value:0},{type:"2f",name:"u38",value:x.Ej},{type:"2f",name:"u7",value:a},
{type:"1f",name:"u6",value:3.8}]),D.j("s115",[{type:"1i",name:"u181",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u182",value:2}]))},Zb:function(x){l=x},fg:function(x,F){var y={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:x,height:F,F:4};u=2/x;t=2/F;n=aa.instance(y);z=aa.instance(y);e=wa.instance({width:x,height:F})},V:function(x,F){if(d){e.bind(!1,!0);D.set("s77");for(var y=0;2>y;++y){D.N("u10",u,0);n.o();0!==y&&z.h(0);var w=0===y&&!T.da;Y.l(w,w);D.N("u10",0,t);z.o();n.h(0);Y.l(!1,
!1)}D.set("s114");l.h(1);q.h(0);n.o();b.clearColor(1,0,0,1);b.clear(b.COLOR_BUFFER_BIT);Y.l(!1,!1);D.set("s115");F.o();z.h(0);n.h(1);x.h(2);Y.l(!1,!1)}},K:function(){}}}();var Fc=function(){var a={instance:function(c){var d=c.pi,e=c.oi,l=c.Fe,n=c.background?c.background:aa.Jh(),z=c.Ua,q={scale:1,offsetX:0,offsetY:0},u=null;c.Gf&&(q.scale=c.Gf.scale,q.offsetY=c.Gf.offsetY);return{Fh:function(){return z},yh:function(){return n},set:function(){u=db.Cl();db.aj(q);db.$d();db.ae();ta.Ui(l,n,!1,!1)},H:function(){db.aj(u)},
Hc:function(){return{modelURL:d,materialsURLs:e,background:n.Hc(!1),Fe:l.Hc(!1),Ua:z.Hc(!0)}},Qo:function(t){n.h(t)}}},Nc:function(c,d,e){function l(){if(3===++u&&d){var t=a.instance({pi:c.modelURL,oi:c.materialsURLs,background:n,Fe:z,Ua:q});d(t)}}var n=null,z=null,q=null,u=0;aa.Nc(c.background,function(t){!t&&e?e():(n=t,l())});aa.Nc(c.dataState,function(t){!t&&e?e():(z=t,l())});aa.Nc(c.light,function(t){!t&&e?e():(q=t,l())})}};return a}();return Oa||window.JEELIZVTO}();(function(X,Aa){"function"===
typeof define&&define.amd?define(Aa):"object"===typeof exports?module.exports=Aa():X.ResizeSensor=Aa()})("undefined"!==typeof window?window:this,function(){function X(Fa,Ta){var Ra=Object.prototype.toString.call(Fa),Gb=0,Da=Fa.length;if("[object Array]"===Ra||"[object NodeList]"===Ra||"[object HTMLCollection]"===Ra||"[object Object]"===Ra||"undefined"!==typeof jQuery&&Fa instanceof jQuery||"undefined"!==typeof Elements&&Fa instanceof Elements)for(;Gb<Da;Gb++)Ta(Fa[Gb]);else Ta(Fa)}if("undefined"===
typeof window)return null;var Aa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(Fa){return window.setTimeout(Fa,20)},Ha=function(Fa,Ta){function Ra(){var Da=[];this.add=function(wb){Da.push(wb)};var $a,pb;this.call=function(){$a=0;for(pb=Da.length;$a<pb;$a++)Da[$a].call()};this.remove=function(wb){var qb=[];$a=0;for(pb=Da.length;$a<pb;$a++)Da[$a]!==wb&&qb.push(Da[$a]);Da=qb};this.length=function(){return Da.length}}function Gb(Da,$a){if(Da)if(Da.resizedAttached)Da.resizedAttached.add($a);
else{Da.resizedAttached=new Ra;Da.resizedAttached.add($a);Da.resizeSensor=document.createElement("div");Da.resizeSensor.className="resize-sensor";Da.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";Da.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
Da.appendChild(Da.resizeSensor);Da.resizeSensor.offsetParent!==Da&&(Da.style.position="relative");var pb=Da.resizeSensor.childNodes[0],wb=pb.childNodes[0],qb=Da.resizeSensor.childNodes[1],hc,Bb,Nb,Vb,Wb=Da.offsetWidth,Xb=Da.offsetHeight,Yb=function(){wb.style.width="100000px";wb.style.height="100000px";pb.scrollLeft=1E5;pb.scrollTop=1E5;qb.scrollLeft=1E5;qb.scrollTop=1E5};Yb();var ic=function(){Bb=0;hc&&(Wb=Nb,Xb=Vb,Da.resizedAttached&&Da.resizedAttached.call())};$a=function(){Nb=Da.offsetWidth;Vb=
Da.offsetHeight;(hc=Nb!=Wb||Vb!=Xb)&&!Bb&&(Bb=Aa(ic));Yb()};var jc=function(Zb,Ib,kc){Zb.attachEvent?Zb.attachEvent("on"+Ib,kc):Zb.addEventListener(Ib,kc)};jc(pb,"scroll",$a);jc(qb,"scroll",$a)}}X(Fa,function(Da){Gb(Da,Ta)});this.detach=function(Da){Ha.detach(Fa,Da)}};Ha.detach=function(Fa,Ta){X(Fa,function(Ra){if(Ra){if(Ra.resizedAttached&&"function"==typeof Ta&&(Ra.resizedAttached.remove(Ta),Ra.resizedAttached.length()))return;Ra.resizeSensor&&(Ra.contains(Ra.resizeSensor)&&Ra.removeChild(Ra.resizeSensor),
delete Ra.resizeSensor,delete Ra.resizedAttached)}})};return Ha});var gc={glassesDBURL:"https://glassesdbcached.jeeliz.com/sku/",appstaticURL:"https://appstatic.jeeliz.com/"},gb={notLoaded:-1,init:0,realtime:2,loadingModel:3,paused:4},Ka={isRT:!0,sku:void 0,materialsReplacements:"",mode:gb.notLoaded},cc=-1,dc=-1,ec=-1,fc=-1,Sc={cv:null,container:null,adjust:null,adjustNotice:null,adjustExit:null,loading:null,trackIframe:null},sa=Object.assign({},Sc),nd={ADJUST_START:null,ADJUST_END:null,LOADING_START:null,
LOADING_END:null},Bc=null,Mb={enabled:!1,callback:null,interval:1E3},sc={error:!1},bc=null,Ub=null,vb={start:function(X){console.log("INFO in JeelizVTOWidget.js: start()");if(Ka.mode!==gb.notLoaded)vb.resume();else{qa();if(X.settings)for(var Aa in X.settings)gc[Aa]=X.settings[Aa];X.NNCPath&&Oa.set_NNCPath(X.NNCPath);X.faceDetectionCallback&&(Mb.enabled=!0,Mb.callback=X.faceDetectionCallback,Mb.interval="undefined"===typeof X.faceDetectionInterval?1E3:X.faceDetectionInterval);Bc=Object.assign({},nd,
X.callbacks||{});sa.container=X.placeHolder||document.getElementById("JeelizVTOWidget");if(!sa.container)throw Error("Cannot find a <div> element with id=JeelizVTOWidget to append the VTO widget.");sa.cv=X.canvas||document.getElementById("JeelizVTOWidgetCanvas");sa.cv||(sa.cv=document.createElement("canvas"),sa.container.appendChild(sa.cv));sa.loading=document.getElementById("JeelizVTOWidgetLoading");X.onError&&(sc.error=X.onError);Ab();if(!zb(sa.container))return Promise.reject("PLACEHOLDER_NULL_WIDTH");
if(!oa(sa.container))return Promise.reject("PLACEHOLDER_NULL_HEIGHT");fb();new ResizeSensor(sa.container,function(Fa){fb()});(X.searchImageMask||X.searchImageColor||X.searchImageRotationSpeed)&&Oa.set_loading(X.searchImageMask,X.searchImageColor,X.searchImageRotationSpeed);X.callbackReady&&(Ub=X.callbackReady);Ka.mode=gb.init;var Ha="undefined"===typeof X.assetsPath?gc.appstaticURL+"jeefit/":X.assetsPath;"undefined"!==typeof X.catalog&&(bc=X.catalog);if(X.onWebcamGet)Oa.onWebcamGet(X.onWebcamGet);
return new Promise(function(Fa,Ta){Oa.init(Ha,pa,function(){Ka.isRT=!1;Wa("NO_ERROR_LABEL");Ta()},sa.cv);var Ra=X.sku?X.sku:null;Oa.onHalfLoad(function(){!1===X.isShadow&&Oa.switch_shadow(!1);vb.load(Ra,Fa,X.materialsReplacements)})})}},destroy:function(){return Oa.destroy().then(function(){Ka.mode=gb.notLoaded;Ka.sku=void 0;Ka.materialsReplacements="";Ub=bc=null;Object.assign(sa,Sc)})},pause:function(X){if(!Ka.isRT)return Promise.reject();Ka.mode=gb.paused;var Aa=Oa.switch_sleep(!0,X);return X?Aa:
Promise.resolve(Aa)},resume:function(X){if(!Ka.isRT)return Promise.reject();Ka.mode=gb.realtime;var Aa=Oa.switch_sleep(!1,X);return X?Aa:Promise.resolve(Aa)},set_videoRotation:function(X){Ka.isRT&&Oa.set_videoRotation(X)},set_videoSizes:function(X,Aa,Ha,Fa,Ta,Ra){Ka.isRT&&Oa.set_videoSizes(X,Aa,Ha,Fa,Ta,Ra)},resize:function(){fb()},set_scale:function(X){Oa.set_scale(X)},capture_image:function(X,Aa,Ha){Oa&&Oa.ready?Oa.capture_image(X,Aa,Ha,!1):Aa(!1)},toggle_loading:function(X){X?(ya(sa.loading),Fb("LOADING_START")):
(Ma(sa.loading),Fb("LOADING_END"))},load_modelStandalone:function(X,Aa){if(!Ka.isRT)throw Error("Loading standalone models is only available in RT mode");Ka.mode===gb.paused&&vb.resume();Ka.mode=gb.loadingModel;var Ha="undef";"string"===typeof X?(Ha=X,za(X).then(function(Fa){Oa.set_modelStandalone(Fa,Aa,Ha)}).catch(Ja)):(Ha="RANDOM_SKU_"+Date.now().toString(),Oa.set_modelStandalone(X,Aa,Ha));Ka.sku=Ha;Ka.materialsReplacements=""},load:function(X,Aa,Ha){vb.toggle_loading(!0);Ka.isRT&&vb.load_RT(X,
Aa,Ha)},load_RT:function(X,Aa,Ha){var Fa=Ha?JSON.stringify(Ha):"";X===Ka.sku&&Fa===Ka.materialsReplacements?vb.toggle_loading(!1):(Ka.sku=X,Ka.materialsReplacements=Fa,Ka.mode=gb.loadingModel,Ka.mode===gb.paused&&vb.resume(),X?bc&&bc[X]?Kb(X,bc[X],Aa,Ha):za(gc.glassesDBURL+X).then(function(Ta){if(Ta.error)return Ja();Kb(X,Ta.intrinsic,Aa,Ha)}).catch(Ja):(Ka.mode=gb.realtime,vb.toggle_loading(!1),Oa.start_rendering(),Aa&&Aa()))},enter_adjustMode:Lb,exit_adjustMode:lb,set_LUT:function(X){return Oa&&
Oa.ready?Oa.set_LUT(X||null):Promise.reject("NOT_READY")}};return vb}();window.JEELIZVTO=JEELIZVTO;
window.JEELIZVTOWIDGET={VERSION:"2.3.8",start:JeelizVTOWidget.start,pause:JeelizVTOWidget.pause,resume:JeelizVTOWidget.resume,load:JeelizVTOWidget.load,load_modelStandalone:JeelizVTOWidget.load_modelStandalone,capture_image:JeelizVTOWidget.capture_image,set_videoRotation:JeelizVTOWidget.set_videoRotation,resize:JeelizVTOWidget.resize,set_scale:JeelizVTOWidget.set_scale,set_videoSizes:JeelizVTOWidget.set_videoSizes,destroy:JeelizVTOWidget.destroy,enter_adjustMode:JeelizVTOWidget.enter_adjustMode,exit_adjustMode:JeelizVTOWidget.exit_adjustMode,
set_LUT:JeelizVTOWidget.set_LUT};
